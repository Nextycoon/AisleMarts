import * as Linking from 'expo-linking';export type DeepLink={type:'story'|'product'|'unknown',id?:string};
export function parseDeepLink(url:string):DeepLink{try{const{hostname,path}=Linking.parse(url);const parts=(path||'').split('/').filter(Boolean);if(parts[0]==='story'&&parts[1])return{type:'story',id:parts[1]};if(parts[0]==='product'&&parts[1])return{type:'product',id:parts[1]};if(hostname&&parts[0]==='app'&&parts[1]==='story'&&parts[2])return{type:'story',id:parts[2]};if(hostname&&parts[0]==='app'&&parts[1]==='product'&&parts[2])return{type:'product',id:parts[2]};}catch{}return{type:'unknown'};}
