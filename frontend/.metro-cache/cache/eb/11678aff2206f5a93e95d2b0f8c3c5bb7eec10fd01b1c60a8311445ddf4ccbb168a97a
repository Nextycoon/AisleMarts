{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.fetchCreators = fetchCreators;\n  exports.fetchStories = fetchStories;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  // Use the backend URL from environment\n  const getBaseUrl = () => {\n    const backendUrl = Constants.default.expoConfig?.extra?.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n    return backendUrl;\n  };\n  async function fetchCreators() {\n    const base = getBaseUrl();\n    const res = await fetch(`${base}/api/creators`);\n    if (!res.ok) throw new Error('creators fetch failed');\n    return res.json();\n  }\n  async function fetchStories(cursor, limit = 24) {\n    const base = getBaseUrl();\n    const url = new URL(`${base}/api/stories`);\n    if (cursor) url.searchParams.set('cursor', cursor);\n    url.searchParams.set('limit', String(limit));\n    const res = await fetch(url.toString());\n    if (!res.ok) throw new Error('stories fetch failed');\n    return res.json();\n  }\n});","lineCount":37,"map":[[12,2,10,0,"exports"],[12,9,10,0],[12,10,10,0,"fetchCreators"],[12,23,10,0],[12,26,10,0,"fetchCreators"],[12,39,10,0],[13,2,17,0,"exports"],[13,9,17,0],[13,10,17,0,"fetchStories"],[13,22,17,0],[13,25,17,0,"fetchStories"],[13,37,17,0],[14,2,25,1],[14,6,25,1,"_expoVirtualEnv"],[14,21,25,1],[14,24,25,1,"require"],[14,31,25,1],[14,32,25,1,"_dependencyMap"],[14,46,25,1],[15,2,1,0],[15,6,1,0,"_expoConstants"],[15,20,1,0],[15,23,1,0,"require"],[15,30,1,0],[15,31,1,0,"_dependencyMap"],[15,45,1,0],[16,2,1,0],[16,6,1,0,"Constants"],[16,15,1,0],[16,18,1,0,"_interopDefault"],[16,33,1,0],[16,34,1,0,"_expoConstants"],[16,48,1,0],[17,2,4,0],[18,2,5,0],[18,8,5,6,"getBaseUrl"],[18,18,5,16],[18,21,5,19,"getBaseUrl"],[18,22,5,19],[18,27,5,25],[19,4,6,2],[19,10,6,8,"backendUrl"],[19,20,6,18],[19,23,6,21,"Constants"],[19,32,6,30],[19,33,6,30,"default"],[19,40,6,30],[19,41,6,31,"expoConfig"],[19,51,6,41],[19,53,6,43,"extra"],[19,58,6,48],[19,60,6,50,"backendUrl"],[19,70,6,60],[19,74,6,60,"_expoVirtualEnv"],[19,89,6,60],[19,90,6,60,"env"],[19,93,6,60],[19,94,6,60,"EXPO_PUBLIC_BACKEND_URL"],[19,117,6,99],[19,121,6,103],[19,144,6,126],[20,4,7,2],[20,11,7,9,"backendUrl"],[20,21,7,19],[21,2,8,0],[21,3,8,1],[22,2,10,7],[22,17,10,22,"fetchCreators"],[22,30,10,35,"fetchCreators"],[22,31,10,35],[22,33,10,58],[23,4,11,2],[23,10,11,8,"base"],[23,14,11,12],[23,17,11,15,"getBaseUrl"],[23,27,11,25],[23,28,11,26],[23,29,11,27],[24,4,12,2],[24,10,12,8,"res"],[24,13,12,11],[24,16,12,14],[24,22,12,20,"fetch"],[24,27,12,25],[24,28,12,26],[24,31,12,29,"base"],[24,35,12,33],[24,50,12,48],[24,51,12,49],[25,4,13,2],[25,8,13,6],[25,9,13,7,"res"],[25,12,13,10],[25,13,13,11,"ok"],[25,15,13,13],[25,17,13,15],[25,23,13,21],[25,27,13,25,"Error"],[25,32,13,30],[25,33,13,31],[25,56,13,54],[25,57,13,55],[26,4,14,2],[26,11,14,9,"res"],[26,14,14,12],[26,15,14,13,"json"],[26,19,14,17],[26,20,14,18],[26,21,14,19],[27,2,15,0],[28,2,17,7],[28,17,17,22,"fetchStories"],[28,29,17,34,"fetchStories"],[28,30,17,35,"cursor"],[28,36,17,57],[28,38,17,59,"limit"],[28,43,17,64],[28,46,17,67],[28,48,17,69],[28,50,17,94],[29,4,18,2],[29,10,18,8,"base"],[29,14,18,12],[29,17,18,15,"getBaseUrl"],[29,27,18,25],[29,28,18,26],[29,29,18,27],[30,4,19,2],[30,10,19,8,"url"],[30,13,19,11],[30,16,19,14],[30,20,19,18,"URL"],[30,23,19,21],[30,24,19,22],[30,27,19,25,"base"],[30,31,19,29],[30,45,19,43],[30,46,19,44],[31,4,20,2],[31,8,20,6,"cursor"],[31,14,20,12],[31,16,20,14,"url"],[31,19,20,17],[31,20,20,18,"searchParams"],[31,32,20,30],[31,33,20,31,"set"],[31,36,20,34],[31,37,20,35],[31,45,20,43],[31,47,20,45,"cursor"],[31,53,20,51],[31,54,20,52],[32,4,21,2,"url"],[32,7,21,5],[32,8,21,6,"searchParams"],[32,20,21,18],[32,21,21,19,"set"],[32,24,21,22],[32,25,21,23],[32,32,21,30],[32,34,21,32,"String"],[32,40,21,38],[32,41,21,39,"limit"],[32,46,21,44],[32,47,21,45],[32,48,21,46],[33,4,22,2],[33,10,22,8,"res"],[33,13,22,11],[33,16,22,14],[33,22,22,20,"fetch"],[33,27,22,25],[33,28,22,26,"url"],[33,31,22,29],[33,32,22,30,"toString"],[33,40,22,38],[33,41,22,39],[33,42,22,40],[33,43,22,41],[34,4,23,2],[34,8,23,6],[34,9,23,7,"res"],[34,12,23,10],[34,13,23,11,"ok"],[34,15,23,13],[34,17,23,15],[34,23,23,21],[34,27,23,25,"Error"],[34,32,23,30],[34,33,23,31],[34,55,23,53],[34,56,23,54],[35,4,24,2],[35,11,24,9,"res"],[35,14,24,12],[35,15,24,13,"json"],[35,19,24,17],[35,20,24,18],[35,21,24,19],[36,2,25,0],[37,0,25,1],[37,3]],"functionMap":{"names":["<global>","getBaseUrl","fetchCreators","fetchStories"],"mappings":"AAA;mBCI;CDG;OEE;CFK;OGE"},"hasCjsExports":false},"type":"js/module"}]}