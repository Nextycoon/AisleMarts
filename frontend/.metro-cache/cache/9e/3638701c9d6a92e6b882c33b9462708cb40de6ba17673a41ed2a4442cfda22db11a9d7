{"dependencies":[{"name":"../config/features","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":100},"end":{"line":6,"column":66,"index":166}}],"key":"n6cBZYxAHKr5+I3G4s3/2PvN2mY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getTimeOfDay = exports.getSpotlightFeature = exports.getPersonalizedGreeting = exports.getLocationContext = exports.getGreeting = exports.getActivityGreeting = exports.SPOTLIGHT_FEATURES = exports.SPOTLIGHT_CONFIG = void 0;\n  var _features = require(_dependencyMap[0], \"../config/features\");\n  /**\n   * Auto-Personalized Greeting System\n   * Dynamic time-based greetings with locale awareness\n   */\n\n  const getGreeting = (now = new Date()) => {\n    const hour = now.getHours();\n    if (hour < 5) return \"Good night\";\n    if (hour < 12) return \"Good morning\";\n    if (hour < 17) return \"Good afternoon\";\n    if (hour < 22) return \"Good evening\";\n    return \"Good night\";\n  };\n  exports.getGreeting = getGreeting;\n  const getTimeOfDay = (now = new Date()) => {\n    const hour = now.getHours();\n    if (hour < 5) return \"night\";\n    if (hour < 12) return \"morning\";\n    if (hour < 17) return \"afternoon\";\n    if (hour < 22) return \"evening\";\n    return \"night\";\n  };\n  exports.getTimeOfDay = getTimeOfDay;\n  const getLocationContext = () => {\n    // In production, get from user location or settings\n    // For now, default to Kenya context\n    return {\n      city: \"Nairobi\",\n      country: \"Kenya\",\n      flag: \"ðŸ‡°ðŸ‡ª\",\n      timezone: \"EAT\"\n    };\n  };\n  exports.getLocationContext = getLocationContext;\n  const getPersonalizedGreeting = (now = new Date()) => {\n    const greeting = getGreeting(now);\n    const location = getLocationContext();\n    return {\n      greeting,\n      location: `${location.city}, ${location.country}`,\n      flag: location.flag,\n      timeOfDay: getTimeOfDay(now),\n      fullGreeting: `${greeting}${location.city ? `, ${location.city}` : \"\"}`\n    };\n  };\n\n  // Utility for activity-based greetings\n  exports.getPersonalizedGreeting = getPersonalizedGreeting;\n  const getActivityGreeting = (now = new Date()) => {\n    const hour = now.getHours();\n    if (hour < 6) return \"Still awake?\";\n    if (hour < 9) return \"Early bird!\";\n    if (hour < 12) return \"Ready to shop?\";\n    if (hour < 14) return \"Lunch break?\";\n    if (hour < 18) return \"Afternoon browsing?\";\n    if (hour < 21) return \"Evening shopping?\";\n    return \"Night owl mode\";\n  };\n\n  // Spotlight Features for Home rotation\n  exports.getActivityGreeting = getActivityGreeting;\n  const SPOTLIGHT_FEATURES = exports.SPOTLIGHT_FEATURES = [\"nearby\",\n  // Phase 3 hero feature\n  \"ai_assistant\",\n  // New AI capability  \n  \"rfqs\",\n  // B2B growth driver\n  \"discover\" // Core search experience\n  ];\n\n  // Spotlight experiment configuration\n  const SPOTLIGHT_CONFIG = exports.SPOTLIGHT_CONFIG = {\n    experimentKey: \"home_spotlight_v1\",\n    rotationInterval: 30000,\n    // 30 seconds per feature\n    enableAnalytics: true\n  };\n\n  // Get spotlight feature for current session\n  const getSpotlightFeature = sessionId => {\n    if (!sessionId) return null;\n\n    // Use session ID to determine which feature to spotlight\n    const index = Math.abs(sessionId.charCodeAt(0)) % SPOTLIGHT_FEATURES.length;\n    const featureKey = SPOTLIGHT_FEATURES[index];\n    return (0, _features.getFeatureByKey)(featureKey) || null;\n  };\n  exports.getSpotlightFeature = getSpotlightFeature;\n});","lineCount":95,"map":[[6,2,6,0],[6,6,6,0,"_features"],[6,15,6,0],[6,18,6,0,"require"],[6,25,6,0],[6,26,6,0,"_dependencyMap"],[6,40,6,0],[7,2,1,0],[8,0,2,0],[9,0,3,0],[10,0,4,0],[12,2,8,7],[12,8,8,13,"getGreeting"],[12,19,8,24],[12,22,8,27,"getGreeting"],[12,23,8,28,"now"],[12,26,8,31],[12,29,8,34],[12,33,8,38,"Date"],[12,37,8,42],[12,38,8,43],[12,39,8,44],[12,44,8,49],[13,4,9,2],[13,10,9,8,"hour"],[13,14,9,12],[13,17,9,15,"now"],[13,20,9,18],[13,21,9,19,"getHours"],[13,29,9,27],[13,30,9,28],[13,31,9,29],[14,4,11,2],[14,8,11,6,"hour"],[14,12,11,10],[14,15,11,13],[14,16,11,14],[14,18,11,16],[14,25,11,23],[14,37,11,35],[15,4,12,2],[15,8,12,6,"hour"],[15,12,12,10],[15,15,12,13],[15,17,12,15],[15,19,12,17],[15,26,12,24],[15,40,12,38],[16,4,13,2],[16,8,13,6,"hour"],[16,12,13,10],[16,15,13,13],[16,17,13,15],[16,19,13,17],[16,26,13,24],[16,42,13,40],[17,4,14,2],[17,8,14,6,"hour"],[17,12,14,10],[17,15,14,13],[17,17,14,15],[17,19,14,17],[17,26,14,24],[17,40,14,38],[18,4,15,2],[18,11,15,9],[18,23,15,21],[19,2,16,0],[19,3,16,1],[20,2,16,2,"exports"],[20,9,16,2],[20,10,16,2,"getGreeting"],[20,21,16,2],[20,24,16,2,"getGreeting"],[20,35,16,2],[21,2,18,7],[21,8,18,13,"getTimeOfDay"],[21,20,18,25],[21,23,18,28,"getTimeOfDay"],[21,24,18,29,"now"],[21,27,18,32],[21,30,18,35],[21,34,18,39,"Date"],[21,38,18,43],[21,39,18,44],[21,40,18,45],[21,45,18,50],[22,4,19,2],[22,10,19,8,"hour"],[22,14,19,12],[22,17,19,15,"now"],[22,20,19,18],[22,21,19,19,"getHours"],[22,29,19,27],[22,30,19,28],[22,31,19,29],[23,4,21,2],[23,8,21,6,"hour"],[23,12,21,10],[23,15,21,13],[23,16,21,14],[23,18,21,16],[23,25,21,23],[23,32,21,30],[24,4,22,2],[24,8,22,6,"hour"],[24,12,22,10],[24,15,22,13],[24,17,22,15],[24,19,22,17],[24,26,22,24],[24,35,22,33],[25,4,23,2],[25,8,23,6,"hour"],[25,12,23,10],[25,15,23,13],[25,17,23,15],[25,19,23,17],[25,26,23,24],[25,37,23,35],[26,4,24,2],[26,8,24,6,"hour"],[26,12,24,10],[26,15,24,13],[26,17,24,15],[26,19,24,17],[26,26,24,24],[26,35,24,33],[27,4,25,2],[27,11,25,9],[27,18,25,16],[28,2,26,0],[28,3,26,1],[29,2,26,2,"exports"],[29,9,26,2],[29,10,26,2,"getTimeOfDay"],[29,22,26,2],[29,25,26,2,"getTimeOfDay"],[29,37,26,2],[30,2,28,7],[30,8,28,13,"getLocationContext"],[30,26,28,31],[30,29,28,34,"getLocationContext"],[30,30,28,34],[30,35,28,40],[31,4,29,2],[32,4,30,2],[33,4,31,2],[33,11,31,9],[34,6,32,4,"city"],[34,10,32,8],[34,12,32,10],[34,21,32,19],[35,6,33,4,"country"],[35,13,33,11],[35,15,33,13],[35,22,33,20],[36,6,34,4,"flag"],[36,10,34,8],[36,12,34,10],[36,18,34,16],[37,6,35,4,"timezone"],[37,14,35,12],[37,16,35,14],[38,4,36,2],[38,5,36,3],[39,2,37,0],[39,3,37,1],[40,2,37,2,"exports"],[40,9,37,2],[40,10,37,2,"getLocationContext"],[40,28,37,2],[40,31,37,2,"getLocationContext"],[40,49,37,2],[41,2,39,7],[41,8,39,13,"getPersonalizedGreeting"],[41,31,39,36],[41,34,39,39,"getPersonalizedGreeting"],[41,35,39,40,"now"],[41,38,39,43],[41,41,39,46],[41,45,39,50,"Date"],[41,49,39,54],[41,50,39,55],[41,51,39,56],[41,56,39,61],[42,4,40,2],[42,10,40,8,"greeting"],[42,18,40,16],[42,21,40,19,"getGreeting"],[42,32,40,30],[42,33,40,31,"now"],[42,36,40,34],[42,37,40,35],[43,4,41,2],[43,10,41,8,"location"],[43,18,41,16],[43,21,41,19,"getLocationContext"],[43,39,41,37],[43,40,41,38],[43,41,41,39],[44,4,43,2],[44,11,43,9],[45,6,44,4,"greeting"],[45,14,44,12],[46,6,45,4,"location"],[46,14,45,12],[46,16,45,14],[46,19,45,17,"location"],[46,27,45,25],[46,28,45,26,"city"],[46,32,45,30],[46,37,45,35,"location"],[46,45,45,43],[46,46,45,44,"country"],[46,53,45,51],[46,55,45,53],[47,6,46,4,"flag"],[47,10,46,8],[47,12,46,10,"location"],[47,20,46,18],[47,21,46,19,"flag"],[47,25,46,23],[48,6,47,4,"timeOfDay"],[48,15,47,13],[48,17,47,15,"getTimeOfDay"],[48,29,47,27],[48,30,47,28,"now"],[48,33,47,31],[48,34,47,32],[49,6,48,4,"fullGreeting"],[49,18,48,16],[49,20,48,18],[49,23,48,21,"greeting"],[49,31,48,29],[49,34,48,32,"location"],[49,42,48,40],[49,43,48,41,"city"],[49,47,48,45],[49,50,48,48],[49,55,48,53,"location"],[49,63,48,61],[49,64,48,62,"city"],[49,68,48,66],[49,70,48,68],[49,73,48,71],[49,75,48,73],[50,4,49,2],[50,5,49,3],[51,2,50,0],[51,3,50,1],[53,2,52,0],[54,2,52,0,"exports"],[54,9,52,0],[54,10,52,0,"getPersonalizedGreeting"],[54,33,52,0],[54,36,52,0,"getPersonalizedGreeting"],[54,59,52,0],[55,2,53,7],[55,8,53,13,"getActivityGreeting"],[55,27,53,32],[55,30,53,35,"getActivityGreeting"],[55,31,53,36,"now"],[55,34,53,39],[55,37,53,42],[55,41,53,46,"Date"],[55,45,53,50],[55,46,53,51],[55,47,53,52],[55,52,53,57],[56,4,54,2],[56,10,54,8,"hour"],[56,14,54,12],[56,17,54,15,"now"],[56,20,54,18],[56,21,54,19,"getHours"],[56,29,54,27],[56,30,54,28],[56,31,54,29],[57,4,56,2],[57,8,56,6,"hour"],[57,12,56,10],[57,15,56,13],[57,16,56,14],[57,18,56,16],[57,25,56,23],[57,39,56,37],[58,4,57,2],[58,8,57,6,"hour"],[58,12,57,10],[58,15,57,13],[58,16,57,14],[58,18,57,16],[58,25,57,23],[58,38,57,36],[59,4,58,2],[59,8,58,6,"hour"],[59,12,58,10],[59,15,58,13],[59,17,58,15],[59,19,58,17],[59,26,58,24],[59,42,58,40],[60,4,59,2],[60,8,59,6,"hour"],[60,12,59,10],[60,15,59,13],[60,17,59,15],[60,19,59,17],[60,26,59,24],[60,40,59,38],[61,4,60,2],[61,8,60,6,"hour"],[61,12,60,10],[61,15,60,13],[61,17,60,15],[61,19,60,17],[61,26,60,24],[61,47,60,45],[62,4,61,2],[62,8,61,6,"hour"],[62,12,61,10],[62,15,61,13],[62,17,61,15],[62,19,61,17],[62,26,61,24],[62,45,61,43],[63,4,62,2],[63,11,62,9],[63,27,62,25],[64,2,63,0],[64,3,63,1],[66,2,65,0],[67,2,65,0,"exports"],[67,9,65,0],[67,10,65,0,"getActivityGreeting"],[67,29,65,0],[67,32,65,0,"getActivityGreeting"],[67,51,65,0],[68,2,66,7],[68,8,66,13,"SPOTLIGHT_FEATURES"],[68,26,66,31],[68,29,66,31,"exports"],[68,36,66,31],[68,37,66,31,"SPOTLIGHT_FEATURES"],[68,55,66,31],[68,58,66,34],[68,59,67,2],[68,67,67,10],[69,2,67,19],[70,2,68,2],[70,16,68,16],[71,2,68,19],[72,2,69,2],[72,8,69,8],[73,2,69,19],[74,2,70,2],[74,12,70,12],[74,13,70,19],[75,2,70,19],[75,3,71,1],[77,2,73,0],[78,2,74,7],[78,8,74,13,"SPOTLIGHT_CONFIG"],[78,24,74,29],[78,27,74,29,"exports"],[78,34,74,29],[78,35,74,29,"SPOTLIGHT_CONFIG"],[78,51,74,29],[78,54,74,32],[79,4,75,2,"experimentKey"],[79,17,75,15],[79,19,75,17],[79,38,75,36],[80,4,76,2,"rotationInterval"],[80,20,76,18],[80,22,76,20],[80,27,76,25],[81,4,76,27],[82,4,77,2,"enableAnalytics"],[82,19,77,17],[82,21,77,19],[83,2,78,0],[83,3,78,1],[85,2,80,0],[86,2,81,7],[86,8,81,13,"getSpotlightFeature"],[86,27,81,32],[86,30,81,36,"sessionId"],[86,39,81,54],[86,43,81,79],[87,4,82,2],[87,8,82,6],[87,9,82,7,"sessionId"],[87,18,82,16],[87,20,82,18],[87,27,82,25],[87,31,82,29],[89,4,84,2],[90,4,85,2],[90,10,85,8,"index"],[90,15,85,13],[90,18,85,16,"Math"],[90,22,85,20],[90,23,85,21,"abs"],[90,26,85,24],[90,27,85,25,"sessionId"],[90,36,85,34],[90,37,85,35,"charCodeAt"],[90,47,85,45],[90,48,85,46],[90,49,85,47],[90,50,85,48],[90,51,85,49],[90,54,85,52,"SPOTLIGHT_FEATURES"],[90,72,85,70],[90,73,85,71,"length"],[90,79,85,77],[91,4,86,2],[91,10,86,8,"featureKey"],[91,20,86,18],[91,23,86,21,"SPOTLIGHT_FEATURES"],[91,41,86,39],[91,42,86,40,"index"],[91,47,86,45],[91,48,86,46],[92,4,88,2],[92,11,88,9],[92,15,88,9,"getFeatureByKey"],[92,40,88,24],[92,42,88,25,"featureKey"],[92,52,88,35],[92,53,88,36],[92,57,88,40],[92,61,88,44],[93,2,89,0],[93,3,89,1],[94,2,89,2,"exports"],[94,9,89,2],[94,10,89,2,"getSpotlightFeature"],[94,29,89,2],[94,32,89,2,"getSpotlightFeature"],[94,51,89,2],[95,0,89,2],[95,3]],"functionMap":{"names":["<global>","getGreeting","getTimeOfDay","getLocationContext","getPersonalizedGreeting","getActivityGreeting","getSpotlightFeature"],"mappings":"AAA;2BCO;CDQ;4BEE;CFQ;kCGE;CHS;uCIE;CJW;mCKG;CLU;mCMkB;CNQ"}},"type":"js/module"}]}