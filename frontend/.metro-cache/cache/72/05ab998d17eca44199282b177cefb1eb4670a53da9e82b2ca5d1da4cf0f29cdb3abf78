{"dependencies":[{"name":"@react-native-community/netinfo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"PqZcYTlMIVnzFjdViPzMiGUu7Hg=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":55},"end":{"line":2,"column":69,"index":124}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.enqueue = enqueue;\n  exports.bootFlusher = bootFlusher;\n  var _reactNativeCommunityNetinfo = require(_dependencyMap[0], \"@react-native-community/netinfo\");\n  var NetInfo = _interopDefault(_reactNativeCommunityNetinfo);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const KEY = \"offline-queue-v1\";\n  async function enqueue(url, body, headers) {\n    const q = JSON.parse((await AsyncStorage.default.getItem(KEY)) || \"[]\");\n    q.push({\n      url,\n      body,\n      headers,\n      ts: Date.now()\n    });\n    await AsyncStorage.default.setItem(KEY, JSON.stringify(q));\n  }\n  function bootFlusher(fetcher = fetch) {\n    const flush = async () => {\n      const raw = await AsyncStorage.default.getItem(KEY);\n      if (!raw) return;\n      const q = JSON.parse(raw);\n      const next = [];\n      for (const item of q) {\n        try {\n          const r = await fetcher(item.url, {\n            method: \"POST\",\n            headers: item.headers,\n            body: JSON.stringify(item.body)\n          });\n          if (r.ok || r.status === 409) continue; // delivered or replay\n          next.push(item);\n        } catch {\n          next.push(item);\n        }\n      }\n      await AsyncStorage.default.setItem(KEY, JSON.stringify(next));\n    };\n    NetInfo.default.addEventListener(s => s.isConnected && flush());\n    return {\n      flush\n    };\n  }\n});","lineCount":55,"map":[[12,2,6,0,"exports"],[12,9,6,0],[12,10,6,0,"enqueue"],[12,17,6,0],[12,20,6,0,"enqueue"],[12,27,6,0],[13,2,12,0,"exports"],[13,9,12,0],[13,10,12,0,"bootFlusher"],[13,21,12,0],[13,24,12,0,"bootFlusher"],[13,35,12,0],[14,2,1,0],[14,6,1,0,"_reactNativeCommunityNetinfo"],[14,34,1,0],[14,37,1,0,"require"],[14,44,1,0],[14,45,1,0,"_dependencyMap"],[14,59,1,0],[15,2,1,0],[15,6,1,0,"NetInfo"],[15,13,1,0],[15,16,1,0,"_interopDefault"],[15,31,1,0],[15,32,1,0,"_reactNativeCommunityNetinfo"],[15,60,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,4,0],[18,8,4,6,"KEY"],[18,11,4,9],[18,14,4,12],[18,32,4,30],[19,2,6,7],[19,17,6,22,"enqueue"],[19,24,6,29,"enqueue"],[19,25,6,30,"url"],[19,28,6,41],[19,30,6,43,"body"],[19,34,6,52],[19,36,6,54,"headers"],[19,43,6,84],[19,45,6,86],[20,4,7,2],[20,10,7,8,"q"],[20,11,7,9],[20,14,7,12,"JSON"],[20,18,7,16],[20,19,7,17,"parse"],[20,24,7,22],[20,25,7,23],[20,26,7,24],[20,32,7,30,"AsyncStorage"],[20,44,7,42],[20,45,7,42,"default"],[20,52,7,42],[20,53,7,43,"getItem"],[20,60,7,50],[20,61,7,51,"KEY"],[20,64,7,54],[20,65,7,55],[20,70,7,60],[20,74,7,64],[20,75,7,65],[21,4,8,2,"q"],[21,5,8,3],[21,6,8,4,"push"],[21,10,8,8],[21,11,8,9],[22,6,8,11,"url"],[22,9,8,14],[23,6,8,16,"body"],[23,10,8,20],[24,6,8,22,"headers"],[24,13,8,29],[25,6,8,31,"ts"],[25,8,8,33],[25,10,8,35,"Date"],[25,14,8,39],[25,15,8,40,"now"],[25,18,8,43],[25,19,8,44],[26,4,8,46],[26,5,8,47],[26,6,8,48],[27,4,9,2],[27,10,9,8,"AsyncStorage"],[27,22,9,20],[27,23,9,20,"default"],[27,30,9,20],[27,31,9,21,"setItem"],[27,38,9,28],[27,39,9,29,"KEY"],[27,42,9,32],[27,44,9,34,"JSON"],[27,48,9,38],[27,49,9,39,"stringify"],[27,58,9,48],[27,59,9,49,"q"],[27,60,9,50],[27,61,9,51],[27,62,9,52],[28,2,10,0],[29,2,12,7],[29,11,12,16,"bootFlusher"],[29,22,12,27,"bootFlusher"],[29,23,12,28,"fetcher"],[29,30,12,35],[29,33,12,38,"fetch"],[29,38,12,43],[29,40,12,45],[30,4,13,2],[30,10,13,8,"flush"],[30,15,13,13],[30,18,13,16],[30,24,13,16,"flush"],[30,25,13,16],[30,30,13,28],[31,6,14,4],[31,12,14,10,"raw"],[31,15,14,13],[31,18,14,16],[31,24,14,22,"AsyncStorage"],[31,36,14,34],[31,37,14,34,"default"],[31,44,14,34],[31,45,14,35,"getItem"],[31,52,14,42],[31,53,14,43,"KEY"],[31,56,14,46],[31,57,14,47],[32,6,15,4],[32,10,15,8],[32,11,15,9,"raw"],[32,14,15,12],[32,16,15,14],[33,6,16,4],[33,12,16,10,"q"],[33,13,16,11],[33,16,16,14,"JSON"],[33,20,16,18],[33,21,16,19,"parse"],[33,26,16,24],[33,27,16,25,"raw"],[33,30,16,28],[33,31,16,29],[34,6,17,4],[34,12,17,10,"next"],[34,16,17,14],[34,19,17,17],[34,21,17,31],[35,6,18,4],[35,11,18,9],[35,17,18,15,"item"],[35,21,18,19],[35,25,18,23,"q"],[35,26,18,24],[35,28,18,26],[36,8,19,6],[36,12,19,10],[37,10,20,8],[37,16,20,14,"r"],[37,17,20,15],[37,20,20,18],[37,26,20,24,"fetcher"],[37,33,20,31],[37,34,20,32,"item"],[37,38,20,36],[37,39,20,37,"url"],[37,42,20,40],[37,44,20,42],[38,12,20,44,"method"],[38,18,20,50],[38,20,20,51],[38,26,20,57],[39,12,20,59,"headers"],[39,19,20,66],[39,21,20,67,"item"],[39,25,20,71],[39,26,20,72,"headers"],[39,33,20,79],[40,12,20,81,"body"],[40,16,20,85],[40,18,20,87,"JSON"],[40,22,20,91],[40,23,20,92,"stringify"],[40,32,20,101],[40,33,20,102,"item"],[40,37,20,106],[40,38,20,107,"body"],[40,42,20,111],[41,10,20,113],[41,11,20,114],[41,12,20,115],[42,10,21,8],[42,14,21,12,"r"],[42,15,21,13],[42,16,21,14,"ok"],[42,18,21,16],[42,22,21,20,"r"],[42,23,21,21],[42,24,21,22,"status"],[42,30,21,28],[42,35,21,33],[42,38,21,36],[42,40,21,38],[42,49,21,47],[42,50,21,48],[43,10,22,8,"next"],[43,14,22,12],[43,15,22,13,"push"],[43,19,22,17],[43,20,22,18,"item"],[43,24,22,22],[43,25,22,23],[44,8,23,6],[44,9,23,7],[44,10,23,8],[44,16,23,14],[45,10,23,16,"next"],[45,14,23,20],[45,15,23,21,"push"],[45,19,23,25],[45,20,23,26,"item"],[45,24,23,30],[45,25,23,31],[46,8,23,33],[47,6,24,4],[48,6,25,4],[48,12,25,10,"AsyncStorage"],[48,24,25,22],[48,25,25,22,"default"],[48,32,25,22],[48,33,25,23,"setItem"],[48,40,25,30],[48,41,25,31,"KEY"],[48,44,25,34],[48,46,25,36,"JSON"],[48,50,25,40],[48,51,25,41,"stringify"],[48,60,25,50],[48,61,25,51,"next"],[48,65,25,55],[48,66,25,56],[48,67,25,57],[49,4,26,2],[49,5,26,3],[50,4,27,2,"NetInfo"],[50,11,27,9],[50,12,27,9,"default"],[50,19,27,9],[50,20,27,10,"addEventListener"],[50,36,27,26],[50,37,27,28,"s"],[50,38,27,29],[50,42,27,34,"s"],[50,43,27,35],[50,44,27,36,"isConnected"],[50,55,27,47],[50,59,27,51,"flush"],[50,64,27,56],[50,65,27,57],[50,66,27,58],[50,67,27,59],[51,4,28,2],[51,11,28,9],[52,6,28,11,"flush"],[53,4,28,17],[53,5,28,18],[54,2,29,0],[55,0,29,1],[55,3]],"functionMap":{"names":["<global>","enqueue","bootFlusher","flush","NetInfo.addEventListener$argument_0"],"mappings":"AAA;OCK;CDI;OEE;gBCC;GDa;2BEC,+BF"},"hasCjsExports":false},"type":"js/module"}]}