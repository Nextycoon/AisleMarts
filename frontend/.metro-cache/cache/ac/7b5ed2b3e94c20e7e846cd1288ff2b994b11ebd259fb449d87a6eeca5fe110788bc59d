{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.api = void 0;\n  // lib/api.ts\n  const BASE = \"http://localhost:8000\"; // Update with your API URL\n  async function j(r) {\n    if (!r.ok) throw new Error(await r.text());\n    return r.json();\n  }\n  const api = exports.api = {\n    health: () => fetch(`${BASE}/health`).then(j),\n    collections: () => fetch(`${BASE}/products/collections`).then(j),\n    search: (q, badge) => fetch(`${BASE}/products/search?q=${encodeURIComponent(q)}${badge ? `&badge=${badge}` : \"\"}`).then(j),\n    recs: (mood, opts) => {\n      const p = new URLSearchParams();\n      if (mood) p.set(\"mood\", mood);\n      if (opts?.brand) p.set(\"brand\", opts.brand);\n      if (typeof opts?.max_price === \"number\") p.set(\"max_price\", String(opts.max_price));\n      if (opts?.user_id) p.set(\"user_id\", opts.user_id);\n      return fetch(`${BASE}/ai/recommend?${p}`).then(j);\n    },\n    cart: {\n      get: userId => fetch(`${BASE}/cart?user_id=${userId}`).then(j),\n      add: (userId, pid, qty = 1) => fetch(`${BASE}/cart/add?user_id=${userId}&pid=${pid}&qty=${qty}`, {\n        method: \"POST\"\n      }).then(j),\n      remove: (userId, pid) => fetch(`${BASE}/cart/remove?user_id=${userId}&pid=${pid}`, {\n        method: \"DELETE\"\n      }).then(j),\n      clear: userId => fetch(`${BASE}/cart/clear?user_id=${userId}`, {\n        method: \"POST\"\n      }).then(j),\n      preview: userId => fetch(`${BASE}/cart/checkout/preview?user_id=${userId}`, {\n        method: \"POST\"\n      }).then(j),\n      confirm: userId => fetch(`${BASE}/cart/checkout/confirm?user_id=${userId}`, {\n        method: \"POST\"\n      }).then(j)\n    }\n  };\n});","lineCount":43,"map":[[6,2,1,0],[7,2,2,0],[7,8,2,6,"BASE"],[7,12,2,10],[7,15,2,13],[7,38,2,36],[7,39,2,37],[7,40,2,38],[8,2,3,0],[8,17,3,15,"j"],[8,18,3,16,"j"],[8,19,3,17,"r"],[8,20,3,28],[8,22,3,29],[9,4,3,31],[9,8,3,34],[9,9,3,35,"r"],[9,10,3,36],[9,11,3,37,"ok"],[9,13,3,39],[9,15,3,41],[9,21,3,47],[9,25,3,51,"Error"],[9,30,3,56],[9,31,3,57],[9,37,3,63,"r"],[9,38,3,64],[9,39,3,65,"text"],[9,43,3,69],[9,44,3,70],[9,45,3,71],[9,46,3,72],[10,4,3,74],[10,11,3,81,"r"],[10,12,3,82],[10,13,3,83,"json"],[10,17,3,87],[10,18,3,88],[10,19,3,89],[11,2,3,91],[12,2,5,7],[12,8,5,13,"api"],[12,11,5,16],[12,14,5,16,"exports"],[12,21,5,16],[12,22,5,16,"api"],[12,25,5,16],[12,28,5,19],[13,4,6,2,"health"],[13,10,6,8],[13,12,6,10,"health"],[13,13,6,10],[13,18,6,16,"fetch"],[13,23,6,21],[13,24,6,22],[13,27,6,25,"BASE"],[13,31,6,29],[13,40,6,38],[13,41,6,39],[13,42,6,40,"then"],[13,46,6,44],[13,47,6,45,"j"],[13,48,6,46],[13,49,6,47],[14,4,7,2,"collections"],[14,15,7,13],[14,17,7,15,"collections"],[14,18,7,15],[14,23,7,21,"fetch"],[14,28,7,26],[14,29,7,27],[14,32,7,30,"BASE"],[14,36,7,34],[14,59,7,57],[14,60,7,58],[14,61,7,59,"then"],[14,65,7,63],[14,66,7,64,"j"],[14,67,7,65],[14,68,7,66],[15,4,8,2,"search"],[15,10,8,8],[15,12,8,10,"search"],[15,13,8,11,"q"],[15,14,8,19],[15,16,8,20,"badge"],[15,21,8,33],[15,26,9,4,"fetch"],[15,31,9,9],[15,32,9,10],[15,35,9,13,"BASE"],[15,39,9,17],[15,61,9,39,"encodeURIComponent"],[15,79,9,57],[15,80,9,58,"q"],[15,81,9,59],[15,82,9,60],[15,85,9,63,"badge"],[15,90,9,68],[15,93,9,69],[15,103,9,79,"badge"],[15,108,9,84],[15,110,9,86],[15,113,9,87],[15,115,9,89],[15,117,9,91],[15,118,9,92],[15,119,9,93,"then"],[15,123,9,97],[15,124,9,98,"j"],[15,125,9,99],[15,126,9,100],[16,4,10,2,"recs"],[16,8,10,6],[16,10,10,8,"recs"],[16,11,10,9,"mood"],[16,15,10,20],[16,17,10,22,"opts"],[16,21,10,77],[16,26,10,82],[17,6,11,4],[17,12,11,10,"p"],[17,13,11,11],[17,16,11,14],[17,20,11,18,"URLSearchParams"],[17,35,11,33],[17,36,11,34],[17,37,11,35],[18,6,12,4],[18,10,12,7,"mood"],[18,14,12,11],[18,16,12,13,"p"],[18,17,12,14],[18,18,12,15,"set"],[18,21,12,18],[18,22,12,19],[18,28,12,25],[18,30,12,27,"mood"],[18,34,12,31],[18,35,12,32],[19,6,13,4],[19,10,13,7,"opts"],[19,14,13,11],[19,16,13,13,"brand"],[19,21,13,18],[19,23,13,20,"p"],[19,24,13,21],[19,25,13,22,"set"],[19,28,13,25],[19,29,13,26],[19,36,13,33],[19,38,13,35,"opts"],[19,42,13,39],[19,43,13,40,"brand"],[19,48,13,45],[19,49,13,46],[20,6,14,4],[20,10,14,7],[20,17,14,14,"opts"],[20,21,14,18],[20,23,14,20,"max_price"],[20,32,14,29],[20,37,14,32],[20,45,14,40],[20,47,14,42,"p"],[20,48,14,43],[20,49,14,44,"set"],[20,52,14,47],[20,53,14,48],[20,64,14,59],[20,66,14,61,"String"],[20,72,14,67],[20,73,14,68,"opts"],[20,77,14,72],[20,78,14,73,"max_price"],[20,87,14,82],[20,88,14,83],[20,89,14,84],[21,6,15,4],[21,10,15,7,"opts"],[21,14,15,11],[21,16,15,13,"user_id"],[21,23,15,20],[21,25,15,22,"p"],[21,26,15,23],[21,27,15,24,"set"],[21,30,15,27],[21,31,15,28],[21,40,15,37],[21,42,15,39,"opts"],[21,46,15,43],[21,47,15,44,"user_id"],[21,54,15,51],[21,55,15,52],[22,6,16,4],[22,13,16,11,"fetch"],[22,18,16,16],[22,19,16,17],[22,22,16,20,"BASE"],[22,26,16,24],[22,43,16,41,"p"],[22,44,16,42],[22,46,16,44],[22,47,16,45],[22,48,16,46,"then"],[22,52,16,50],[22,53,16,51,"j"],[22,54,16,52],[22,55,16,53],[23,4,17,2],[23,5,17,3],[24,4,18,2,"cart"],[24,8,18,6],[24,10,18,8],[25,6,19,4,"get"],[25,9,19,7],[25,11,19,10,"userId"],[25,17,19,23],[25,21,19,27,"fetch"],[25,26,19,32],[25,27,19,33],[25,30,19,36,"BASE"],[25,34,19,40],[25,51,19,57,"userId"],[25,57,19,63],[25,59,19,65],[25,60,19,66],[25,61,19,67,"then"],[25,65,19,71],[25,66,19,72,"j"],[25,67,19,73],[25,68,19,74],[26,6,20,4,"add"],[26,9,20,7],[26,11,20,9,"add"],[26,12,20,10,"userId"],[26,18,20,23],[26,20,20,24,"pid"],[26,23,20,34],[26,25,20,35,"qty"],[26,28,20,38],[26,31,20,39],[26,32,20,40],[26,37,20,44,"fetch"],[26,42,20,49],[26,43,20,50],[26,46,20,53,"BASE"],[26,50,20,57],[26,71,20,78,"userId"],[26,77,20,84],[26,85,20,92,"pid"],[26,88,20,95],[26,96,20,103,"qty"],[26,99,20,106],[26,101,20,108],[26,103,20,109],[27,8,20,110,"method"],[27,14,20,116],[27,16,20,117],[28,6,20,123],[28,7,20,124],[28,8,20,125],[28,9,20,126,"then"],[28,13,20,130],[28,14,20,131,"j"],[28,15,20,132],[28,16,20,133],[29,6,21,4,"remove"],[29,12,21,10],[29,14,21,12,"remove"],[29,15,21,13,"userId"],[29,21,21,26],[29,23,21,27,"pid"],[29,26,21,37],[29,31,21,41,"fetch"],[29,36,21,46],[29,37,21,47],[29,40,21,50,"BASE"],[29,44,21,54],[29,68,21,78,"userId"],[29,74,21,84],[29,82,21,92,"pid"],[29,85,21,95],[29,87,21,97],[29,89,21,98],[30,8,21,99,"method"],[30,14,21,105],[30,16,21,106],[31,6,21,114],[31,7,21,115],[31,8,21,116],[31,9,21,117,"then"],[31,13,21,121],[31,14,21,122,"j"],[31,15,21,123],[31,16,21,124],[32,6,22,4,"clear"],[32,11,22,9],[32,13,22,12,"userId"],[32,19,22,25],[32,23,22,29,"fetch"],[32,28,22,34],[32,29,22,35],[32,32,22,38,"BASE"],[32,36,22,42],[32,59,22,65,"userId"],[32,65,22,71],[32,67,22,73],[32,69,22,74],[33,8,22,75,"method"],[33,14,22,81],[33,16,22,82],[34,6,22,88],[34,7,22,89],[34,8,22,90],[34,9,22,91,"then"],[34,13,22,95],[34,14,22,96,"j"],[34,15,22,97],[34,16,22,98],[35,6,23,4,"preview"],[35,13,23,11],[35,15,23,14,"userId"],[35,21,23,27],[35,25,23,31,"fetch"],[35,30,23,36],[35,31,23,37],[35,34,23,40,"BASE"],[35,38,23,44],[35,72,23,78,"userId"],[35,78,23,84],[35,80,23,86],[35,82,23,87],[36,8,23,88,"method"],[36,14,23,94],[36,16,23,95],[37,6,23,101],[37,7,23,102],[37,8,23,103],[37,9,23,104,"then"],[37,13,23,108],[37,14,23,109,"j"],[37,15,23,110],[37,16,23,111],[38,6,24,4,"confirm"],[38,13,24,11],[38,15,24,14,"userId"],[38,21,24,27],[38,25,24,31,"fetch"],[38,30,24,36],[38,31,24,37],[38,34,24,40,"BASE"],[38,38,24,44],[38,72,24,78,"userId"],[38,78,24,84],[38,80,24,86],[38,82,24,87],[39,8,24,88,"method"],[39,14,24,94],[39,16,24,95],[40,6,24,101],[40,7,24,102],[40,8,24,103],[40,9,24,104,"then"],[40,13,24,108],[40,14,24,109,"j"],[40,15,24,110],[41,4,25,2],[42,2,26,0],[42,3,26,1],[43,0,26,2],[43,3]],"functionMap":{"names":["<global>","j","health","collections","search","recs","cart.get","cart.add","cart.remove","cart.clear","cart.preview","cart.confirm"],"mappings":"AAA;ACE,4FD;UEG,qCF;eGC,mDH;UIC;oGJC;QKC;GLO;SME,iEN;SOC,4HP;YQC,gHR;WSC,uFT;aUC,kGV;aWC,kGX"}},"type":"js/module"}]}