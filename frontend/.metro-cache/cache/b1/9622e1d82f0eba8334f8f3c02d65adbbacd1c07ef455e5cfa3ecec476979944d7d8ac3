{"dependencies":[{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"]}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":32,"index":80}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"]}},{"name":"../config/voice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":40,"index":121}}],"key":"GeyuPPLg7FICssd4rs/uqsmM3Yg=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.OpenAIVoiceAdapter = void 0;\n  var FileSystem = _interopRequireWildcard(require(_dependencyMap[0], \"expo-file-system\"));\n  var _expoAv = require(_dependencyMap[1], \"expo-av\");\n  var _voice = require(_dependencyMap[2], \"../config/voice\");\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  class OpenAIVoiceAdapter {\n    recording = null;\n    sound = null;\n    isRecording = false;\n\n    // Use Emergent LLM key for seamless integration\n    apiKey = 'sk-emergent-35d93F3CeFf0c7aD50';\n    async startConversation() {\n      try {\n        // 1) Record mic audio and transcribe\n        const transcript = await this.recordAndTranscribe();\n\n        // 2) Get AI reply\n        const reply = await this.chat(transcript);\n\n        // 3) Optional: Convert reply to speech\n        const audioUri = await this.tts(reply);\n        return {\n          transcript,\n          reply,\n          audioUri\n        };\n      } catch (error) {\n        console.error('Voice conversation error:', error);\n        throw error;\n      }\n    }\n    async recordAndTranscribe() {\n      try {\n        // Request permissions\n        const {\n          status\n        } = await _expoAv.Audio.requestPermissionsAsync();\n        if (status !== 'granted') {\n          throw new Error('Microphone permission denied');\n        }\n\n        // Configure audio mode for recording\n        await _expoAv.Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true,\n          playThroughEarpieceAndroid: false,\n          staysActiveInBackground: false\n        });\n\n        // Start recording\n        this.recording = new _expoAv.Audio.Recording();\n        await this.recording.prepareToRecordAsync(_expoAv.Audio.RecordingOptionsPresets.HIGH_QUALITY);\n        await this.recording.startAsync();\n        this.isRecording = true;\n\n        // Record for 5 seconds (in production, this would be push-to-talk or voice detection)\n        await new Promise(resolve => setTimeout(resolve, 5000));\n        await this.stopRecording();\n        const uri = this.recording.getURI();\n        if (!uri) {\n          throw new Error('Recording failed - no audio file created');\n        }\n\n        // Transcribe using OpenAI Whisper\n        return await this.transcribeAudio(uri);\n      } catch (error) {\n        this.isRecording = false;\n        throw error;\n      }\n    }\n    async transcribeAudio(audioUri) {\n      try {\n        // Prepare form data for OpenAI Whisper API\n        const formData = new FormData();\n\n        // Get audio file info\n        const audioInfo = await FileSystem.getInfoAsync(audioUri);\n        if (!audioInfo.exists) {\n          throw new Error('Audio file does not exist');\n        }\n        formData.append('file', {\n          uri: audioUri,\n          name: 'voice.m4a',\n          type: 'audio/m4a'\n        });\n        formData.append('model', _voice.VOICE.openai.sttModel);\n        formData.append('language', 'en'); // Can be made dynamic later\n\n        const response = await fetch('https://api.openai.com/v1/audio/transcriptions', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`\n          },\n          body: formData\n        });\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error?.error?.message || `Transcription failed: ${response.status}`);\n        }\n        const result = await response.json();\n        return result.text || '';\n      } catch (error) {\n        console.error('Transcription error:', error);\n        throw new Error('Failed to transcribe audio');\n      }\n    }\n    async chat(prompt) {\n      try {\n        const response = await fetch('https://api.openai.com/v1/chat/completions', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            model: _voice.VOICE.openai.chatModel,\n            messages: [{\n              role: 'system',\n              content: 'You are Aisle, an AI shopping companion for AisleMarts. You help users find products, compare prices, and make shopping decisions. Keep responses conversational, helpful, and concise for voice interaction.'\n            }, {\n              role: 'user',\n              content: prompt\n            }],\n            max_tokens: 150,\n            // Keep responses short for voice\n            temperature: 0.7\n          })\n        });\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error?.error?.message || `Chat failed: ${response.status}`);\n        }\n        const result = await response.json();\n        return result.choices?.[0]?.message?.content || 'I apologize, I couldn\\'t process that request.';\n      } catch (error) {\n        console.error('Chat error:', error);\n        throw new Error('Failed to get AI response');\n      }\n    }\n    async tts(text) {\n      if (!text || text.trim().length === 0) {\n        return null;\n      }\n      try {\n        const response = await fetch('https://api.openai.com/v1/audio/speech', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            model: 'tts-1',\n            // OpenAI TTS model\n            voice: _voice.VOICE.openai.ttsVoice,\n            input: text,\n            response_format: 'mp3'\n          })\n        });\n        if (!response.ok) {\n          console.warn('TTS failed, continuing without audio');\n          return null;\n        }\n\n        // Save audio file\n        const audioFileName = `aisle-tts-${Date.now()}.mp3`;\n        const audioUri = FileSystem.cacheDirectory + audioFileName;\n        const audioBuffer = await response.arrayBuffer();\n        const audioBase64 = Buffer.from(audioBuffer).toString('base64');\n        await FileSystem.writeAsStringAsync(audioUri, audioBase64, {\n          encoding: FileSystem.EncodingType.Base64\n        });\n        return audioUri;\n      } catch (error) {\n        console.warn('TTS error:', error);\n        return null; // Non-critical, continue without audio\n      }\n    }\n    async play(audioUri) {\n      if (!audioUri) return;\n      try {\n        // Unload previous sound if exists\n        if (this.sound) {\n          await this.sound.unloadAsync();\n        }\n\n        // Load and play new sound\n        const {\n          sound\n        } = await _expoAv.Audio.Sound.createAsync({\n          uri: audioUri\n        }, {\n          shouldPlay: true,\n          volume: 1.0\n        });\n        this.sound = sound;\n\n        // Set up playback status update\n        this.sound.setOnPlaybackStatusUpdate(status => {\n          if (status.isLoaded && status.didJustFinish) {\n            this.sound?.unloadAsync();\n            this.sound = null;\n          }\n        });\n      } catch (error) {\n        console.warn('Audio playback error:', error);\n        // Non-critical, continue without audio playback\n      }\n    }\n    async stop() {\n      try {\n        // Stop recording if active\n        if (this.recording && this.isRecording) {\n          await this.stopRecording();\n        }\n\n        // Stop audio playback if active\n        if (this.sound) {\n          await this.sound.stopAsync();\n          await this.sound.unloadAsync();\n          this.sound = null;\n        }\n      } catch (error) {\n        console.warn('Stop operation error:', error);\n      }\n    }\n    async stopRecording() {\n      if (this.recording && this.isRecording) {\n        try {\n          await this.recording.stopAndUnloadAsync();\n          this.isRecording = false;\n        } catch (error) {\n          console.warn('Stop recording error:', error);\n          this.isRecording = false;\n        }\n      }\n    }\n\n    // Cleanup method\n    async cleanup() {\n      await this.stop();\n      this.recording = null;\n    }\n  }\n  exports.OpenAIVoiceAdapter = OpenAIVoiceAdapter;\n});","lineCount":250,"map":[[6,2,1,0],[6,6,1,0,"FileSystem"],[6,16,1,0],[6,19,1,0,"_interopRequireWildcard"],[6,42,1,0],[6,43,1,0,"require"],[6,50,1,0],[6,51,1,0,"_dependencyMap"],[6,65,1,0],[7,2,2,0],[7,6,2,0,"_expoAv"],[7,13,2,0],[7,16,2,0,"require"],[7,23,2,0],[7,24,2,0,"_dependencyMap"],[7,38,2,0],[8,2,3,0],[8,6,3,0,"_voice"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,3,40],[9,11,3,40,"_interopRequireWildcard"],[9,35,3,40,"e"],[9,36,3,40],[9,38,3,40,"t"],[9,39,3,40],[9,68,3,40,"WeakMap"],[9,75,3,40],[9,81,3,40,"r"],[9,82,3,40],[9,89,3,40,"WeakMap"],[9,96,3,40],[9,100,3,40,"n"],[9,101,3,40],[9,108,3,40,"WeakMap"],[9,115,3,40],[9,127,3,40,"_interopRequireWildcard"],[9,150,3,40],[9,162,3,40,"_interopRequireWildcard"],[9,163,3,40,"e"],[9,164,3,40],[9,166,3,40,"t"],[9,167,3,40],[9,176,3,40,"t"],[9,177,3,40],[9,181,3,40,"e"],[9,182,3,40],[9,186,3,40,"e"],[9,187,3,40],[9,188,3,40,"__esModule"],[9,198,3,40],[9,207,3,40,"e"],[9,208,3,40],[9,214,3,40,"o"],[9,215,3,40],[9,217,3,40,"i"],[9,218,3,40],[9,220,3,40,"f"],[9,221,3,40],[9,226,3,40,"__proto__"],[9,235,3,40],[9,243,3,40,"default"],[9,250,3,40],[9,252,3,40,"e"],[9,253,3,40],[9,270,3,40,"e"],[9,271,3,40],[9,294,3,40,"e"],[9,295,3,40],[9,320,3,40,"e"],[9,321,3,40],[9,330,3,40,"f"],[9,331,3,40],[9,337,3,40,"o"],[9,338,3,40],[9,341,3,40,"t"],[9,342,3,40],[9,345,3,40,"n"],[9,346,3,40],[9,349,3,40,"r"],[9,350,3,40],[9,358,3,40,"o"],[9,359,3,40],[9,360,3,40,"has"],[9,363,3,40],[9,364,3,40,"e"],[9,365,3,40],[9,375,3,40,"o"],[9,376,3,40],[9,377,3,40,"get"],[9,380,3,40],[9,381,3,40,"e"],[9,382,3,40],[9,385,3,40,"o"],[9,386,3,40],[9,387,3,40,"set"],[9,390,3,40],[9,391,3,40,"e"],[9,392,3,40],[9,394,3,40,"f"],[9,395,3,40],[9,411,3,40,"t"],[9,412,3,40],[9,416,3,40,"e"],[9,417,3,40],[9,433,3,40,"t"],[9,434,3,40],[9,441,3,40,"hasOwnProperty"],[9,455,3,40],[9,456,3,40,"call"],[9,460,3,40],[9,461,3,40,"e"],[9,462,3,40],[9,464,3,40,"t"],[9,465,3,40],[9,472,3,40,"i"],[9,473,3,40],[9,477,3,40,"o"],[9,478,3,40],[9,481,3,40,"Object"],[9,487,3,40],[9,488,3,40,"defineProperty"],[9,502,3,40],[9,507,3,40,"Object"],[9,513,3,40],[9,514,3,40,"getOwnPropertyDescriptor"],[9,538,3,40],[9,539,3,40,"e"],[9,540,3,40],[9,542,3,40,"t"],[9,543,3,40],[9,550,3,40,"i"],[9,551,3,40],[9,552,3,40,"get"],[9,555,3,40],[9,559,3,40,"i"],[9,560,3,40],[9,561,3,40,"set"],[9,564,3,40],[9,568,3,40,"o"],[9,569,3,40],[9,570,3,40,"f"],[9,571,3,40],[9,573,3,40,"t"],[9,574,3,40],[9,576,3,40,"i"],[9,577,3,40],[9,581,3,40,"f"],[9,582,3,40],[9,583,3,40,"t"],[9,584,3,40],[9,588,3,40,"e"],[9,589,3,40],[9,590,3,40,"t"],[9,591,3,40],[9,602,3,40,"f"],[9,603,3,40],[9,608,3,40,"e"],[9,609,3,40],[9,611,3,40,"t"],[9,612,3,40],[10,2,11,7],[10,8,11,13,"OpenAIVoiceAdapter"],[10,26,11,31],[10,27,11,32],[11,4,12,10,"recording"],[11,13,12,19],[11,16,12,46],[11,20,12,50],[12,4,13,10,"sound"],[12,9,13,15],[12,12,13,38],[12,16,13,42],[13,4,14,10,"isRecording"],[13,15,14,21],[13,18,14,24],[13,23,14,29],[15,4,16,2],[16,4,17,19,"apiKey"],[16,10,17,25],[16,13,17,28],[16,45,17,60],[17,4,19,2],[17,10,19,8,"startConversation"],[17,27,19,25,"startConversation"],[17,28,19,25],[17,30,19,52],[18,6,20,4],[18,10,20,8],[19,8,21,6],[20,8,22,6],[20,14,22,12,"transcript"],[20,24,22,22],[20,27,22,25],[20,33,22,31],[20,37,22,35],[20,38,22,36,"recordAndTranscribe"],[20,57,22,55],[20,58,22,56],[20,59,22,57],[22,8,24,6],[23,8,25,6],[23,14,25,12,"reply"],[23,19,25,17],[23,22,25,20],[23,28,25,26],[23,32,25,30],[23,33,25,31,"chat"],[23,37,25,35],[23,38,25,36,"transcript"],[23,48,25,46],[23,49,25,47],[25,8,27,6],[26,8,28,6],[26,14,28,12,"audioUri"],[26,22,28,20],[26,25,28,23],[26,31,28,29],[26,35,28,33],[26,36,28,34,"tts"],[26,39,28,37],[26,40,28,38,"reply"],[26,45,28,43],[26,46,28,44],[27,8,30,6],[27,15,30,13],[28,10,30,15,"transcript"],[28,20,30,25],[29,10,30,27,"reply"],[29,15,30,32],[30,10,30,34,"audioUri"],[31,8,30,43],[31,9,30,44],[32,6,31,4],[32,7,31,5],[32,8,31,6],[32,15,31,13,"error"],[32,20,31,18],[32,22,31,20],[33,8,32,6,"console"],[33,15,32,13],[33,16,32,14,"error"],[33,21,32,19],[33,22,32,20],[33,49,32,47],[33,51,32,49,"error"],[33,56,32,54],[33,57,32,55],[34,8,33,6],[34,14,33,12,"error"],[34,19,33,17],[35,6,34,4],[36,4,35,2],[37,4,37,2],[37,10,37,8,"recordAndTranscribe"],[37,29,37,27,"recordAndTranscribe"],[37,30,37,27],[37,32,37,47],[38,6,38,4],[38,10,38,8],[39,8,39,6],[40,8,40,6],[40,14,40,12],[41,10,40,14,"status"],[42,8,40,21],[42,9,40,22],[42,12,40,25],[42,18,40,31,"Audio"],[42,31,40,36],[42,32,40,37,"requestPermissionsAsync"],[42,55,40,60],[42,56,40,61],[42,57,40,62],[43,8,41,6],[43,12,41,10,"status"],[43,18,41,16],[43,23,41,21],[43,32,41,30],[43,34,41,32],[44,10,42,8],[44,16,42,14],[44,20,42,18,"Error"],[44,25,42,23],[44,26,42,24],[44,56,42,54],[44,57,42,55],[45,8,43,6],[47,8,45,6],[48,8,46,6],[48,14,46,12,"Audio"],[48,27,46,17],[48,28,46,18,"setAudioModeAsync"],[48,45,46,35],[48,46,46,36],[49,10,47,8,"allowsRecordingIOS"],[49,28,47,26],[49,30,47,28],[49,34,47,32],[50,10,48,8,"playsInSilentModeIOS"],[50,30,48,28],[50,32,48,30],[50,36,48,34],[51,10,49,8,"playThroughEarpieceAndroid"],[51,36,49,34],[51,38,49,36],[51,43,49,41],[52,10,50,8,"staysActiveInBackground"],[52,33,50,31],[52,35,50,33],[53,8,51,6],[53,9,51,7],[53,10,51,8],[55,8,53,6],[56,8,54,6],[56,12,54,10],[56,13,54,11,"recording"],[56,22,54,20],[56,25,54,23],[56,29,54,27,"Audio"],[56,42,54,32],[56,43,54,33,"Recording"],[56,52,54,42],[56,53,54,43],[56,54,54,44],[57,8,55,6],[57,14,55,12],[57,18,55,16],[57,19,55,17,"recording"],[57,28,55,26],[57,29,55,27,"prepareToRecordAsync"],[57,49,55,47],[57,50,55,48,"Audio"],[57,63,55,53],[57,64,55,54,"RecordingOptionsPresets"],[57,87,55,77],[57,88,55,78,"HIGH_QUALITY"],[57,100,55,90],[57,101,55,91],[58,8,56,6],[58,14,56,12],[58,18,56,16],[58,19,56,17,"recording"],[58,28,56,26],[58,29,56,27,"startAsync"],[58,39,56,37],[58,40,56,38],[58,41,56,39],[59,8,57,6],[59,12,57,10],[59,13,57,11,"isRecording"],[59,24,57,22],[59,27,57,25],[59,31,57,29],[61,8,59,6],[62,8,60,6],[62,14,60,12],[62,18,60,16,"Promise"],[62,25,60,23],[62,26,60,24,"resolve"],[62,33,60,31],[62,37,60,35,"setTimeout"],[62,47,60,45],[62,48,60,46,"resolve"],[62,55,60,53],[62,57,60,55],[62,61,60,59],[62,62,60,60],[62,63,60,61],[63,8,62,6],[63,14,62,12],[63,18,62,16],[63,19,62,17,"stopRecording"],[63,32,62,30],[63,33,62,31],[63,34,62,32],[64,8,64,6],[64,14,64,12,"uri"],[64,17,64,15],[64,20,64,18],[64,24,64,22],[64,25,64,23,"recording"],[64,34,64,32],[64,35,64,33,"getURI"],[64,41,64,39],[64,42,64,40],[64,43,64,41],[65,8,65,6],[65,12,65,10],[65,13,65,11,"uri"],[65,16,65,14],[65,18,65,16],[66,10,66,8],[66,16,66,14],[66,20,66,18,"Error"],[66,25,66,23],[66,26,66,24],[66,68,66,66],[66,69,66,67],[67,8,67,6],[69,8,69,6],[70,8,70,6],[70,15,70,13],[70,21,70,19],[70,25,70,23],[70,26,70,24,"transcribeAudio"],[70,41,70,39],[70,42,70,40,"uri"],[70,45,70,43],[70,46,70,44],[71,6,71,4],[71,7,71,5],[71,8,71,6],[71,15,71,13,"error"],[71,20,71,18],[71,22,71,20],[72,8,72,6],[72,12,72,10],[72,13,72,11,"isRecording"],[72,24,72,22],[72,27,72,25],[72,32,72,30],[73,8,73,6],[73,14,73,12,"error"],[73,19,73,17],[74,6,74,4],[75,4,75,2],[76,4,77,2],[76,10,77,16,"transcribeAudio"],[76,25,77,31,"transcribeAudio"],[76,26,77,32,"audioUri"],[76,34,77,48],[76,36,77,67],[77,6,78,4],[77,10,78,8],[78,8,79,6],[79,8,80,6],[79,14,80,12,"formData"],[79,22,80,20],[79,25,80,23],[79,29,80,27,"FormData"],[79,37,80,35],[79,38,80,36],[79,39,80,37],[81,8,82,6],[82,8,83,6],[82,14,83,12,"audioInfo"],[82,23,83,21],[82,26,83,24],[82,32,83,30,"FileSystem"],[82,42,83,40],[82,43,83,41,"getInfoAsync"],[82,55,83,53],[82,56,83,54,"audioUri"],[82,64,83,62],[82,65,83,63],[83,8,84,6],[83,12,84,10],[83,13,84,11,"audioInfo"],[83,22,84,20],[83,23,84,21,"exists"],[83,29,84,27],[83,31,84,29],[84,10,85,8],[84,16,85,14],[84,20,85,18,"Error"],[84,25,85,23],[84,26,85,24],[84,53,85,51],[84,54,85,52],[85,8,86,6],[86,8,88,6,"formData"],[86,16,88,14],[86,17,88,15,"append"],[86,23,88,21],[86,24,88,22],[86,30,88,28],[86,32,88,30],[87,10,89,8,"uri"],[87,13,89,11],[87,15,89,13,"audioUri"],[87,23,89,21],[88,10,90,8,"name"],[88,14,90,12],[88,16,90,14],[88,27,90,25],[89,10,91,8,"type"],[89,14,91,12],[89,16,91,14],[90,8,92,6],[90,9,92,14],[90,10,92,15],[91,8,93,6,"formData"],[91,16,93,14],[91,17,93,15,"append"],[91,23,93,21],[91,24,93,22],[91,31,93,29],[91,33,93,31,"VOICE"],[91,45,93,36],[91,46,93,37,"openai"],[91,52,93,43],[91,53,93,44,"sttModel"],[91,61,93,52],[91,62,93,53],[92,8,94,6,"formData"],[92,16,94,14],[92,17,94,15,"append"],[92,23,94,21],[92,24,94,22],[92,34,94,32],[92,36,94,34],[92,40,94,38],[92,41,94,39],[92,42,94,40],[92,43,94,41],[94,8,96,6],[94,14,96,12,"response"],[94,22,96,20],[94,25,96,23],[94,31,96,29,"fetch"],[94,36,96,34],[94,37,96,35],[94,85,96,83],[94,87,96,85],[95,10,97,8,"method"],[95,16,97,14],[95,18,97,16],[95,24,97,22],[96,10,98,8,"headers"],[96,17,98,15],[96,19,98,17],[97,12,99,10],[97,27,99,25],[97,29,99,27],[97,39,99,37],[97,43,99,41],[97,44,99,42,"apiKey"],[97,50,99,48],[98,10,100,8],[98,11,100,9],[99,10,101,8,"body"],[99,14,101,12],[99,16,101,14,"formData"],[100,8,102,6],[100,9,102,7],[100,10,102,8],[101,8,104,6],[101,12,104,10],[101,13,104,11,"response"],[101,21,104,19],[101,22,104,20,"ok"],[101,24,104,22],[101,26,104,24],[102,10,105,8],[102,16,105,14,"error"],[102,21,105,19],[102,24,105,22],[102,30,105,28,"response"],[102,38,105,36],[102,39,105,37,"json"],[102,43,105,41],[102,44,105,42],[102,45,105,43],[103,10,106,8],[103,16,106,14],[103,20,106,18,"Error"],[103,25,106,23],[103,26,106,24,"error"],[103,31,106,29],[103,33,106,31,"error"],[103,38,106,36],[103,40,106,38,"message"],[103,47,106,45],[103,51,106,49],[103,76,106,74,"response"],[103,84,106,82],[103,85,106,83,"status"],[103,91,106,89],[103,93,106,91],[103,94,106,92],[104,8,107,6],[105,8,109,6],[105,14,109,12,"result"],[105,20,109,18],[105,23,109,21],[105,29,109,27,"response"],[105,37,109,35],[105,38,109,36,"json"],[105,42,109,40],[105,43,109,41],[105,44,109,42],[106,8,110,6],[106,15,110,13,"result"],[106,21,110,19],[106,22,110,20,"text"],[106,26,110,24],[106,30,110,28],[106,32,110,30],[107,6,111,4],[107,7,111,5],[107,8,111,6],[107,15,111,13,"error"],[107,20,111,18],[107,22,111,20],[108,8,112,6,"console"],[108,15,112,13],[108,16,112,14,"error"],[108,21,112,19],[108,22,112,20],[108,44,112,42],[108,46,112,44,"error"],[108,51,112,49],[108,52,112,50],[109,8,113,6],[109,14,113,12],[109,18,113,16,"Error"],[109,23,113,21],[109,24,113,22],[109,52,113,50],[109,53,113,51],[110,6,114,4],[111,4,115,2],[112,4,117,2],[112,10,117,8,"chat"],[112,14,117,12,"chat"],[112,15,117,13,"prompt"],[112,21,117,27],[112,23,117,46],[113,6,118,4],[113,10,118,8],[114,8,119,6],[114,14,119,12,"response"],[114,22,119,20],[114,25,119,23],[114,31,119,29,"fetch"],[114,36,119,34],[114,37,119,35],[114,81,119,79],[114,83,119,81],[115,10,120,8,"method"],[115,16,120,14],[115,18,120,16],[115,24,120,22],[116,10,121,8,"headers"],[116,17,121,15],[116,19,121,17],[117,12,122,10],[117,27,122,25],[117,29,122,27],[117,39,122,37],[117,43,122,41],[117,44,122,42,"apiKey"],[117,50,122,48],[117,52,122,50],[118,12,123,10],[118,26,123,24],[118,28,123,26],[119,10,124,8],[119,11,124,9],[120,10,125,8,"body"],[120,14,125,12],[120,16,125,14,"JSON"],[120,20,125,18],[120,21,125,19,"stringify"],[120,30,125,28],[120,31,125,29],[121,12,126,10,"model"],[121,17,126,15],[121,19,126,17,"VOICE"],[121,31,126,22],[121,32,126,23,"openai"],[121,38,126,29],[121,39,126,30,"chatModel"],[121,48,126,39],[122,12,127,10,"messages"],[122,20,127,18],[122,22,127,20],[122,23,128,12],[123,14,129,14,"role"],[123,18,129,18],[123,20,129,20],[123,28,129,28],[124,14,130,14,"content"],[124,21,130,21],[124,23,130,23],[125,12,131,12],[125,13,131,13],[125,15,132,12],[126,14,133,14,"role"],[126,18,133,18],[126,20,133,20],[126,26,133,26],[127,14,134,14,"content"],[127,21,134,21],[127,23,134,23,"prompt"],[128,12,135,12],[128,13,135,13],[128,14,136,11],[129,12,137,10,"max_tokens"],[129,22,137,20],[129,24,137,22],[129,27,137,25],[130,12,137,27],[131,12,138,10,"temperature"],[131,23,138,21],[131,25,138,23],[132,10,139,8],[132,11,139,9],[133,8,140,6],[133,9,140,7],[133,10,140,8],[134,8,142,6],[134,12,142,10],[134,13,142,11,"response"],[134,21,142,19],[134,22,142,20,"ok"],[134,24,142,22],[134,26,142,24],[135,10,143,8],[135,16,143,14,"error"],[135,21,143,19],[135,24,143,22],[135,30,143,28,"response"],[135,38,143,36],[135,39,143,37,"json"],[135,43,143,41],[135,44,143,42],[135,45,143,43],[136,10,144,8],[136,16,144,14],[136,20,144,18,"Error"],[136,25,144,23],[136,26,144,24,"error"],[136,31,144,29],[136,33,144,31,"error"],[136,38,144,36],[136,40,144,38,"message"],[136,47,144,45],[136,51,144,49],[136,67,144,65,"response"],[136,75,144,73],[136,76,144,74,"status"],[136,82,144,80],[136,84,144,82],[136,85,144,83],[137,8,145,6],[138,8,147,6],[138,14,147,12,"result"],[138,20,147,18],[138,23,147,21],[138,29,147,27,"response"],[138,37,147,35],[138,38,147,36,"json"],[138,42,147,40],[138,43,147,41],[138,44,147,42],[139,8,148,6],[139,15,148,13,"result"],[139,21,148,19],[139,22,148,20,"choices"],[139,29,148,27],[139,32,148,30],[139,33,148,31],[139,34,148,32],[139,36,148,34,"message"],[139,43,148,41],[139,45,148,43,"content"],[139,52,148,50],[139,56,148,54],[139,104,148,102],[140,6,149,4],[140,7,149,5],[140,8,149,6],[140,15,149,13,"error"],[140,20,149,18],[140,22,149,20],[141,8,150,6,"console"],[141,15,150,13],[141,16,150,14,"error"],[141,21,150,19],[141,22,150,20],[141,35,150,33],[141,37,150,35,"error"],[141,42,150,40],[141,43,150,41],[142,8,151,6],[142,14,151,12],[142,18,151,16,"Error"],[142,23,151,21],[142,24,151,22],[142,51,151,49],[142,52,151,50],[143,6,152,4],[144,4,153,2],[145,4,155,2],[145,10,155,8,"tts"],[145,13,155,11,"tts"],[145,14,155,12,"text"],[145,18,155,24],[145,20,155,50],[146,6,156,4],[146,10,156,8],[146,11,156,9,"text"],[146,15,156,13],[146,19,156,17,"text"],[146,23,156,21],[146,24,156,22,"trim"],[146,28,156,26],[146,29,156,27],[146,30,156,28],[146,31,156,29,"length"],[146,37,156,35],[146,42,156,40],[146,43,156,41],[146,45,156,43],[147,8,157,6],[147,15,157,13],[147,19,157,17],[148,6,158,4],[149,6,160,4],[149,10,160,8],[150,8,161,6],[150,14,161,12,"response"],[150,22,161,20],[150,25,161,23],[150,31,161,29,"fetch"],[150,36,161,34],[150,37,161,35],[150,77,161,75],[150,79,161,77],[151,10,162,8,"method"],[151,16,162,14],[151,18,162,16],[151,24,162,22],[152,10,163,8,"headers"],[152,17,163,15],[152,19,163,17],[153,12,164,10],[153,27,164,25],[153,29,164,27],[153,39,164,37],[153,43,164,41],[153,44,164,42,"apiKey"],[153,50,164,48],[153,52,164,50],[154,12,165,10],[154,26,165,24],[154,28,165,26],[155,10,166,8],[155,11,166,9],[156,10,167,8,"body"],[156,14,167,12],[156,16,167,14,"JSON"],[156,20,167,18],[156,21,167,19,"stringify"],[156,30,167,28],[156,31,167,29],[157,12,168,10,"model"],[157,17,168,15],[157,19,168,17],[157,26,168,24],[158,12,168,26],[159,12,169,10,"voice"],[159,17,169,15],[159,19,169,17,"VOICE"],[159,31,169,22],[159,32,169,23,"openai"],[159,38,169,29],[159,39,169,30,"ttsVoice"],[159,47,169,38],[160,12,170,10,"input"],[160,17,170,15],[160,19,170,17,"text"],[160,23,170,21],[161,12,171,10,"response_format"],[161,27,171,25],[161,29,171,27],[162,10,172,8],[162,11,172,9],[163,8,173,6],[163,9,173,7],[163,10,173,8],[164,8,175,6],[164,12,175,10],[164,13,175,11,"response"],[164,21,175,19],[164,22,175,20,"ok"],[164,24,175,22],[164,26,175,24],[165,10,176,8,"console"],[165,17,176,15],[165,18,176,16,"warn"],[165,22,176,20],[165,23,176,21],[165,61,176,59],[165,62,176,60],[166,10,177,8],[166,17,177,15],[166,21,177,19],[167,8,178,6],[169,8,180,6],[170,8,181,6],[170,14,181,12,"audioFileName"],[170,27,181,25],[170,30,181,28],[170,43,181,41,"Date"],[170,47,181,45],[170,48,181,46,"now"],[170,51,181,49],[170,52,181,50],[170,53,181,51],[170,59,181,57],[171,8,182,6],[171,14,182,12,"audioUri"],[171,22,182,20],[171,25,182,23,"FileSystem"],[171,35,182,33],[171,36,182,34,"cacheDirectory"],[171,50,182,48],[171,53,182,51,"audioFileName"],[171,66,182,64],[172,8,184,6],[172,14,184,12,"audioBuffer"],[172,25,184,23],[172,28,184,26],[172,34,184,32,"response"],[172,42,184,40],[172,43,184,41,"arrayBuffer"],[172,54,184,52],[172,55,184,53],[172,56,184,54],[173,8,185,6],[173,14,185,12,"audioBase64"],[173,25,185,23],[173,28,185,26,"Buffer"],[173,34,185,32],[173,35,185,33,"from"],[173,39,185,37],[173,40,185,38,"audioBuffer"],[173,51,185,49],[173,52,185,50],[173,53,185,51,"toString"],[173,61,185,59],[173,62,185,60],[173,70,185,68],[173,71,185,69],[174,8,187,6],[174,14,187,12,"FileSystem"],[174,24,187,22],[174,25,187,23,"writeAsStringAsync"],[174,43,187,41],[174,44,187,42,"audioUri"],[174,52,187,50],[174,54,187,52,"audioBase64"],[174,65,187,63],[174,67,187,65],[175,10,188,8,"encoding"],[175,18,188,16],[175,20,188,18,"FileSystem"],[175,30,188,28],[175,31,188,29,"EncodingType"],[175,43,188,41],[175,44,188,42,"Base64"],[176,8,189,6],[176,9,189,7],[176,10,189,8],[177,8,191,6],[177,15,191,13,"audioUri"],[177,23,191,21],[178,6,192,4],[178,7,192,5],[178,8,192,6],[178,15,192,13,"error"],[178,20,192,18],[178,22,192,20],[179,8,193,6,"console"],[179,15,193,13],[179,16,193,14,"warn"],[179,20,193,18],[179,21,193,19],[179,33,193,31],[179,35,193,33,"error"],[179,40,193,38],[179,41,193,39],[180,8,194,6],[180,15,194,13],[180,19,194,17],[180,20,194,18],[180,21,194,19],[181,6,195,4],[182,4,196,2],[183,4,198,2],[183,10,198,8,"play"],[183,14,198,12,"play"],[183,15,198,13,"audioUri"],[183,23,198,29],[183,25,198,46],[184,6,199,4],[184,10,199,8],[184,11,199,9,"audioUri"],[184,19,199,17],[184,21,199,19],[185,6,201,4],[185,10,201,8],[186,8,202,6],[187,8,203,6],[187,12,203,10],[187,16,203,14],[187,17,203,15,"sound"],[187,22,203,20],[187,24,203,22],[188,10,204,8],[188,16,204,14],[188,20,204,18],[188,21,204,19,"sound"],[188,26,204,24],[188,27,204,25,"unloadAsync"],[188,38,204,36],[188,39,204,37],[188,40,204,38],[189,8,205,6],[191,8,207,6],[192,8,208,6],[192,14,208,12],[193,10,208,14,"sound"],[194,8,208,20],[194,9,208,21],[194,12,208,24],[194,18,208,30,"Audio"],[194,31,208,35],[194,32,208,36,"Sound"],[194,37,208,41],[194,38,208,42,"createAsync"],[194,49,208,53],[194,50,209,8],[195,10,209,10,"uri"],[195,13,209,13],[195,15,209,15,"audioUri"],[196,8,209,24],[196,9,209,25],[196,11,210,8],[197,10,210,10,"shouldPlay"],[197,20,210,20],[197,22,210,22],[197,26,210,26],[198,10,210,28,"volume"],[198,16,210,34],[198,18,210,36],[199,8,210,40],[199,9,211,6],[199,10,211,7],[200,8,213,6],[200,12,213,10],[200,13,213,11,"sound"],[200,18,213,16],[200,21,213,19,"sound"],[200,26,213,24],[202,8,215,6],[203,8,216,6],[203,12,216,10],[203,13,216,11,"sound"],[203,18,216,16],[203,19,216,17,"setOnPlaybackStatusUpdate"],[203,44,216,42],[203,45,216,44,"status"],[203,51,216,50],[203,55,216,55],[204,10,217,8],[204,14,217,12,"status"],[204,20,217,18],[204,21,217,19,"isLoaded"],[204,29,217,27],[204,33,217,31,"status"],[204,39,217,37],[204,40,217,38,"didJustFinish"],[204,53,217,51],[204,55,217,53],[205,12,218,10],[205,16,218,14],[205,17,218,15,"sound"],[205,22,218,20],[205,24,218,22,"unloadAsync"],[205,35,218,33],[205,36,218,34],[205,37,218,35],[206,12,219,10],[206,16,219,14],[206,17,219,15,"sound"],[206,22,219,20],[206,25,219,23],[206,29,219,27],[207,10,220,8],[208,8,221,6],[208,9,221,7],[208,10,221,8],[209,6,222,4],[209,7,222,5],[209,8,222,6],[209,15,222,13,"error"],[209,20,222,18],[209,22,222,20],[210,8,223,6,"console"],[210,15,223,13],[210,16,223,14,"warn"],[210,20,223,18],[210,21,223,19],[210,44,223,42],[210,46,223,44,"error"],[210,51,223,49],[210,52,223,50],[211,8,224,6],[212,6,225,4],[213,4,226,2],[214,4,228,2],[214,10,228,8,"stop"],[214,14,228,12,"stop"],[214,15,228,12],[214,17,228,30],[215,6,229,4],[215,10,229,8],[216,8,230,6],[217,8,231,6],[217,12,231,10],[217,16,231,14],[217,17,231,15,"recording"],[217,26,231,24],[217,30,231,28],[217,34,231,32],[217,35,231,33,"isRecording"],[217,46,231,44],[217,48,231,46],[218,10,232,8],[218,16,232,14],[218,20,232,18],[218,21,232,19,"stopRecording"],[218,34,232,32],[218,35,232,33],[218,36,232,34],[219,8,233,6],[221,8,235,6],[222,8,236,6],[222,12,236,10],[222,16,236,14],[222,17,236,15,"sound"],[222,22,236,20],[222,24,236,22],[223,10,237,8],[223,16,237,14],[223,20,237,18],[223,21,237,19,"sound"],[223,26,237,24],[223,27,237,25,"stopAsync"],[223,36,237,34],[223,37,237,35],[223,38,237,36],[224,10,238,8],[224,16,238,14],[224,20,238,18],[224,21,238,19,"sound"],[224,26,238,24],[224,27,238,25,"unloadAsync"],[224,38,238,36],[224,39,238,37],[224,40,238,38],[225,10,239,8],[225,14,239,12],[225,15,239,13,"sound"],[225,20,239,18],[225,23,239,21],[225,27,239,25],[226,8,240,6],[227,6,241,4],[227,7,241,5],[227,8,241,6],[227,15,241,13,"error"],[227,20,241,18],[227,22,241,20],[228,8,242,6,"console"],[228,15,242,13],[228,16,242,14,"warn"],[228,20,242,18],[228,21,242,19],[228,44,242,42],[228,46,242,44,"error"],[228,51,242,49],[228,52,242,50],[229,6,243,4],[230,4,244,2],[231,4,246,2],[231,10,246,16,"stopRecording"],[231,23,246,29,"stopRecording"],[231,24,246,29],[231,26,246,47],[232,6,247,4],[232,10,247,8],[232,14,247,12],[232,15,247,13,"recording"],[232,24,247,22],[232,28,247,26],[232,32,247,30],[232,33,247,31,"isRecording"],[232,44,247,42],[232,46,247,44],[233,8,248,6],[233,12,248,10],[234,10,249,8],[234,16,249,14],[234,20,249,18],[234,21,249,19,"recording"],[234,30,249,28],[234,31,249,29,"stopAndUnloadAsync"],[234,49,249,47],[234,50,249,48],[234,51,249,49],[235,10,250,8],[235,14,250,12],[235,15,250,13,"isRecording"],[235,26,250,24],[235,29,250,27],[235,34,250,32],[236,8,251,6],[236,9,251,7],[236,10,251,8],[236,17,251,15,"error"],[236,22,251,20],[236,24,251,22],[237,10,252,8,"console"],[237,17,252,15],[237,18,252,16,"warn"],[237,22,252,20],[237,23,252,21],[237,46,252,44],[237,48,252,46,"error"],[237,53,252,51],[237,54,252,52],[238,10,253,8],[238,14,253,12],[238,15,253,13,"isRecording"],[238,26,253,24],[238,29,253,27],[238,34,253,32],[239,8,254,6],[240,6,255,4],[241,4,256,2],[243,4,258,2],[244,4,259,2],[244,10,259,8,"cleanup"],[244,17,259,15,"cleanup"],[244,18,259,15],[244,20,259,33],[245,6,260,4],[245,12,260,10],[245,16,260,14],[245,17,260,15,"stop"],[245,21,260,19],[245,22,260,20],[245,23,260,21],[246,6,261,4],[246,10,261,8],[246,11,261,9,"recording"],[246,20,261,18],[246,23,261,21],[246,27,261,25],[247,4,262,2],[248,2,263,0],[249,2,263,1,"exports"],[249,9,263,1],[249,10,263,1,"OpenAIVoiceAdapter"],[249,28,263,1],[249,31,263,1,"OpenAIVoiceAdapter"],[249,49,263,1],[250,0,263,1],[250,3]],"functionMap":{"names":["<global>","OpenAIVoiceAdapter","startConversation","recordAndTranscribe","Promise$argument_0","transcribeAudio","chat","tts","play","sound.setOnPlaybackStatusUpdate$argument_0","stop","stopRecording","cleanup"],"mappings":"AAA;OCU;ECQ;GDgB;EEE;wBCuB,oCD;GFe;EIE;GJsC;EKE;GLoC;EME;GNyC;EOE;2CCkB;ODK;GPK;ESE;GTgB;EUE;GVU;EWG;GXG"}},"type":"js/module"}]}