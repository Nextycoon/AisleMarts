{"dependencies":[{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":32,"index":80}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}},{"name":"../config/voice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":40,"index":121}}],"key":"GeyuPPLg7FICssd4rs/uqsmM3Yg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"OpenAIVoiceAdapter\", {\n    enumerable: true,\n    get: function () {\n      return OpenAIVoiceAdapter;\n    }\n  });\n  var _expoFileSystem = require(_dependencyMap[0], \"expo-file-system\");\n  var FileSystem = _interopNamespace(_expoFileSystem);\n  var _expoAv = require(_dependencyMap[1], \"expo-av\");\n  var _configVoice = require(_dependencyMap[2], \"../config/voice\");\n  class OpenAIVoiceAdapter {\n    recording = null;\n    sound = null;\n    isRecording = false;\n\n    // Use Emergent LLM key for seamless integration\n    apiKey = 'sk-emergent-35d93F3CeFf0c7aD50';\n    async startConversation() {\n      try {\n        // 1) Record mic audio and transcribe\n        const transcript = await this.recordAndTranscribe();\n\n        // 2) Get AI reply\n        const reply = await this.chat(transcript);\n\n        // 3) Optional: Convert reply to speech\n        const audioUri = await this.tts(reply);\n        return {\n          transcript,\n          reply,\n          audioUri\n        };\n      } catch (error) {\n        console.error('Voice conversation error:', error);\n        throw error;\n      }\n    }\n    async recordAndTranscribe() {\n      try {\n        // Request permissions\n        const {\n          status\n        } = await _expoAv.Audio.requestPermissionsAsync();\n        if (status !== 'granted') {\n          throw new Error('Microphone permission denied');\n        }\n\n        // Configure audio mode for recording\n        await _expoAv.Audio.setAudioModeAsync({\n          allowsRecordingIOS: true,\n          playsInSilentModeIOS: true,\n          playThroughEarpieceAndroid: false,\n          staysActiveInBackground: false\n        });\n\n        // Start recording\n        this.recording = new _expoAv.Audio.Recording();\n        await this.recording.prepareToRecordAsync(_expoAv.Audio.RecordingOptionsPresets.HIGH_QUALITY);\n        await this.recording.startAsync();\n        this.isRecording = true;\n\n        // Record for 5 seconds (in production, this would be push-to-talk or voice detection)\n        await new Promise(resolve => setTimeout(resolve, 5000));\n        await this.stopRecording();\n        const uri = this.recording.getURI();\n        if (!uri) {\n          throw new Error('Recording failed - no audio file created');\n        }\n\n        // Transcribe using OpenAI Whisper\n        return await this.transcribeAudio(uri);\n      } catch (error) {\n        this.isRecording = false;\n        throw error;\n      }\n    }\n    async transcribeAudio(audioUri) {\n      try {\n        // Prepare form data for OpenAI Whisper API\n        const formData = new FormData();\n\n        // Get audio file info\n        const audioInfo = await FileSystem.getInfoAsync(audioUri);\n        if (!audioInfo.exists) {\n          throw new Error('Audio file does not exist');\n        }\n        formData.append('file', {\n          uri: audioUri,\n          name: 'voice.m4a',\n          type: 'audio/m4a'\n        });\n        formData.append('model', _configVoice.VOICE.openai.sttModel);\n        formData.append('language', 'en'); // Can be made dynamic later\n\n        const response = await fetch('https://api.openai.com/v1/audio/transcriptions', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`\n          },\n          body: formData\n        });\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error?.error?.message || `Transcription failed: ${response.status}`);\n        }\n        const result = await response.json();\n        return result.text || '';\n      } catch (error) {\n        console.error('Transcription error:', error);\n        throw new Error('Failed to transcribe audio');\n      }\n    }\n    async chat(prompt) {\n      try {\n        const response = await fetch('https://api.openai.com/v1/chat/completions', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            model: _configVoice.VOICE.openai.chatModel,\n            messages: [{\n              role: 'system',\n              content: 'You are Aisle, an AI shopping companion for AisleMarts. You help users find products, compare prices, and make shopping decisions. Keep responses conversational, helpful, and concise for voice interaction.'\n            }, {\n              role: 'user',\n              content: prompt\n            }],\n            max_tokens: 150,\n            // Keep responses short for voice\n            temperature: 0.7\n          })\n        });\n        if (!response.ok) {\n          const error = await response.json();\n          throw new Error(error?.error?.message || `Chat failed: ${response.status}`);\n        }\n        const result = await response.json();\n        return result.choices?.[0]?.message?.content || 'I apologize, I couldn\\'t process that request.';\n      } catch (error) {\n        console.error('Chat error:', error);\n        throw new Error('Failed to get AI response');\n      }\n    }\n    async tts(text) {\n      if (!text || text.trim().length === 0) {\n        return null;\n      }\n      try {\n        const response = await fetch('https://api.openai.com/v1/audio/speech', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${this.apiKey}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            model: 'tts-1',\n            // OpenAI TTS model\n            voice: _configVoice.VOICE.openai.ttsVoice,\n            input: text,\n            response_format: 'mp3'\n          })\n        });\n        if (!response.ok) {\n          console.warn('TTS failed, continuing without audio');\n          return null;\n        }\n\n        // Save audio file\n        const audioFileName = `aisle-tts-${Date.now()}.mp3`;\n        const audioUri = FileSystem.cacheDirectory + audioFileName;\n        const audioBuffer = await response.arrayBuffer();\n        const audioBase64 = Buffer.from(audioBuffer).toString('base64');\n        await FileSystem.writeAsStringAsync(audioUri, audioBase64, {\n          encoding: FileSystem.EncodingType.Base64\n        });\n        return audioUri;\n      } catch (error) {\n        console.warn('TTS error:', error);\n        return null; // Non-critical, continue without audio\n      }\n    }\n    async play(audioUri) {\n      if (!audioUri) return;\n      try {\n        // Unload previous sound if exists\n        if (this.sound) {\n          await this.sound.unloadAsync();\n        }\n\n        // Load and play new sound\n        const {\n          sound\n        } = await _expoAv.Audio.Sound.createAsync({\n          uri: audioUri\n        }, {\n          shouldPlay: true,\n          volume: 1.0\n        });\n        this.sound = sound;\n\n        // Set up playback status update\n        this.sound.setOnPlaybackStatusUpdate(status => {\n          if (status.isLoaded && status.didJustFinish) {\n            this.sound?.unloadAsync();\n            this.sound = null;\n          }\n        });\n      } catch (error) {\n        console.warn('Audio playback error:', error);\n        // Non-critical, continue without audio playback\n      }\n    }\n    async stop() {\n      try {\n        // Stop recording if active\n        if (this.recording && this.isRecording) {\n          await this.stopRecording();\n        }\n\n        // Stop audio playback if active\n        if (this.sound) {\n          await this.sound.stopAsync();\n          await this.sound.unloadAsync();\n          this.sound = null;\n        }\n      } catch (error) {\n        console.warn('Stop operation error:', error);\n      }\n    }\n    async stopRecording() {\n      if (this.recording && this.isRecording) {\n        try {\n          await this.recording.stopAndUnloadAsync();\n          this.isRecording = false;\n        } catch (error) {\n          console.warn('Stop recording error:', error);\n          this.isRecording = false;\n        }\n      }\n    }\n\n    // Cleanup method\n    async cleanup() {\n      await this.stop();\n      this.recording = null;\n    }\n  }\n});","lineCount":271,"map":[[22,2,11,0,"Object"],[22,8,11,0],[22,9,11,0,"defineProperty"],[22,23,11,0],[22,24,11,0,"exports"],[22,31,11,0],[23,4,11,0,"enumerable"],[23,14,11,0],[24,4,11,0,"get"],[24,7,11,0],[24,18,11,0,"get"],[24,19,11,0],[25,6,11,0],[25,13,11,0,"OpenAIVoiceAdapter"],[25,31,11,0],[26,4,11,0],[27,2,11,0],[28,2,1,0],[28,6,1,0,"_expoFileSystem"],[28,21,1,0],[28,24,1,0,"require"],[28,31,1,0],[28,32,1,0,"_dependencyMap"],[28,46,1,0],[29,2,1,0],[29,6,1,0,"FileSystem"],[29,16,1,0],[29,19,1,0,"_interopNamespace"],[29,36,1,0],[29,37,1,0,"_expoFileSystem"],[29,52,1,0],[30,2,2,0],[30,6,2,0,"_expoAv"],[30,13,2,0],[30,16,2,0,"require"],[30,23,2,0],[30,24,2,0,"_dependencyMap"],[30,38,2,0],[31,2,3,0],[31,6,3,0,"_configVoice"],[31,18,3,0],[31,21,3,0,"require"],[31,28,3,0],[31,29,3,0,"_dependencyMap"],[31,43,3,0],[32,2,11,7],[32,8,11,13,"OpenAIVoiceAdapter"],[32,26,11,31],[32,27,11,32],[33,4,12,10,"recording"],[33,13,12,19],[33,16,12,46],[33,20,12,50],[34,4,13,10,"sound"],[34,9,13,15],[34,12,13,38],[34,16,13,42],[35,4,14,10,"isRecording"],[35,15,14,21],[35,18,14,24],[35,23,14,29],[37,4,16,2],[38,4,17,19,"apiKey"],[38,10,17,25],[38,13,17,28],[38,45,17,60],[39,4,19,2],[39,10,19,8,"startConversation"],[39,27,19,25,"startConversation"],[39,28,19,25],[39,30,19,52],[40,6,20,4],[40,10,20,8],[41,8,21,6],[42,8,22,6],[42,14,22,12,"transcript"],[42,24,22,22],[42,27,22,25],[42,33,22,31],[42,37,22,35],[42,38,22,36,"recordAndTranscribe"],[42,57,22,55],[42,58,22,56],[42,59,22,57],[44,8,24,6],[45,8,25,6],[45,14,25,12,"reply"],[45,19,25,17],[45,22,25,20],[45,28,25,26],[45,32,25,30],[45,33,25,31,"chat"],[45,37,25,35],[45,38,25,36,"transcript"],[45,48,25,46],[45,49,25,47],[47,8,27,6],[48,8,28,6],[48,14,28,12,"audioUri"],[48,22,28,20],[48,25,28,23],[48,31,28,29],[48,35,28,33],[48,36,28,34,"tts"],[48,39,28,37],[48,40,28,38,"reply"],[48,45,28,43],[48,46,28,44],[49,8,30,6],[49,15,30,13],[50,10,30,15,"transcript"],[50,20,30,25],[51,10,30,27,"reply"],[51,15,30,32],[52,10,30,34,"audioUri"],[53,8,30,43],[53,9,30,44],[54,6,31,4],[54,7,31,5],[54,8,31,6],[54,15,31,13,"error"],[54,20,31,18],[54,22,31,20],[55,8,32,6,"console"],[55,15,32,13],[55,16,32,14,"error"],[55,21,32,19],[55,22,32,20],[55,49,32,47],[55,51,32,49,"error"],[55,56,32,54],[55,57,32,55],[56,8,33,6],[56,14,33,12,"error"],[56,19,33,17],[57,6,34,4],[58,4,35,2],[59,4,37,2],[59,10,37,8,"recordAndTranscribe"],[59,29,37,27,"recordAndTranscribe"],[59,30,37,27],[59,32,37,47],[60,6,38,4],[60,10,38,8],[61,8,39,6],[62,8,40,6],[62,14,40,12],[63,10,40,14,"status"],[64,8,40,21],[64,9,40,22],[64,12,40,25],[64,18,40,31,"Audio"],[64,25,40,36],[64,26,40,36,"Audio"],[64,31,40,36],[64,32,40,37,"requestPermissionsAsync"],[64,55,40,60],[64,56,40,61],[64,57,40,62],[65,8,41,6],[65,12,41,10,"status"],[65,18,41,16],[65,23,41,21],[65,32,41,30],[65,34,41,32],[66,10,42,8],[66,16,42,14],[66,20,42,18,"Error"],[66,25,42,23],[66,26,42,24],[66,56,42,54],[66,57,42,55],[67,8,43,6],[69,8,45,6],[70,8,46,6],[70,14,46,12,"Audio"],[70,21,46,17],[70,22,46,17,"Audio"],[70,27,46,17],[70,28,46,18,"setAudioModeAsync"],[70,45,46,35],[70,46,46,36],[71,10,47,8,"allowsRecordingIOS"],[71,28,47,26],[71,30,47,28],[71,34,47,32],[72,10,48,8,"playsInSilentModeIOS"],[72,30,48,28],[72,32,48,30],[72,36,48,34],[73,10,49,8,"playThroughEarpieceAndroid"],[73,36,49,34],[73,38,49,36],[73,43,49,41],[74,10,50,8,"staysActiveInBackground"],[74,33,50,31],[74,35,50,33],[75,8,51,6],[75,9,51,7],[75,10,51,8],[77,8,53,6],[78,8,54,6],[78,12,54,10],[78,13,54,11,"recording"],[78,22,54,20],[78,25,54,23],[78,29,54,27,"Audio"],[78,36,54,32],[78,37,54,32,"Audio"],[78,42,54,32],[78,43,54,33,"Recording"],[78,52,54,42],[78,53,54,43],[78,54,54,44],[79,8,55,6],[79,14,55,12],[79,18,55,16],[79,19,55,17,"recording"],[79,28,55,26],[79,29,55,27,"prepareToRecordAsync"],[79,49,55,47],[79,50,55,48,"Audio"],[79,57,55,53],[79,58,55,53,"Audio"],[79,63,55,53],[79,64,55,54,"RecordingOptionsPresets"],[79,87,55,77],[79,88,55,78,"HIGH_QUALITY"],[79,100,55,90],[79,101,55,91],[80,8,56,6],[80,14,56,12],[80,18,56,16],[80,19,56,17,"recording"],[80,28,56,26],[80,29,56,27,"startAsync"],[80,39,56,37],[80,40,56,38],[80,41,56,39],[81,8,57,6],[81,12,57,10],[81,13,57,11,"isRecording"],[81,24,57,22],[81,27,57,25],[81,31,57,29],[83,8,59,6],[84,8,60,6],[84,14,60,12],[84,18,60,16,"Promise"],[84,25,60,23],[84,26,60,24,"resolve"],[84,33,60,31],[84,37,60,35,"setTimeout"],[84,47,60,45],[84,48,60,46,"resolve"],[84,55,60,53],[84,57,60,55],[84,61,60,59],[84,62,60,60],[84,63,60,61],[85,8,62,6],[85,14,62,12],[85,18,62,16],[85,19,62,17,"stopRecording"],[85,32,62,30],[85,33,62,31],[85,34,62,32],[86,8,64,6],[86,14,64,12,"uri"],[86,17,64,15],[86,20,64,18],[86,24,64,22],[86,25,64,23,"recording"],[86,34,64,32],[86,35,64,33,"getURI"],[86,41,64,39],[86,42,64,40],[86,43,64,41],[87,8,65,6],[87,12,65,10],[87,13,65,11,"uri"],[87,16,65,14],[87,18,65,16],[88,10,66,8],[88,16,66,14],[88,20,66,18,"Error"],[88,25,66,23],[88,26,66,24],[88,68,66,66],[88,69,66,67],[89,8,67,6],[91,8,69,6],[92,8,70,6],[92,15,70,13],[92,21,70,19],[92,25,70,23],[92,26,70,24,"transcribeAudio"],[92,41,70,39],[92,42,70,40,"uri"],[92,45,70,43],[92,46,70,44],[93,6,71,4],[93,7,71,5],[93,8,71,6],[93,15,71,13,"error"],[93,20,71,18],[93,22,71,20],[94,8,72,6],[94,12,72,10],[94,13,72,11,"isRecording"],[94,24,72,22],[94,27,72,25],[94,32,72,30],[95,8,73,6],[95,14,73,12,"error"],[95,19,73,17],[96,6,74,4],[97,4,75,2],[98,4,77,2],[98,10,77,16,"transcribeAudio"],[98,25,77,31,"transcribeAudio"],[98,26,77,32,"audioUri"],[98,34,77,48],[98,36,77,67],[99,6,78,4],[99,10,78,8],[100,8,79,6],[101,8,80,6],[101,14,80,12,"formData"],[101,22,80,20],[101,25,80,23],[101,29,80,27,"FormData"],[101,37,80,35],[101,38,80,36],[101,39,80,37],[103,8,82,6],[104,8,83,6],[104,14,83,12,"audioInfo"],[104,23,83,21],[104,26,83,24],[104,32,83,30,"FileSystem"],[104,42,83,40],[104,43,83,41,"getInfoAsync"],[104,55,83,53],[104,56,83,54,"audioUri"],[104,64,83,62],[104,65,83,63],[105,8,84,6],[105,12,84,10],[105,13,84,11,"audioInfo"],[105,22,84,20],[105,23,84,21,"exists"],[105,29,84,27],[105,31,84,29],[106,10,85,8],[106,16,85,14],[106,20,85,18,"Error"],[106,25,85,23],[106,26,85,24],[106,53,85,51],[106,54,85,52],[107,8,86,6],[108,8,88,6,"formData"],[108,16,88,14],[108,17,88,15,"append"],[108,23,88,21],[108,24,88,22],[108,30,88,28],[108,32,88,30],[109,10,89,8,"uri"],[109,13,89,11],[109,15,89,13,"audioUri"],[109,23,89,21],[110,10,90,8,"name"],[110,14,90,12],[110,16,90,14],[110,27,90,25],[111,10,91,8,"type"],[111,14,91,12],[111,16,91,14],[112,8,92,6],[112,9,92,14],[112,10,92,15],[113,8,93,6,"formData"],[113,16,93,14],[113,17,93,15,"append"],[113,23,93,21],[113,24,93,22],[113,31,93,29],[113,33,93,31,"VOICE"],[113,45,93,36],[113,46,93,36,"VOICE"],[113,51,93,36],[113,52,93,37,"openai"],[113,58,93,43],[113,59,93,44,"sttModel"],[113,67,93,52],[113,68,93,53],[114,8,94,6,"formData"],[114,16,94,14],[114,17,94,15,"append"],[114,23,94,21],[114,24,94,22],[114,34,94,32],[114,36,94,34],[114,40,94,38],[114,41,94,39],[114,42,94,40],[114,43,94,41],[116,8,96,6],[116,14,96,12,"response"],[116,22,96,20],[116,25,96,23],[116,31,96,29,"fetch"],[116,36,96,34],[116,37,96,35],[116,85,96,83],[116,87,96,85],[117,10,97,8,"method"],[117,16,97,14],[117,18,97,16],[117,24,97,22],[118,10,98,8,"headers"],[118,17,98,15],[118,19,98,17],[119,12,99,10],[119,27,99,25],[119,29,99,27],[119,39,99,37],[119,43,99,41],[119,44,99,42,"apiKey"],[119,50,99,48],[120,10,100,8],[120,11,100,9],[121,10,101,8,"body"],[121,14,101,12],[121,16,101,14,"formData"],[122,8,102,6],[122,9,102,7],[122,10,102,8],[123,8,104,6],[123,12,104,10],[123,13,104,11,"response"],[123,21,104,19],[123,22,104,20,"ok"],[123,24,104,22],[123,26,104,24],[124,10,105,8],[124,16,105,14,"error"],[124,21,105,19],[124,24,105,22],[124,30,105,28,"response"],[124,38,105,36],[124,39,105,37,"json"],[124,43,105,41],[124,44,105,42],[124,45,105,43],[125,10,106,8],[125,16,106,14],[125,20,106,18,"Error"],[125,25,106,23],[125,26,106,24,"error"],[125,31,106,29],[125,33,106,31,"error"],[125,38,106,36],[125,40,106,38,"message"],[125,47,106,45],[125,51,106,49],[125,76,106,74,"response"],[125,84,106,82],[125,85,106,83,"status"],[125,91,106,89],[125,93,106,91],[125,94,106,92],[126,8,107,6],[127,8,109,6],[127,14,109,12,"result"],[127,20,109,18],[127,23,109,21],[127,29,109,27,"response"],[127,37,109,35],[127,38,109,36,"json"],[127,42,109,40],[127,43,109,41],[127,44,109,42],[128,8,110,6],[128,15,110,13,"result"],[128,21,110,19],[128,22,110,20,"text"],[128,26,110,24],[128,30,110,28],[128,32,110,30],[129,6,111,4],[129,7,111,5],[129,8,111,6],[129,15,111,13,"error"],[129,20,111,18],[129,22,111,20],[130,8,112,6,"console"],[130,15,112,13],[130,16,112,14,"error"],[130,21,112,19],[130,22,112,20],[130,44,112,42],[130,46,112,44,"error"],[130,51,112,49],[130,52,112,50],[131,8,113,6],[131,14,113,12],[131,18,113,16,"Error"],[131,23,113,21],[131,24,113,22],[131,52,113,50],[131,53,113,51],[132,6,114,4],[133,4,115,2],[134,4,117,2],[134,10,117,8,"chat"],[134,14,117,12,"chat"],[134,15,117,13,"prompt"],[134,21,117,27],[134,23,117,46],[135,6,118,4],[135,10,118,8],[136,8,119,6],[136,14,119,12,"response"],[136,22,119,20],[136,25,119,23],[136,31,119,29,"fetch"],[136,36,119,34],[136,37,119,35],[136,81,119,79],[136,83,119,81],[137,10,120,8,"method"],[137,16,120,14],[137,18,120,16],[137,24,120,22],[138,10,121,8,"headers"],[138,17,121,15],[138,19,121,17],[139,12,122,10],[139,27,122,25],[139,29,122,27],[139,39,122,37],[139,43,122,41],[139,44,122,42,"apiKey"],[139,50,122,48],[139,52,122,50],[140,12,123,10],[140,26,123,24],[140,28,123,26],[141,10,124,8],[141,11,124,9],[142,10,125,8,"body"],[142,14,125,12],[142,16,125,14,"JSON"],[142,20,125,18],[142,21,125,19,"stringify"],[142,30,125,28],[142,31,125,29],[143,12,126,10,"model"],[143,17,126,15],[143,19,126,17,"VOICE"],[143,31,126,22],[143,32,126,22,"VOICE"],[143,37,126,22],[143,38,126,23,"openai"],[143,44,126,29],[143,45,126,30,"chatModel"],[143,54,126,39],[144,12,127,10,"messages"],[144,20,127,18],[144,22,127,20],[144,23,128,12],[145,14,129,14,"role"],[145,18,129,18],[145,20,129,20],[145,28,129,28],[146,14,130,14,"content"],[146,21,130,21],[146,23,130,23],[147,12,131,12],[147,13,131,13],[147,15,132,12],[148,14,133,14,"role"],[148,18,133,18],[148,20,133,20],[148,26,133,26],[149,14,134,14,"content"],[149,21,134,21],[149,23,134,23,"prompt"],[150,12,135,12],[150,13,135,13],[150,14,136,11],[151,12,137,10,"max_tokens"],[151,22,137,20],[151,24,137,22],[151,27,137,25],[152,12,137,27],[153,12,138,10,"temperature"],[153,23,138,21],[153,25,138,23],[154,10,139,8],[154,11,139,9],[155,8,140,6],[155,9,140,7],[155,10,140,8],[156,8,142,6],[156,12,142,10],[156,13,142,11,"response"],[156,21,142,19],[156,22,142,20,"ok"],[156,24,142,22],[156,26,142,24],[157,10,143,8],[157,16,143,14,"error"],[157,21,143,19],[157,24,143,22],[157,30,143,28,"response"],[157,38,143,36],[157,39,143,37,"json"],[157,43,143,41],[157,44,143,42],[157,45,143,43],[158,10,144,8],[158,16,144,14],[158,20,144,18,"Error"],[158,25,144,23],[158,26,144,24,"error"],[158,31,144,29],[158,33,144,31,"error"],[158,38,144,36],[158,40,144,38,"message"],[158,47,144,45],[158,51,144,49],[158,67,144,65,"response"],[158,75,144,73],[158,76,144,74,"status"],[158,82,144,80],[158,84,144,82],[158,85,144,83],[159,8,145,6],[160,8,147,6],[160,14,147,12,"result"],[160,20,147,18],[160,23,147,21],[160,29,147,27,"response"],[160,37,147,35],[160,38,147,36,"json"],[160,42,147,40],[160,43,147,41],[160,44,147,42],[161,8,148,6],[161,15,148,13,"result"],[161,21,148,19],[161,22,148,20,"choices"],[161,29,148,27],[161,32,148,30],[161,33,148,31],[161,34,148,32],[161,36,148,34,"message"],[161,43,148,41],[161,45,148,43,"content"],[161,52,148,50],[161,56,148,54],[161,104,148,102],[162,6,149,4],[162,7,149,5],[162,8,149,6],[162,15,149,13,"error"],[162,20,149,18],[162,22,149,20],[163,8,150,6,"console"],[163,15,150,13],[163,16,150,14,"error"],[163,21,150,19],[163,22,150,20],[163,35,150,33],[163,37,150,35,"error"],[163,42,150,40],[163,43,150,41],[164,8,151,6],[164,14,151,12],[164,18,151,16,"Error"],[164,23,151,21],[164,24,151,22],[164,51,151,49],[164,52,151,50],[165,6,152,4],[166,4,153,2],[167,4,155,2],[167,10,155,8,"tts"],[167,13,155,11,"tts"],[167,14,155,12,"text"],[167,18,155,24],[167,20,155,50],[168,6,156,4],[168,10,156,8],[168,11,156,9,"text"],[168,15,156,13],[168,19,156,17,"text"],[168,23,156,21],[168,24,156,22,"trim"],[168,28,156,26],[168,29,156,27],[168,30,156,28],[168,31,156,29,"length"],[168,37,156,35],[168,42,156,40],[168,43,156,41],[168,45,156,43],[169,8,157,6],[169,15,157,13],[169,19,157,17],[170,6,158,4],[171,6,160,4],[171,10,160,8],[172,8,161,6],[172,14,161,12,"response"],[172,22,161,20],[172,25,161,23],[172,31,161,29,"fetch"],[172,36,161,34],[172,37,161,35],[172,77,161,75],[172,79,161,77],[173,10,162,8,"method"],[173,16,162,14],[173,18,162,16],[173,24,162,22],[174,10,163,8,"headers"],[174,17,163,15],[174,19,163,17],[175,12,164,10],[175,27,164,25],[175,29,164,27],[175,39,164,37],[175,43,164,41],[175,44,164,42,"apiKey"],[175,50,164,48],[175,52,164,50],[176,12,165,10],[176,26,165,24],[176,28,165,26],[177,10,166,8],[177,11,166,9],[178,10,167,8,"body"],[178,14,167,12],[178,16,167,14,"JSON"],[178,20,167,18],[178,21,167,19,"stringify"],[178,30,167,28],[178,31,167,29],[179,12,168,10,"model"],[179,17,168,15],[179,19,168,17],[179,26,168,24],[180,12,168,26],[181,12,169,10,"voice"],[181,17,169,15],[181,19,169,17,"VOICE"],[181,31,169,22],[181,32,169,22,"VOICE"],[181,37,169,22],[181,38,169,23,"openai"],[181,44,169,29],[181,45,169,30,"ttsVoice"],[181,53,169,38],[182,12,170,10,"input"],[182,17,170,15],[182,19,170,17,"text"],[182,23,170,21],[183,12,171,10,"response_format"],[183,27,171,25],[183,29,171,27],[184,10,172,8],[184,11,172,9],[185,8,173,6],[185,9,173,7],[185,10,173,8],[186,8,175,6],[186,12,175,10],[186,13,175,11,"response"],[186,21,175,19],[186,22,175,20,"ok"],[186,24,175,22],[186,26,175,24],[187,10,176,8,"console"],[187,17,176,15],[187,18,176,16,"warn"],[187,22,176,20],[187,23,176,21],[187,61,176,59],[187,62,176,60],[188,10,177,8],[188,17,177,15],[188,21,177,19],[189,8,178,6],[191,8,180,6],[192,8,181,6],[192,14,181,12,"audioFileName"],[192,27,181,25],[192,30,181,28],[192,43,181,41,"Date"],[192,47,181,45],[192,48,181,46,"now"],[192,51,181,49],[192,52,181,50],[192,53,181,51],[192,59,181,57],[193,8,182,6],[193,14,182,12,"audioUri"],[193,22,182,20],[193,25,182,23,"FileSystem"],[193,35,182,33],[193,36,182,34,"cacheDirectory"],[193,50,182,48],[193,53,182,51,"audioFileName"],[193,66,182,64],[194,8,184,6],[194,14,184,12,"audioBuffer"],[194,25,184,23],[194,28,184,26],[194,34,184,32,"response"],[194,42,184,40],[194,43,184,41,"arrayBuffer"],[194,54,184,52],[194,55,184,53],[194,56,184,54],[195,8,185,6],[195,14,185,12,"audioBase64"],[195,25,185,23],[195,28,185,26,"Buffer"],[195,34,185,32],[195,35,185,33,"from"],[195,39,185,37],[195,40,185,38,"audioBuffer"],[195,51,185,49],[195,52,185,50],[195,53,185,51,"toString"],[195,61,185,59],[195,62,185,60],[195,70,185,68],[195,71,185,69],[196,8,187,6],[196,14,187,12,"FileSystem"],[196,24,187,22],[196,25,187,23,"writeAsStringAsync"],[196,43,187,41],[196,44,187,42,"audioUri"],[196,52,187,50],[196,54,187,52,"audioBase64"],[196,65,187,63],[196,67,187,65],[197,10,188,8,"encoding"],[197,18,188,16],[197,20,188,18,"FileSystem"],[197,30,188,28],[197,31,188,29,"EncodingType"],[197,43,188,41],[197,44,188,42,"Base64"],[198,8,189,6],[198,9,189,7],[198,10,189,8],[199,8,191,6],[199,15,191,13,"audioUri"],[199,23,191,21],[200,6,192,4],[200,7,192,5],[200,8,192,6],[200,15,192,13,"error"],[200,20,192,18],[200,22,192,20],[201,8,193,6,"console"],[201,15,193,13],[201,16,193,14,"warn"],[201,20,193,18],[201,21,193,19],[201,33,193,31],[201,35,193,33,"error"],[201,40,193,38],[201,41,193,39],[202,8,194,6],[202,15,194,13],[202,19,194,17],[202,20,194,18],[202,21,194,19],[203,6,195,4],[204,4,196,2],[205,4,198,2],[205,10,198,8,"play"],[205,14,198,12,"play"],[205,15,198,13,"audioUri"],[205,23,198,29],[205,25,198,46],[206,6,199,4],[206,10,199,8],[206,11,199,9,"audioUri"],[206,19,199,17],[206,21,199,19],[207,6,201,4],[207,10,201,8],[208,8,202,6],[209,8,203,6],[209,12,203,10],[209,16,203,14],[209,17,203,15,"sound"],[209,22,203,20],[209,24,203,22],[210,10,204,8],[210,16,204,14],[210,20,204,18],[210,21,204,19,"sound"],[210,26,204,24],[210,27,204,25,"unloadAsync"],[210,38,204,36],[210,39,204,37],[210,40,204,38],[211,8,205,6],[213,8,207,6],[214,8,208,6],[214,14,208,12],[215,10,208,14,"sound"],[216,8,208,20],[216,9,208,21],[216,12,208,24],[216,18,208,30,"Audio"],[216,25,208,35],[216,26,208,35,"Audio"],[216,31,208,35],[216,32,208,36,"Sound"],[216,37,208,41],[216,38,208,42,"createAsync"],[216,49,208,53],[216,50,209,8],[217,10,209,10,"uri"],[217,13,209,13],[217,15,209,15,"audioUri"],[218,8,209,24],[218,9,209,25],[218,11,210,8],[219,10,210,10,"shouldPlay"],[219,20,210,20],[219,22,210,22],[219,26,210,26],[220,10,210,28,"volume"],[220,16,210,34],[220,18,210,36],[221,8,210,40],[221,9,211,6],[221,10,211,7],[222,8,213,6],[222,12,213,10],[222,13,213,11,"sound"],[222,18,213,16],[222,21,213,19,"sound"],[222,26,213,24],[224,8,215,6],[225,8,216,6],[225,12,216,10],[225,13,216,11,"sound"],[225,18,216,16],[225,19,216,17,"setOnPlaybackStatusUpdate"],[225,44,216,42],[225,45,216,44,"status"],[225,51,216,50],[225,55,216,55],[226,10,217,8],[226,14,217,12,"status"],[226,20,217,18],[226,21,217,19,"isLoaded"],[226,29,217,27],[226,33,217,31,"status"],[226,39,217,37],[226,40,217,38,"didJustFinish"],[226,53,217,51],[226,55,217,53],[227,12,218,10],[227,16,218,14],[227,17,218,15,"sound"],[227,22,218,20],[227,24,218,22,"unloadAsync"],[227,35,218,33],[227,36,218,34],[227,37,218,35],[228,12,219,10],[228,16,219,14],[228,17,219,15,"sound"],[228,22,219,20],[228,25,219,23],[228,29,219,27],[229,10,220,8],[230,8,221,6],[230,9,221,7],[230,10,221,8],[231,6,222,4],[231,7,222,5],[231,8,222,6],[231,15,222,13,"error"],[231,20,222,18],[231,22,222,20],[232,8,223,6,"console"],[232,15,223,13],[232,16,223,14,"warn"],[232,20,223,18],[232,21,223,19],[232,44,223,42],[232,46,223,44,"error"],[232,51,223,49],[232,52,223,50],[233,8,224,6],[234,6,225,4],[235,4,226,2],[236,4,228,2],[236,10,228,8,"stop"],[236,14,228,12,"stop"],[236,15,228,12],[236,17,228,30],[237,6,229,4],[237,10,229,8],[238,8,230,6],[239,8,231,6],[239,12,231,10],[239,16,231,14],[239,17,231,15,"recording"],[239,26,231,24],[239,30,231,28],[239,34,231,32],[239,35,231,33,"isRecording"],[239,46,231,44],[239,48,231,46],[240,10,232,8],[240,16,232,14],[240,20,232,18],[240,21,232,19,"stopRecording"],[240,34,232,32],[240,35,232,33],[240,36,232,34],[241,8,233,6],[243,8,235,6],[244,8,236,6],[244,12,236,10],[244,16,236,14],[244,17,236,15,"sound"],[244,22,236,20],[244,24,236,22],[245,10,237,8],[245,16,237,14],[245,20,237,18],[245,21,237,19,"sound"],[245,26,237,24],[245,27,237,25,"stopAsync"],[245,36,237,34],[245,37,237,35],[245,38,237,36],[246,10,238,8],[246,16,238,14],[246,20,238,18],[246,21,238,19,"sound"],[246,26,238,24],[246,27,238,25,"unloadAsync"],[246,38,238,36],[246,39,238,37],[246,40,238,38],[247,10,239,8],[247,14,239,12],[247,15,239,13,"sound"],[247,20,239,18],[247,23,239,21],[247,27,239,25],[248,8,240,6],[249,6,241,4],[249,7,241,5],[249,8,241,6],[249,15,241,13,"error"],[249,20,241,18],[249,22,241,20],[250,8,242,6,"console"],[250,15,242,13],[250,16,242,14,"warn"],[250,20,242,18],[250,21,242,19],[250,44,242,42],[250,46,242,44,"error"],[250,51,242,49],[250,52,242,50],[251,6,243,4],[252,4,244,2],[253,4,246,2],[253,10,246,16,"stopRecording"],[253,23,246,29,"stopRecording"],[253,24,246,29],[253,26,246,47],[254,6,247,4],[254,10,247,8],[254,14,247,12],[254,15,247,13,"recording"],[254,24,247,22],[254,28,247,26],[254,32,247,30],[254,33,247,31,"isRecording"],[254,44,247,42],[254,46,247,44],[255,8,248,6],[255,12,248,10],[256,10,249,8],[256,16,249,14],[256,20,249,18],[256,21,249,19,"recording"],[256,30,249,28],[256,31,249,29,"stopAndUnloadAsync"],[256,49,249,47],[256,50,249,48],[256,51,249,49],[257,10,250,8],[257,14,250,12],[257,15,250,13,"isRecording"],[257,26,250,24],[257,29,250,27],[257,34,250,32],[258,8,251,6],[258,9,251,7],[258,10,251,8],[258,17,251,15,"error"],[258,22,251,20],[258,24,251,22],[259,10,252,8,"console"],[259,17,252,15],[259,18,252,16,"warn"],[259,22,252,20],[259,23,252,21],[259,46,252,44],[259,48,252,46,"error"],[259,53,252,51],[259,54,252,52],[260,10,253,8],[260,14,253,12],[260,15,253,13,"isRecording"],[260,26,253,24],[260,29,253,27],[260,34,253,32],[261,8,254,6],[262,6,255,4],[263,4,256,2],[265,4,258,2],[266,4,259,2],[266,10,259,8,"cleanup"],[266,17,259,15,"cleanup"],[266,18,259,15],[266,20,259,33],[267,6,260,4],[267,12,260,10],[267,16,260,14],[267,17,260,15,"stop"],[267,21,260,19],[267,22,260,20],[267,23,260,21],[268,6,261,4],[268,10,261,8],[268,11,261,9,"recording"],[268,20,261,18],[268,23,261,21],[268,27,261,25],[269,4,262,2],[270,2,263,0],[271,0,263,1],[271,3]],"functionMap":{"names":["<global>","OpenAIVoiceAdapter","startConversation","recordAndTranscribe","Promise$argument_0","transcribeAudio","chat","tts","play","sound.setOnPlaybackStatusUpdate$argument_0","stop","stopRecording","cleanup"],"mappings":"AAA;OCU;ECQ;GDgB;EEE;wBCuB,oCD;GFe;EIE;GJsC;EKE;GLoC;EME;GNyC;EOE;2CCkB;ODK;GPK;ESE;GTgB;EUE;GVU;EWG;GXG"},"hasCjsExports":false},"type":"js/module"}]}