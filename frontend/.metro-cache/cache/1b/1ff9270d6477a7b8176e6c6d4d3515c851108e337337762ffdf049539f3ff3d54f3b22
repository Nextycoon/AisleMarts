{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../NativeModules/specs/NativeSourceCode","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0},"end":{"line":17,"column":65}}],"key":"4ZOSKrFUf26omYaWkWdbJuMeDN4=","exportNames":["*"]}},{"name":"./AssetSourceResolver","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":2},"end":{"line":20,"column":34}}],"key":"CQ9F7VqqS4RxvohJlSiKyPP484w=","exportNames":["*"]}},{"name":"./AssetUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":21,"column":20},"end":{"line":21,"column":43}}],"key":"xsSXqqOBilC1Jo1GNd8mq96Wd+g=","exportNames":["*"]}},{"name":"@react-native/assets-registry/registry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":22,"column":22},"end":{"line":22,"column":71}}],"key":"6/FNy5SyFHqM25fO9mKKuMVTi4I=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _NativeSourceCode = _interopRequireDefault(require(_dependencyMap[1], \"../NativeModules/specs/NativeSourceCode\"));\n  const AssetSourceResolver = require(_dependencyMap[2], \"./AssetSourceResolver\").default;\n  const {\n    pickScale\n  } = require(_dependencyMap[3], \"./AssetUtils\");\n  const AssetRegistry = require(_dependencyMap[4], \"@react-native/assets-registry/registry\");\n  let _customSourceTransformers = [];\n  let _serverURL;\n  let _scriptURL;\n  let _sourceCodeScriptURL;\n  function getSourceCodeScriptURL() {\n    if (_sourceCodeScriptURL != null) {\n      return _sourceCodeScriptURL;\n    }\n    _sourceCodeScriptURL = _NativeSourceCode.default.getConstants().scriptURL;\n    return _sourceCodeScriptURL;\n  }\n  function getDevServerURL() {\n    if (_serverURL === undefined) {\n      const sourceCodeScriptURL = getSourceCodeScriptURL();\n      const match = sourceCodeScriptURL?.match(/^https?:\\/\\/.*?\\//);\n      if (match) {\n        _serverURL = match[0];\n      } else {\n        _serverURL = null;\n      }\n    }\n    return _serverURL;\n  }\n  function _coerceLocalScriptURL(scriptURL) {\n    let normalizedScriptURL = scriptURL;\n    if (normalizedScriptURL != null) {\n      if (normalizedScriptURL.startsWith('assets://')) {\n        return null;\n      }\n      normalizedScriptURL = normalizedScriptURL.substring(0, normalizedScriptURL.lastIndexOf('/') + 1);\n      if (!normalizedScriptURL.includes('://')) {\n        normalizedScriptURL = 'file://' + normalizedScriptURL;\n      }\n    }\n    return normalizedScriptURL;\n  }\n  function getScriptURL() {\n    if (_scriptURL === undefined) {\n      _scriptURL = _coerceLocalScriptURL(getSourceCodeScriptURL());\n    }\n    return _scriptURL;\n  }\n  function setCustomSourceTransformer(transformer) {\n    _customSourceTransformers = [transformer];\n  }\n  function addCustomSourceTransformer(transformer) {\n    _customSourceTransformers.push(transformer);\n  }\n  function resolveAssetSource(source) {\n    if (source == null || typeof source === 'object') {\n      return source;\n    }\n    const asset = AssetRegistry.getAssetByID(source);\n    if (!asset) {\n      return null;\n    }\n    const resolver = new AssetSourceResolver(getDevServerURL(), getScriptURL(), asset);\n    if (_customSourceTransformers) {\n      for (const customSourceTransformer of _customSourceTransformers) {\n        const transformedSource = customSourceTransformer(resolver);\n        if (transformedSource != null) {\n          return transformedSource;\n        }\n      }\n    }\n    return resolver.defaultAsset();\n  }\n  resolveAssetSource.pickScale = pickScale;\n  resolveAssetSource.setCustomSourceTransformer = setCustomSourceTransformer;\n  resolveAssetSource.addCustomSourceTransformer = addCustomSourceTransformer;\n  var _default = exports.default = resolveAssetSource;\n});","lineCount":84,"map":[[7,2,17,0],[7,6,17,0,"_NativeSourceCode"],[7,23,17,0],[7,26,17,0,"_interopRequireDefault"],[7,48,17,0],[7,49,17,0,"require"],[7,56,17,0],[7,57,17,0,"_dependencyMap"],[7,71,17,0],[8,2,19,0],[8,8,19,6,"AssetSourceResolver"],[8,27,19,47],[8,30,20,2,"require"],[8,37,20,9],[8,38,20,9,"_dependencyMap"],[8,52,20,9],[8,80,20,33],[8,81,20,34],[8,82,20,35,"default"],[8,89,20,42],[9,2,21,0],[9,8,21,6],[10,4,21,7,"pickScale"],[11,2,21,16],[11,3,21,17],[11,6,21,20,"require"],[11,13,21,27],[11,14,21,27,"_dependencyMap"],[11,28,21,27],[11,47,21,42],[11,48,21,43],[12,2,22,0],[12,8,22,6,"AssetRegistry"],[12,21,22,19],[12,24,22,22,"require"],[12,31,22,29],[12,32,22,29,"_dependencyMap"],[12,46,22,29],[12,91,22,70],[12,92,22,71],[13,2,28,0],[13,6,28,4,"_customSourceTransformers"],[13,31,28,61],[13,34,28,64],[13,36,28,66],[14,2,29,0],[14,6,29,4,"_serverURL"],[14,16,29,23],[15,2,30,0],[15,6,30,4,"_scriptURL"],[15,16,30,23],[16,2,31,0],[16,6,31,4,"_sourceCodeScriptURL"],[16,26,31,33],[17,2,33,0],[17,11,33,9,"getSourceCodeScriptURL"],[17,33,33,31,"getSourceCodeScriptURL"],[17,34,33,31],[17,36,33,43],[18,4,34,2],[18,8,34,6,"_sourceCodeScriptURL"],[18,28,34,26],[18,32,34,30],[18,36,34,34],[18,38,34,36],[19,6,35,4],[19,13,35,11,"_sourceCodeScriptURL"],[19,33,35,31],[20,4,36,2],[21,4,38,2,"_sourceCodeScriptURL"],[21,24,38,22],[21,27,38,25,"SourceCode"],[21,52,38,35],[21,53,38,36,"getConstants"],[21,65,38,48],[21,66,38,49],[21,67,38,50],[21,68,38,51,"scriptURL"],[21,77,38,60],[22,4,39,2],[22,11,39,9,"_sourceCodeScriptURL"],[22,31,39,29],[23,2,40,0],[24,2,42,0],[24,11,42,9,"getDevServerURL"],[24,26,42,24,"getDevServerURL"],[24,27,42,24],[24,29,42,36],[25,4,43,2],[25,8,43,6,"_serverURL"],[25,18,43,16],[25,23,43,21,"undefined"],[25,32,43,30],[25,34,43,32],[26,6,44,4],[26,12,44,10,"sourceCodeScriptURL"],[26,31,44,29],[26,34,44,32,"getSourceCodeScriptURL"],[26,56,44,54],[26,57,44,55],[26,58,44,56],[27,6,45,4],[27,12,45,10,"match"],[27,17,45,15],[27,20,45,18,"sourceCodeScriptURL"],[27,39,45,37],[27,41,45,39,"match"],[27,46,45,44],[27,47,45,45],[27,66,45,64],[27,67,45,65],[28,6,46,4],[28,10,46,8,"match"],[28,15,46,13],[28,17,46,15],[29,8,48,6,"_serverURL"],[29,18,48,16],[29,21,48,19,"match"],[29,26,48,24],[29,27,48,25],[29,28,48,26],[29,29,48,27],[30,6,49,4],[30,7,49,5],[30,13,49,11],[31,8,51,6,"_serverURL"],[31,18,51,16],[31,21,51,19],[31,25,51,23],[32,6,52,4],[33,4,53,2],[34,4,54,2],[34,11,54,9,"_serverURL"],[34,21,54,19],[35,2,55,0],[36,2,57,0],[36,11,57,9,"_coerceLocalScriptURL"],[36,32,57,30,"_coerceLocalScriptURL"],[36,33,57,31,"scriptURL"],[36,42,57,49],[36,44,57,60],[37,4,58,2],[37,8,58,6,"normalizedScriptURL"],[37,27,58,25],[37,30,58,28,"scriptURL"],[37,39,58,37],[38,4,60,2],[38,8,60,6,"normalizedScriptURL"],[38,27,60,25],[38,31,60,29],[38,35,60,33],[38,37,60,35],[39,6,61,4],[39,10,61,8,"normalizedScriptURL"],[39,29,61,27],[39,30,61,28,"startsWith"],[39,40,61,38],[39,41,61,39],[39,52,61,50],[39,53,61,51],[39,55,61,53],[40,8,63,6],[40,15,63,13],[40,19,63,17],[41,6,64,4],[42,6,65,4,"normalizedScriptURL"],[42,25,65,23],[42,28,65,26,"normalizedScriptURL"],[42,47,65,45],[42,48,65,46,"substring"],[42,57,65,55],[42,58,66,6],[42,59,66,7],[42,61,67,6,"normalizedScriptURL"],[42,80,67,25],[42,81,67,26,"lastIndexOf"],[42,92,67,37],[42,93,67,38],[42,96,67,41],[42,97,67,42],[42,100,67,45],[42,101,68,4],[42,102,68,5],[43,6,69,4],[43,10,69,8],[43,11,69,9,"normalizedScriptURL"],[43,30,69,28],[43,31,69,29,"includes"],[43,39,69,37],[43,40,69,38],[43,45,69,43],[43,46,69,44],[43,48,69,46],[44,8,72,6,"normalizedScriptURL"],[44,27,72,25],[44,30,72,28],[44,39,72,37],[44,42,72,40,"normalizedScriptURL"],[44,61,72,59],[45,6,73,4],[46,4,74,2],[47,4,76,2],[47,11,76,9,"normalizedScriptURL"],[47,30,76,28],[48,2,77,0],[49,2,79,0],[49,11,79,9,"getScriptURL"],[49,23,79,21,"getScriptURL"],[49,24,79,21],[49,26,79,33],[50,4,80,2],[50,8,80,6,"_scriptURL"],[50,18,80,16],[50,23,80,21,"undefined"],[50,32,80,30],[50,34,80,32],[51,6,81,4,"_scriptURL"],[51,16,81,14],[51,19,81,17,"_coerceLocalScriptURL"],[51,40,81,38],[51,41,81,39,"getSourceCodeScriptURL"],[51,63,81,61],[51,64,81,62],[51,65,81,63],[51,66,81,64],[52,4,82,2],[53,4,83,2],[53,11,83,9,"_scriptURL"],[53,21,83,19],[54,2,84,0],[55,2,91,0],[55,11,91,9,"setCustomSourceTransformer"],[55,37,91,35,"setCustomSourceTransformer"],[55,38,92,2,"transformer"],[55,49,92,38],[55,51,93,8],[56,4,94,2,"_customSourceTransformers"],[56,29,94,27],[56,32,94,30],[56,33,94,31,"transformer"],[56,44,94,42],[56,45,94,43],[57,2,95,0],[58,2,101,0],[58,11,101,9,"addCustomSourceTransformer"],[58,37,101,35,"addCustomSourceTransformer"],[58,38,102,2,"transformer"],[58,49,102,38],[58,51,103,8],[59,4,104,2,"_customSourceTransformers"],[59,29,104,27],[59,30,104,28,"push"],[59,34,104,32],[59,35,104,33,"transformer"],[59,46,104,44],[59,47,104,45],[60,2,105,0],[61,2,111,0],[61,11,111,9,"resolveAssetSource"],[61,29,111,27,"resolveAssetSource"],[61,30,111,28,"source"],[61,36,111,48],[61,38,111,72],[62,4,112,2],[62,8,112,6,"source"],[62,14,112,12],[62,18,112,16],[62,22,112,20],[62,26,112,24],[62,33,112,31,"source"],[62,39,112,37],[62,44,112,42],[62,52,112,50],[62,54,112,52],[63,6,115,4],[63,13,115,11,"source"],[63,19,115,17],[64,4,116,2],[65,4,118,2],[65,10,118,8,"asset"],[65,15,118,13],[65,18,118,16,"AssetRegistry"],[65,31,118,29],[65,32,118,30,"getAssetByID"],[65,44,118,42],[65,45,118,43,"source"],[65,51,118,49],[65,52,118,50],[66,4,119,2],[66,8,119,6],[66,9,119,7,"asset"],[66,14,119,12],[66,16,119,14],[67,6,120,4],[67,13,120,11],[67,17,120,15],[68,4,121,2],[69,4,123,2],[69,10,123,8,"resolver"],[69,18,123,16],[69,21,123,19],[69,25,123,23,"AssetSourceResolver"],[69,44,123,42],[69,45,124,4,"getDevServerURL"],[69,60,124,19],[69,61,124,20],[69,62,124,21],[69,64,125,4,"getScriptURL"],[69,76,125,16],[69,77,125,17],[69,78,125,18],[69,80,126,4,"asset"],[69,85,127,2],[69,86,127,3],[70,4,130,2],[70,8,130,6,"_customSourceTransformers"],[70,33,130,31],[70,35,130,33],[71,6,131,4],[71,11,131,9],[71,17,131,15,"customSourceTransformer"],[71,40,131,38],[71,44,131,42,"_customSourceTransformers"],[71,69,131,67],[71,71,131,69],[72,8,132,6],[72,14,132,12,"transformedSource"],[72,31,132,29],[72,34,132,32,"customSourceTransformer"],[72,57,132,55],[72,58,132,56,"resolver"],[72,66,132,64],[72,67,132,65],[73,8,133,6],[73,12,133,10,"transformedSource"],[73,29,133,27],[73,33,133,31],[73,37,133,35],[73,39,133,37],[74,10,134,8],[74,17,134,15,"transformedSource"],[74,34,134,32],[75,8,135,6],[76,6,136,4],[77,4,137,2],[78,4,139,2],[78,11,139,9,"resolver"],[78,19,139,17],[78,20,139,18,"defaultAsset"],[78,32,139,30],[78,33,139,31],[78,34,139,32],[79,2,140,0],[80,2,142,0,"resolveAssetSource"],[80,20,142,18],[80,21,142,19,"pickScale"],[80,30,142,28],[80,33,142,31,"pickScale"],[80,42,142,40],[81,2,143,0,"resolveAssetSource"],[81,20,143,18],[81,21,143,19,"setCustomSourceTransformer"],[81,47,143,45],[81,50,143,48,"setCustomSourceTransformer"],[81,76,143,74],[82,2,144,0,"resolveAssetSource"],[82,20,144,18],[82,21,144,19,"addCustomSourceTransformer"],[82,47,144,45],[82,50,144,48,"addCustomSourceTransformer"],[82,76,144,74],[83,2,144,75],[83,6,144,75,"_default"],[83,14,144,75],[83,17,144,75,"exports"],[83,24,144,75],[83,25,144,75,"default"],[83,32,144,75],[83,35,145,15,"resolveAssetSource"],[83,53,145,33],[84,0,145,33],[84,3]],"functionMap":{"names":["<global>","getSourceCodeScriptURL","getDevServerURL","_coerceLocalScriptURL","getScriptURL","setCustomSourceTransformer","addCustomSourceTransformer","resolveAssetSource"],"mappings":"AAA;ACgC;CDO;AEE;CFa;AGE;CHoB;AIE;CJK;AKO;CLI;AMM;CNI;AOM;CP6B"}},"type":"js/module"}]}