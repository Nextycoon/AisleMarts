{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"]}},{"name":"@rnmapbox/maps","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":128},"end":{"line":6,"column":36,"index":164}}],"key":"Ft+FZj9lG/5SXYS8zb+XOguFTJA=","exportNames":["*"]}},{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":165},"end":{"line":7,"column":42,"index":207}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"]}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":208},"end":{"line":8,"column":39,"index":247}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.MAP_STYLES = exports.DEFAULT_MAP_CONFIG = void 0;\n  Object.defineProperty(exports, \"Mapbox\", {\n    enumerable: true,\n    get: function () {\n      return _maps.default;\n    }\n  });\n  exports.requestLocationPermission = exports.formatDistance = exports.calculateDistance = exports.NAIROBI_CENTER = void 0;\n  var _env2 = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _maps = _interopRequireDefault(require(_dependencyMap[2], \"@rnmapbox/maps\"));\n  var Location = _interopRequireWildcard(require(_dependencyMap[3], \"expo-location\"));\n  var _expoConstants = _interopRequireDefault(require(_dependencyMap[4], \"expo-constants\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * Phase 3: Nearby/Onsite Commerce - Mapbox Integration\n   * Map configuration and utilities for location-based features\n   */\n\n  // Initialize Mapbox with token from environment\n  const mapboxToken = _expoConstants.default.expoConfig?.extra?.MAPBOX_PUBLIC_TOKEN || _env2.env.EXPO_PUBLIC_MAPBOX_PUBLIC_TOKEN || 'pk.eyJ1IjoiYWlzbGVtYXJ0cyIsImEiOiJjbTU4dGJucjIwZTN6MmpxdGtjeXQ4dW56In0.demo_token_for_development';\n  if (mapboxToken) {\n    _maps.default.setAccessToken(mapboxToken);\n    _maps.default.setConnected(true);\n  }\n  // Default Nairobi coordinates\n  const NAIROBI_CENTER = exports.NAIROBI_CENTER = [36.8065, -1.2685];\n\n  // Location permission helper\n  const requestLocationPermission = async () => {\n    try {\n      const {\n        status\n      } = await Location.requestForegroundPermissionsAsync();\n      if (status !== 'granted') {\n        return {\n          granted: false,\n          error: 'Location permission denied. Please enable location access in settings.'\n        };\n      }\n      const location = await Location.getCurrentPositionAsync({\n        accuracy: Location.Accuracy.Balanced\n      });\n      return {\n        granted: true,\n        location\n      };\n    } catch (error) {\n      console.error('Location permission error:', error);\n      return {\n        granted: false,\n        error: 'Failed to get location. Please try again.'\n      };\n    }\n  };\n\n  // Distance calculation utility\n  exports.requestLocationPermission = requestLocationPermission;\n  const calculateDistance = (lat1, lng1, lat2, lng2) => {\n    const R = 6371; // Radius of the Earth in kilometers\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLng = (lng2 - lng1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c * 1000; // Return distance in meters\n  };\n\n  // Format distance for display\n  exports.calculateDistance = calculateDistance;\n  const formatDistance = meters => {\n    if (meters < 1000) {\n      return `${Math.round(meters)}m`;\n    } else {\n      return `${(meters / 1000).toFixed(1)}km`;\n    }\n  };\n\n  // Map style configurations\n  exports.formatDistance = formatDistance;\n  const MAP_STYLES = exports.MAP_STYLES = {\n    street: 'mapbox://styles/mapbox/streets-v12',\n    satellite: 'mapbox://styles/mapbox/satellite-streets-v12',\n    dark: 'mapbox://styles/mapbox/dark-v11',\n    light: 'mapbox://styles/mapbox/light-v11'\n  };\n\n  // Default map configuration\n  const DEFAULT_MAP_CONFIG = exports.DEFAULT_MAP_CONFIG = {\n    zoomLevel: 13,\n    pitch: 0,\n    heading: 0,\n    style: MAP_STYLES.street\n  };\n});","lineCount":98,"map":[[15,2,6,0],[15,6,6,0,"_maps"],[15,11,6,0],[15,14,6,0,"_interopRequireDefault"],[15,36,6,0],[15,37,6,0,"require"],[15,44,6,0],[15,45,6,0,"_dependencyMap"],[15,59,6,0],[16,2,7,0],[16,6,7,0,"Location"],[16,14,7,0],[16,17,7,0,"_interopRequireWildcard"],[16,40,7,0],[16,41,7,0,"require"],[16,48,7,0],[16,49,7,0,"_dependencyMap"],[16,63,7,0],[17,2,8,0],[17,6,8,0,"_expoConstants"],[17,20,8,0],[17,23,8,0,"_interopRequireDefault"],[17,45,8,0],[17,46,8,0,"require"],[17,53,8,0],[17,54,8,0,"_dependencyMap"],[17,68,8,0],[18,2,8,39],[18,11,8,39,"_interopRequireWildcard"],[18,35,8,39,"e"],[18,36,8,39],[18,38,8,39,"t"],[18,39,8,39],[18,68,8,39,"WeakMap"],[18,75,8,39],[18,81,8,39,"r"],[18,82,8,39],[18,89,8,39,"WeakMap"],[18,96,8,39],[18,100,8,39,"n"],[18,101,8,39],[18,108,8,39,"WeakMap"],[18,115,8,39],[18,127,8,39,"_interopRequireWildcard"],[18,150,8,39],[18,162,8,39,"_interopRequireWildcard"],[18,163,8,39,"e"],[18,164,8,39],[18,166,8,39,"t"],[18,167,8,39],[18,176,8,39,"t"],[18,177,8,39],[18,181,8,39,"e"],[18,182,8,39],[18,186,8,39,"e"],[18,187,8,39],[18,188,8,39,"__esModule"],[18,198,8,39],[18,207,8,39,"e"],[18,208,8,39],[18,214,8,39,"o"],[18,215,8,39],[18,217,8,39,"i"],[18,218,8,39],[18,220,8,39,"f"],[18,221,8,39],[18,226,8,39,"__proto__"],[18,235,8,39],[18,243,8,39,"default"],[18,250,8,39],[18,252,8,39,"e"],[18,253,8,39],[18,270,8,39,"e"],[18,271,8,39],[18,294,8,39,"e"],[18,295,8,39],[18,320,8,39,"e"],[18,321,8,39],[18,330,8,39,"f"],[18,331,8,39],[18,337,8,39,"o"],[18,338,8,39],[18,341,8,39,"t"],[18,342,8,39],[18,345,8,39,"n"],[18,346,8,39],[18,349,8,39,"r"],[18,350,8,39],[18,358,8,39,"o"],[18,359,8,39],[18,360,8,39,"has"],[18,363,8,39],[18,364,8,39,"e"],[18,365,8,39],[18,375,8,39,"o"],[18,376,8,39],[18,377,8,39,"get"],[18,380,8,39],[18,381,8,39,"e"],[18,382,8,39],[18,385,8,39,"o"],[18,386,8,39],[18,387,8,39,"set"],[18,390,8,39],[18,391,8,39,"e"],[18,392,8,39],[18,394,8,39,"f"],[18,395,8,39],[18,411,8,39,"t"],[18,412,8,39],[18,416,8,39,"e"],[18,417,8,39],[18,433,8,39,"t"],[18,434,8,39],[18,441,8,39,"hasOwnProperty"],[18,455,8,39],[18,456,8,39,"call"],[18,460,8,39],[18,461,8,39,"e"],[18,462,8,39],[18,464,8,39,"t"],[18,465,8,39],[18,472,8,39,"i"],[18,473,8,39],[18,477,8,39,"o"],[18,478,8,39],[18,481,8,39,"Object"],[18,487,8,39],[18,488,8,39,"defineProperty"],[18,502,8,39],[18,507,8,39,"Object"],[18,513,8,39],[18,514,8,39,"getOwnPropertyDescriptor"],[18,538,8,39],[18,539,8,39,"e"],[18,540,8,39],[18,542,8,39,"t"],[18,543,8,39],[18,550,8,39,"i"],[18,551,8,39],[18,552,8,39,"get"],[18,555,8,39],[18,559,8,39,"i"],[18,560,8,39],[18,561,8,39,"set"],[18,564,8,39],[18,568,8,39,"o"],[18,569,8,39],[18,570,8,39,"f"],[18,571,8,39],[18,573,8,39,"t"],[18,574,8,39],[18,576,8,39,"i"],[18,577,8,39],[18,581,8,39,"f"],[18,582,8,39],[18,583,8,39,"t"],[18,584,8,39],[18,588,8,39,"e"],[18,589,8,39],[18,590,8,39,"t"],[18,591,8,39],[18,602,8,39,"f"],[18,603,8,39],[18,608,8,39,"e"],[18,609,8,39],[18,611,8,39,"t"],[18,612,8,39],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[24,2,10,0],[25,2,11,0],[25,8,11,6,"mapboxToken"],[25,19,11,17],[25,22,11,20,"Constants"],[25,44,11,29],[25,45,11,30,"expoConfig"],[25,55,11,40],[25,57,11,42,"extra"],[25,62,11,47],[25,64,11,49,"MAPBOX_PUBLIC_TOKEN"],[25,83,11,68],[25,87,11,68,"_env2"],[25,92,11,68],[25,93,11,68,"env"],[25,96,11,68],[25,97,11,68,"EXPO_PUBLIC_MAPBOX_PUBLIC_TOKEN"],[25,128,12,45],[25,132,13,2],[25,231,13,101],[26,2,15,0],[26,6,15,4,"mapboxToken"],[26,17,15,15],[26,19,15,17],[27,4,16,2,"Mapbox"],[27,17,16,8],[27,18,16,9,"setAccessToken"],[27,32,16,23],[27,33,16,24,"mapboxToken"],[27,44,16,35],[27,45,16,36],[28,4,17,2,"Mapbox"],[28,17,17,8],[28,18,17,9,"setConnected"],[28,30,17,21],[28,31,17,22],[28,35,17,26],[28,36,17,27],[29,2,18,0],[30,2,22,0],[31,2,23,7],[31,8,23,13,"NAIROBI_CENTER"],[31,22,23,45],[31,25,23,45,"exports"],[31,32,23,45],[31,33,23,45,"NAIROBI_CENTER"],[31,47,23,45],[31,50,23,48],[31,51,23,49],[31,58,23,56],[31,60,23,58],[31,61,23,59],[31,67,23,65],[31,68,23,66],[33,2,25,0],[34,2,26,7],[34,8,26,13,"requestLocationPermission"],[34,33,26,38],[34,36,26,41],[34,42,26,41,"requestLocationPermission"],[34,43,26,41],[34,48,30,6],[35,4,31,2],[35,8,31,6],[36,6,32,4],[36,12,32,10],[37,8,32,12,"status"],[38,6,32,19],[38,7,32,20],[38,10,32,23],[38,16,32,29,"Location"],[38,24,32,37],[38,25,32,38,"requestForegroundPermissionsAsync"],[38,58,32,71],[38,59,32,72],[38,60,32,73],[39,6,34,4],[39,10,34,8,"status"],[39,16,34,14],[39,21,34,19],[39,30,34,28],[39,32,34,30],[40,8,35,6],[40,15,35,13],[41,10,36,8,"granted"],[41,17,36,15],[41,19,36,17],[41,24,36,22],[42,10,37,8,"error"],[42,15,37,13],[42,17,37,15],[43,8,38,6],[43,9,38,7],[44,6,39,4],[45,6,41,4],[45,12,41,10,"location"],[45,20,41,18],[45,23,41,21],[45,29,41,27,"Location"],[45,37,41,35],[45,38,41,36,"getCurrentPositionAsync"],[45,61,41,59],[45,62,41,60],[46,8,42,6,"accuracy"],[46,16,42,14],[46,18,42,16,"Location"],[46,26,42,24],[46,27,42,25,"Accuracy"],[46,35,42,33],[46,36,42,34,"Balanced"],[47,6,43,4],[47,7,43,5],[47,8,43,6],[48,6,45,4],[48,13,45,11],[49,8,46,6,"granted"],[49,15,46,13],[49,17,46,15],[49,21,46,19],[50,8,47,6,"location"],[51,6,48,4],[51,7,48,5],[52,4,49,2],[52,5,49,3],[52,6,49,4],[52,13,49,11,"error"],[52,18,49,16],[52,20,49,18],[53,6,50,4,"console"],[53,13,50,11],[53,14,50,12,"error"],[53,19,50,17],[53,20,50,18],[53,48,50,46],[53,50,50,48,"error"],[53,55,50,53],[53,56,50,54],[54,6,51,4],[54,13,51,11],[55,8,52,6,"granted"],[55,15,52,13],[55,17,52,15],[55,22,52,20],[56,8,53,6,"error"],[56,13,53,11],[56,15,53,13],[57,6,54,4],[57,7,54,5],[58,4,55,2],[59,2,56,0],[59,3,56,1],[61,2,58,0],[62,2,58,0,"exports"],[62,9,58,0],[62,10,58,0,"requestLocationPermission"],[62,35,58,0],[62,38,58,0,"requestLocationPermission"],[62,63,58,0],[63,2,59,7],[63,8,59,13,"calculateDistance"],[63,25,59,30],[63,28,59,33,"calculateDistance"],[63,29,60,2,"lat1"],[63,33,60,14],[63,35,61,2,"lng1"],[63,39,61,14],[63,41,62,2,"lat2"],[63,45,62,14],[63,47,63,2,"lng2"],[63,51,63,14],[63,56,64,13],[64,4,65,2],[64,10,65,8,"R"],[64,11,65,9],[64,14,65,12],[64,18,65,16],[64,19,65,17],[64,20,65,18],[65,4,66,2],[65,10,66,8,"dLat"],[65,14,66,12],[65,17,66,15],[65,18,66,16,"lat2"],[65,22,66,20],[65,25,66,23,"lat1"],[65,29,66,27],[65,33,66,31,"Math"],[65,37,66,35],[65,38,66,36,"PI"],[65,40,66,38],[65,43,66,41],[65,46,66,44],[66,4,67,2],[66,10,67,8,"dLng"],[66,14,67,12],[66,17,67,15],[66,18,67,16,"lng2"],[66,22,67,20],[66,25,67,23,"lng1"],[66,29,67,27],[66,33,67,31,"Math"],[66,37,67,35],[66,38,67,36,"PI"],[66,40,67,38],[66,43,67,41],[66,46,67,44],[67,4,68,2],[67,10,68,8,"a"],[67,11,68,9],[67,14,69,4,"Math"],[67,18,69,8],[67,19,69,9,"sin"],[67,22,69,12],[67,23,69,13,"dLat"],[67,27,69,17],[67,30,69,20],[67,31,69,21],[67,32,69,22],[67,35,69,25,"Math"],[67,39,69,29],[67,40,69,30,"sin"],[67,43,69,33],[67,44,69,34,"dLat"],[67,48,69,38],[67,51,69,41],[67,52,69,42],[67,53,69,43],[67,56,70,4,"Math"],[67,60,70,8],[67,61,70,9,"cos"],[67,64,70,12],[67,65,70,13,"lat1"],[67,69,70,17],[67,72,70,20,"Math"],[67,76,70,24],[67,77,70,25,"PI"],[67,79,70,27],[67,82,70,30],[67,85,70,33],[67,86,70,34],[67,89,70,37,"Math"],[67,93,70,41],[67,94,70,42,"cos"],[67,97,70,45],[67,98,70,46,"lat2"],[67,102,70,50],[67,105,70,53,"Math"],[67,109,70,57],[67,110,70,58,"PI"],[67,112,70,60],[67,115,70,63],[67,118,70,66],[67,119,70,67],[67,122,71,4,"Math"],[67,126,71,8],[67,127,71,9,"sin"],[67,130,71,12],[67,131,71,13,"dLng"],[67,135,71,17],[67,138,71,20],[67,139,71,21],[67,140,71,22],[67,143,71,25,"Math"],[67,147,71,29],[67,148,71,30,"sin"],[67,151,71,33],[67,152,71,34,"dLng"],[67,156,71,38],[67,159,71,41],[67,160,71,42],[67,161,71,43],[68,4,72,2],[68,10,72,8,"c"],[68,11,72,9],[68,14,72,12],[68,15,72,13],[68,18,72,16,"Math"],[68,22,72,20],[68,23,72,21,"atan2"],[68,28,72,26],[68,29,72,27,"Math"],[68,33,72,31],[68,34,72,32,"sqrt"],[68,38,72,36],[68,39,72,37,"a"],[68,40,72,38],[68,41,72,39],[68,43,72,41,"Math"],[68,47,72,45],[68,48,72,46,"sqrt"],[68,52,72,50],[68,53,72,51],[68,54,72,52],[68,57,72,55,"a"],[68,58,72,56],[68,59,72,57],[68,60,72,58],[69,4,73,2],[69,11,73,9,"R"],[69,12,73,10],[69,15,73,13,"c"],[69,16,73,14],[69,19,73,17],[69,23,73,21],[69,24,73,22],[69,25,73,23],[70,2,74,0],[70,3,74,1],[72,2,76,0],[73,2,76,0,"exports"],[73,9,76,0],[73,10,76,0,"calculateDistance"],[73,27,76,0],[73,30,76,0,"calculateDistance"],[73,47,76,0],[74,2,77,7],[74,8,77,13,"formatDistance"],[74,22,77,27],[74,25,77,31,"meters"],[74,31,77,45],[74,35,77,58],[75,4,78,2],[75,8,78,6,"meters"],[75,14,78,12],[75,17,78,15],[75,21,78,19],[75,23,78,21],[76,6,79,4],[76,13,79,11],[76,16,79,14,"Math"],[76,20,79,18],[76,21,79,19,"round"],[76,26,79,24],[76,27,79,25,"meters"],[76,33,79,31],[76,34,79,32],[76,37,79,35],[77,4,80,2],[77,5,80,3],[77,11,80,9],[78,6,81,4],[78,13,81,11],[78,16,81,14],[78,17,81,15,"meters"],[78,23,81,21],[78,26,81,24],[78,30,81,28],[78,32,81,30,"toFixed"],[78,39,81,37],[78,40,81,38],[78,41,81,39],[78,42,81,40],[78,46,81,44],[79,4,82,2],[80,2,83,0],[80,3,83,1],[82,2,85,0],[83,2,85,0,"exports"],[83,9,85,0],[83,10,85,0,"formatDistance"],[83,24,85,0],[83,27,85,0,"formatDistance"],[83,41,85,0],[84,2,86,7],[84,8,86,13,"MAP_STYLES"],[84,18,86,23],[84,21,86,23,"exports"],[84,28,86,23],[84,29,86,23,"MAP_STYLES"],[84,39,86,23],[84,42,86,26],[85,4,87,2,"street"],[85,10,87,8],[85,12,87,10],[85,48,87,46],[86,4,88,2,"satellite"],[86,13,88,11],[86,15,88,13],[86,61,88,59],[87,4,89,2,"dark"],[87,8,89,6],[87,10,89,8],[87,43,89,41],[88,4,90,2,"light"],[88,9,90,7],[88,11,90,9],[89,2,91,0],[89,3,91,1],[91,2,93,0],[92,2,94,7],[92,8,94,13,"DEFAULT_MAP_CONFIG"],[92,26,94,31],[92,29,94,31,"exports"],[92,36,94,31],[92,37,94,31,"DEFAULT_MAP_CONFIG"],[92,55,94,31],[92,58,94,34],[93,4,95,2,"zoomLevel"],[93,13,95,11],[93,15,95,13],[93,17,95,15],[94,4,96,2,"pitch"],[94,9,96,7],[94,11,96,9],[94,12,96,10],[95,4,97,2,"heading"],[95,11,97,9],[95,13,97,11],[95,14,97,12],[96,4,98,2,"style"],[96,9,98,7],[96,11,98,9,"MAP_STYLES"],[96,21,98,19],[96,22,98,20,"street"],[97,2,99,0],[97,3,99,1],[98,0,99,2],[98,3]],"functionMap":{"names":["<global>","requestLocationPermission","calculateDistance","formatDistance"],"mappings":"AAA;yCCyB;CD8B;iCEG;CFe;8BGG;CHM"}},"type":"js/module"}]}