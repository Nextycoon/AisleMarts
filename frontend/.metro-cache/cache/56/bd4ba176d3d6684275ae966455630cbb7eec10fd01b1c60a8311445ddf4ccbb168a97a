{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.fetchCreators = fetchCreators;\n  exports.fetchStories = fetchStories;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  // Use the backend URL from environment\n  var getBaseUrl = () => {\n    var backendUrl = Constants.default.expoConfig?.extra?.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n    return backendUrl;\n  };\n  function fetchCreators() {\n    return _fetchCreators.apply(this, arguments);\n  }\n  function _fetchCreators() {\n    _fetchCreators = (0, _asyncToGenerator.default)(function* () {\n      var base = getBaseUrl();\n      var res = yield fetch(`${base}/api/creators`);\n      if (!res.ok) throw new Error('creators fetch failed');\n      return res.json();\n    });\n    return _fetchCreators.apply(this, arguments);\n  }\n  function fetchStories(_x) {\n    return _fetchStories.apply(this, arguments);\n  }\n  function _fetchStories() {\n    _fetchStories = (0, _asyncToGenerator.default)(function* (cursor) {\n      var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 24;\n      var base = getBaseUrl();\n      var url = new URL(`${base}/api/stories`);\n      if (cursor) url.searchParams.set('cursor', cursor);\n      url.searchParams.set('limit', String(limit));\n      var res = yield fetch(url.toString());\n      if (!res.ok) throw new Error('stories fetch failed');\n      return res.json();\n    });\n    return _fetchStories.apply(this, arguments);\n  }\n});","lineCount":52,"map":[[12,2,10,0,"exports"],[12,9,10,0],[12,10,10,0,"fetchCreators"],[12,23,10,0],[12,26,10,0,"fetchCreators"],[12,39,10,0],[13,2,17,0,"exports"],[13,9,17,0],[13,10,17,0,"fetchStories"],[13,22,17,0],[13,25,17,0,"fetchStories"],[13,37,17,0],[14,2,25,1],[14,6,25,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,25,1],[14,45,25,1,"require"],[14,52,25,1],[14,53,25,1,"_dependencyMap"],[14,67,25,1],[15,2,25,1],[15,6,25,1,"_asyncToGenerator"],[15,23,25,1],[15,26,25,1,"_interopDefault"],[15,41,25,1],[15,42,25,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,25,1],[16,2,25,1],[16,6,25,1,"_expoVirtualEnv"],[16,21,25,1],[16,24,25,1,"require"],[16,31,25,1],[16,32,25,1,"_dependencyMap"],[16,46,25,1],[17,2,1,0],[17,6,1,0,"_expoConstants"],[17,20,1,0],[17,23,1,0,"require"],[17,30,1,0],[17,31,1,0,"_dependencyMap"],[17,45,1,0],[18,2,1,0],[18,6,1,0,"Constants"],[18,15,1,0],[18,18,1,0,"_interopDefault"],[18,33,1,0],[18,34,1,0,"_expoConstants"],[18,48,1,0],[19,2,4,0],[20,2,5,0],[20,6,5,6,"getBaseUrl"],[20,16,5,16],[20,19,5,19,"getBaseUrl"],[20,20,5,19],[20,25,5,25],[21,4,6,2],[21,8,6,8,"backendUrl"],[21,18,6,18],[21,21,6,21,"Constants"],[21,30,6,30],[21,31,6,30,"default"],[21,38,6,30],[21,39,6,31,"expoConfig"],[21,49,6,41],[21,51,6,43,"extra"],[21,56,6,48],[21,58,6,50,"backendUrl"],[21,68,6,60],[21,72,6,60,"_expoVirtualEnv"],[21,87,6,60],[21,88,6,60,"env"],[21,91,6,60],[21,92,6,60,"EXPO_PUBLIC_BACKEND_URL"],[21,115,6,99],[21,119,6,103],[21,142,6,126],[22,4,7,2],[22,11,7,9,"backendUrl"],[22,21,7,19],[23,2,8,0],[23,3,8,1],[24,2,8,2],[24,11,10,22,"fetchCreators"],[24,24,10,35,"fetchCreators"],[24,25,10,35],[25,4,10,35],[25,11,10,35,"_fetchCreators"],[25,25,10,35],[25,26,10,35,"apply"],[25,31,10,35],[25,38,10,35,"arguments"],[25,47,10,35],[26,2,10,35],[27,2,10,35],[27,11,10,35,"_fetchCreators"],[27,26,10,35],[28,4,10,35,"_fetchCreators"],[28,18,10,35],[28,25,10,35,"_asyncToGenerator"],[28,42,10,35],[28,43,10,35,"default"],[28,50,10,35],[28,52,10,7],[28,65,10,58],[29,6,11,2],[29,10,11,8,"base"],[29,14,11,12],[29,17,11,15,"getBaseUrl"],[29,27,11,25],[29,28,11,26],[29,29,11,27],[30,6,12,2],[30,10,12,8,"res"],[30,13,12,11],[30,22,12,20,"fetch"],[30,27,12,25],[30,28,12,26],[30,31,12,29,"base"],[30,35,12,33],[30,50,12,48],[30,51,12,49],[31,6,13,2],[31,10,13,6],[31,11,13,7,"res"],[31,14,13,10],[31,15,13,11,"ok"],[31,17,13,13],[31,19,13,15],[31,25,13,21],[31,29,13,25,"Error"],[31,34,13,30],[31,35,13,31],[31,58,13,54],[31,59,13,55],[32,6,14,2],[32,13,14,9,"res"],[32,16,14,12],[32,17,14,13,"json"],[32,21,14,17],[32,22,14,18],[32,23,14,19],[33,4,15,0],[33,5,15,1],[34,4,15,1],[34,11,15,1,"_fetchCreators"],[34,25,15,1],[34,26,15,1,"apply"],[34,31,15,1],[34,38,15,1,"arguments"],[34,47,15,1],[35,2,15,1],[36,2,15,1],[36,11,17,22,"fetchStories"],[36,23,17,34,"fetchStories"],[36,24,17,34,"_x"],[36,26,17,34],[37,4,17,34],[37,11,17,34,"_fetchStories"],[37,24,17,34],[37,25,17,34,"apply"],[37,30,17,34],[37,37,17,34,"arguments"],[37,46,17,34],[38,2,17,34],[39,2,17,34],[39,11,17,34,"_fetchStories"],[39,25,17,34],[40,4,17,34,"_fetchStories"],[40,17,17,34],[40,24,17,34,"_asyncToGenerator"],[40,41,17,34],[40,42,17,34,"default"],[40,49,17,34],[40,51,17,7],[40,62,17,35,"cursor"],[40,68,17,57],[40,70,17,94],[41,6,17,94],[41,10,17,59,"limit"],[41,15,17,64],[41,18,17,64,"arguments"],[41,27,17,64],[41,28,17,64,"length"],[41,34,17,64],[41,42,17,64,"arguments"],[41,51,17,64],[41,59,17,64,"undefined"],[41,68,17,64],[41,71,17,64,"arguments"],[41,80,17,64],[41,86,17,67],[41,88,17,69],[42,6,18,2],[42,10,18,8,"base"],[42,14,18,12],[42,17,18,15,"getBaseUrl"],[42,27,18,25],[42,28,18,26],[42,29,18,27],[43,6,19,2],[43,10,19,8,"url"],[43,13,19,11],[43,16,19,14],[43,20,19,18,"URL"],[43,23,19,21],[43,24,19,22],[43,27,19,25,"base"],[43,31,19,29],[43,45,19,43],[43,46,19,44],[44,6,20,2],[44,10,20,6,"cursor"],[44,16,20,12],[44,18,20,14,"url"],[44,21,20,17],[44,22,20,18,"searchParams"],[44,34,20,30],[44,35,20,31,"set"],[44,38,20,34],[44,39,20,35],[44,47,20,43],[44,49,20,45,"cursor"],[44,55,20,51],[44,56,20,52],[45,6,21,2,"url"],[45,9,21,5],[45,10,21,6,"searchParams"],[45,22,21,18],[45,23,21,19,"set"],[45,26,21,22],[45,27,21,23],[45,34,21,30],[45,36,21,32,"String"],[45,42,21,38],[45,43,21,39,"limit"],[45,48,21,44],[45,49,21,45],[45,50,21,46],[46,6,22,2],[46,10,22,8,"res"],[46,13,22,11],[46,22,22,20,"fetch"],[46,27,22,25],[46,28,22,26,"url"],[46,31,22,29],[46,32,22,30,"toString"],[46,40,22,38],[46,41,22,39],[46,42,22,40],[46,43,22,41],[47,6,23,2],[47,10,23,6],[47,11,23,7,"res"],[47,14,23,10],[47,15,23,11,"ok"],[47,17,23,13],[47,19,23,15],[47,25,23,21],[47,29,23,25,"Error"],[47,34,23,30],[47,35,23,31],[47,57,23,53],[47,58,23,54],[48,6,24,2],[48,13,24,9,"res"],[48,16,24,12],[48,17,24,13,"json"],[48,21,24,17],[48,22,24,18],[48,23,24,19],[49,4,25,0],[49,5,25,1],[50,4,25,1],[50,11,25,1,"_fetchStories"],[50,24,25,1],[50,25,25,1,"apply"],[50,30,25,1],[50,37,25,1,"arguments"],[50,46,25,1],[51,2,25,1],[52,0,25,1],[52,3]],"functionMap":{"names":["<global>","getBaseUrl","fetchCreators","fetchStories"],"mappings":"AAA;mBCI;CDG;OEE;CFK;OGE"},"hasCjsExports":false},"type":"js/module"}]}