{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":69,"index":121}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"./PermissionsOnboarding","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":122},"end":{"line":3,"column":60,"index":182}}],"key":"6oNt/AlnSN+gKfExTdyP8okYaS8=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = PermissionsManager;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _PermissionsOnboarding = _interopRequireDefault(require(_dependencyMap[3], \"./PermissionsOnboarding\"));\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/src/components/PermissionsManager.tsx\";\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  function PermissionsManager({\n    children\n  }) {\n    const [showOnboarding, setShowOnboarding] = (0, _react.useState)(false);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkOnboardingStatus();\n    }, []);\n    const checkOnboardingStatus = async () => {\n      try {\n        const hasCompletedOnboarding = await _asyncStorage.default.getItem('permissions_onboarding_completed');\n        if (!hasCompletedOnboarding) {\n          // Show onboarding for first-time users\n          setShowOnboarding(true);\n        }\n      } catch (error) {\n        console.error('Error checking onboarding status:', error);\n        // Show onboarding on error to be safe\n        setShowOnboarding(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const handleOnboardingComplete = async permissions => {\n      console.log('Permissions granted:', permissions);\n\n      // Track permissions for analytics\n      try {\n        await _asyncStorage.default.setItem('initial_permissions', JSON.stringify(permissions));\n        await _asyncStorage.default.setItem('permissions_onboarding_completed', 'true');\n      } catch (error) {\n        console.error('Error saving permissions status:', error);\n      }\n      setShowOnboarding(false);\n    };\n    const handleOnboardingSkip = async () => {\n      console.log('User skipped permissions onboarding');\n      try {\n        await _asyncStorage.default.setItem('permissions_onboarding_completed', 'true');\n        await _asyncStorage.default.setItem('permissions_skipped', 'true');\n      } catch (error) {\n        console.error('Error saving skip status:', error);\n      }\n      setShowOnboarding(false);\n    };\n    if (isLoading) {\n      // Show loading state while checking onboarding status\n      return null; // Or a loading component\n    }\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_jsxDevRuntime.Fragment, {\n      children: [children, /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_PermissionsOnboarding.default, {\n        visible: showOnboarding,\n        onComplete: handleOnboardingComplete,\n        onSkip: handleOnboardingSkip\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n});","lineCount":74,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_asyncStorage"],[8,19,2,0],[8,22,2,0,"_interopRequireDefault"],[8,44,2,0],[8,45,2,0,"require"],[8,52,2,0],[8,53,2,0,"_dependencyMap"],[8,67,2,0],[9,2,3,0],[9,6,3,0,"_PermissionsOnboarding"],[9,28,3,0],[9,31,3,0,"_interopRequireDefault"],[9,53,3,0],[9,54,3,0,"require"],[9,61,3,0],[9,62,3,0,"_dependencyMap"],[9,76,3,0],[10,2,3,60],[10,6,3,60,"_jsxDevRuntime"],[10,20,3,60],[10,23,3,60,"require"],[10,30,3,60],[10,31,3,60,"_dependencyMap"],[10,45,3,60],[11,2,3,60],[11,6,3,60,"_jsxFileName"],[11,18,3,60],[12,2,3,60],[12,11,3,60,"_interopRequireWildcard"],[12,35,3,60,"e"],[12,36,3,60],[12,38,3,60,"t"],[12,39,3,60],[12,68,3,60,"WeakMap"],[12,75,3,60],[12,81,3,60,"r"],[12,82,3,60],[12,89,3,60,"WeakMap"],[12,96,3,60],[12,100,3,60,"n"],[12,101,3,60],[12,108,3,60,"WeakMap"],[12,115,3,60],[12,127,3,60,"_interopRequireWildcard"],[12,150,3,60],[12,162,3,60,"_interopRequireWildcard"],[12,163,3,60,"e"],[12,164,3,60],[12,166,3,60,"t"],[12,167,3,60],[12,176,3,60,"t"],[12,177,3,60],[12,181,3,60,"e"],[12,182,3,60],[12,186,3,60,"e"],[12,187,3,60],[12,188,3,60,"__esModule"],[12,198,3,60],[12,207,3,60,"e"],[12,208,3,60],[12,214,3,60,"o"],[12,215,3,60],[12,217,3,60,"i"],[12,218,3,60],[12,220,3,60,"f"],[12,221,3,60],[12,226,3,60,"__proto__"],[12,235,3,60],[12,243,3,60,"default"],[12,250,3,60],[12,252,3,60,"e"],[12,253,3,60],[12,270,3,60,"e"],[12,271,3,60],[12,294,3,60,"e"],[12,295,3,60],[12,320,3,60,"e"],[12,321,3,60],[12,330,3,60,"f"],[12,331,3,60],[12,337,3,60,"o"],[12,338,3,60],[12,341,3,60,"t"],[12,342,3,60],[12,345,3,60,"n"],[12,346,3,60],[12,349,3,60,"r"],[12,350,3,60],[12,358,3,60,"o"],[12,359,3,60],[12,360,3,60,"has"],[12,363,3,60],[12,364,3,60,"e"],[12,365,3,60],[12,375,3,60,"o"],[12,376,3,60],[12,377,3,60,"get"],[12,380,3,60],[12,381,3,60,"e"],[12,382,3,60],[12,385,3,60,"o"],[12,386,3,60],[12,387,3,60,"set"],[12,390,3,60],[12,391,3,60,"e"],[12,392,3,60],[12,394,3,60,"f"],[12,395,3,60],[12,411,3,60,"t"],[12,412,3,60],[12,416,3,60,"e"],[12,417,3,60],[12,433,3,60,"t"],[12,434,3,60],[12,441,3,60,"hasOwnProperty"],[12,455,3,60],[12,456,3,60,"call"],[12,460,3,60],[12,461,3,60,"e"],[12,462,3,60],[12,464,3,60,"t"],[12,465,3,60],[12,472,3,60,"i"],[12,473,3,60],[12,477,3,60,"o"],[12,478,3,60],[12,481,3,60,"Object"],[12,487,3,60],[12,488,3,60,"defineProperty"],[12,502,3,60],[12,507,3,60,"Object"],[12,513,3,60],[12,514,3,60,"getOwnPropertyDescriptor"],[12,538,3,60],[12,539,3,60,"e"],[12,540,3,60],[12,542,3,60,"t"],[12,543,3,60],[12,550,3,60,"i"],[12,551,3,60],[12,552,3,60,"get"],[12,555,3,60],[12,559,3,60,"i"],[12,560,3,60],[12,561,3,60,"set"],[12,564,3,60],[12,568,3,60,"o"],[12,569,3,60],[12,570,3,60,"f"],[12,571,3,60],[12,573,3,60,"t"],[12,574,3,60],[12,576,3,60,"i"],[12,577,3,60],[12,581,3,60,"f"],[12,582,3,60],[12,583,3,60,"t"],[12,584,3,60],[12,588,3,60,"e"],[12,589,3,60],[12,590,3,60,"t"],[12,591,3,60],[12,602,3,60,"f"],[12,603,3,60],[12,608,3,60,"e"],[12,609,3,60],[12,611,3,60,"t"],[12,612,3,60],[13,2,9,15],[13,11,9,24,"PermissionsManager"],[13,29,9,42,"PermissionsManager"],[13,30,9,43],[14,4,9,45,"children"],[15,2,9,79],[15,3,9,80],[15,5,9,82],[16,4,10,2],[16,10,10,8],[16,11,10,9,"showOnboarding"],[16,25,10,23],[16,27,10,25,"setShowOnboarding"],[16,44,10,42],[16,45,10,43],[16,48,10,46],[16,52,10,46,"useState"],[16,67,10,54],[16,69,10,55],[16,74,10,60],[16,75,10,61],[17,4,11,2],[17,10,11,8],[17,11,11,9,"isLoading"],[17,20,11,18],[17,22,11,20,"setIsLoading"],[17,34,11,32],[17,35,11,33],[17,38,11,36],[17,42,11,36,"useState"],[17,57,11,44],[17,59,11,45],[17,63,11,49],[17,64,11,50],[18,4,13,2],[18,8,13,2,"useEffect"],[18,24,13,11],[18,26,13,12],[18,32,13,18],[19,6,14,4,"checkOnboardingStatus"],[19,27,14,25],[19,28,14,26],[19,29,14,27],[20,4,15,2],[20,5,15,3],[20,7,15,5],[20,9,15,7],[20,10,15,8],[21,4,17,2],[21,10,17,8,"checkOnboardingStatus"],[21,31,17,29],[21,34,17,32],[21,40,17,32,"checkOnboardingStatus"],[21,41,17,32],[21,46,17,44],[22,6,18,4],[22,10,18,8],[23,8,19,6],[23,14,19,12,"hasCompletedOnboarding"],[23,36,19,34],[23,39,19,37],[23,45,19,43,"AsyncStorage"],[23,66,19,55],[23,67,19,56,"getItem"],[23,74,19,63],[23,75,19,64],[23,109,19,98],[23,110,19,99],[24,8,21,6],[24,12,21,10],[24,13,21,11,"hasCompletedOnboarding"],[24,35,21,33],[24,37,21,35],[25,10,22,8],[26,10,23,8,"setShowOnboarding"],[26,27,23,25],[26,28,23,26],[26,32,23,30],[26,33,23,31],[27,8,24,6],[28,6,25,4],[28,7,25,5],[28,8,25,6],[28,15,25,13,"error"],[28,20,25,18],[28,22,25,20],[29,8,26,6,"console"],[29,15,26,13],[29,16,26,14,"error"],[29,21,26,19],[29,22,26,20],[29,57,26,55],[29,59,26,57,"error"],[29,64,26,62],[29,65,26,63],[30,8,27,6],[31,8,28,6,"setShowOnboarding"],[31,25,28,23],[31,26,28,24],[31,30,28,28],[31,31,28,29],[32,6,29,4],[32,7,29,5],[32,16,29,14],[33,8,30,6,"setIsLoading"],[33,20,30,18],[33,21,30,19],[33,26,30,24],[33,27,30,25],[34,6,31,4],[35,4,32,2],[35,5,32,3],[36,4,34,2],[36,10,34,8,"handleOnboardingComplete"],[36,34,34,32],[36,37,34,35],[36,43,34,42,"permissions"],[36,54,34,81],[36,58,34,86],[37,6,35,4,"console"],[37,13,35,11],[37,14,35,12,"log"],[37,17,35,15],[37,18,35,16],[37,40,35,38],[37,42,35,40,"permissions"],[37,53,35,51],[37,54,35,52],[39,6,37,4],[40,6,38,4],[40,10,38,8],[41,8,39,6],[41,14,39,12,"AsyncStorage"],[41,35,39,24],[41,36,39,25,"setItem"],[41,43,39,32],[41,44,39,33],[41,65,39,54],[41,67,39,56,"JSON"],[41,71,39,60],[41,72,39,61,"stringify"],[41,81,39,70],[41,82,39,71,"permissions"],[41,93,39,82],[41,94,39,83],[41,95,39,84],[42,8,40,6],[42,14,40,12,"AsyncStorage"],[42,35,40,24],[42,36,40,25,"setItem"],[42,43,40,32],[42,44,40,33],[42,78,40,67],[42,80,40,69],[42,86,40,75],[42,87,40,76],[43,6,41,4],[43,7,41,5],[43,8,41,6],[43,15,41,13,"error"],[43,20,41,18],[43,22,41,20],[44,8,42,6,"console"],[44,15,42,13],[44,16,42,14,"error"],[44,21,42,19],[44,22,42,20],[44,56,42,54],[44,58,42,56,"error"],[44,63,42,61],[44,64,42,62],[45,6,43,4],[46,6,45,4,"setShowOnboarding"],[46,23,45,21],[46,24,45,22],[46,29,45,27],[46,30,45,28],[47,4,46,2],[47,5,46,3],[48,4,48,2],[48,10,48,8,"handleOnboardingSkip"],[48,30,48,28],[48,33,48,31],[48,39,48,31,"handleOnboardingSkip"],[48,40,48,31],[48,45,48,43],[49,6,49,4,"console"],[49,13,49,11],[49,14,49,12,"log"],[49,17,49,15],[49,18,49,16],[49,55,49,53],[49,56,49,54],[50,6,51,4],[50,10,51,8],[51,8,52,6],[51,14,52,12,"AsyncStorage"],[51,35,52,24],[51,36,52,25,"setItem"],[51,43,52,32],[51,44,52,33],[51,78,52,67],[51,80,52,69],[51,86,52,75],[51,87,52,76],[52,8,53,6],[52,14,53,12,"AsyncStorage"],[52,35,53,24],[52,36,53,25,"setItem"],[52,43,53,32],[52,44,53,33],[52,65,53,54],[52,67,53,56],[52,73,53,62],[52,74,53,63],[53,6,54,4],[53,7,54,5],[53,8,54,6],[53,15,54,13,"error"],[53,20,54,18],[53,22,54,20],[54,8,55,6,"console"],[54,15,55,13],[54,16,55,14,"error"],[54,21,55,19],[54,22,55,20],[54,49,55,47],[54,51,55,49,"error"],[54,56,55,54],[54,57,55,55],[55,6,56,4],[56,6,58,4,"setShowOnboarding"],[56,23,58,21],[56,24,58,22],[56,29,58,27],[56,30,58,28],[57,4,59,2],[57,5,59,3],[58,4,61,2],[58,8,61,6,"isLoading"],[58,17,61,15],[58,19,61,17],[59,6,62,4],[60,6,63,4],[60,13,63,11],[60,17,63,15],[60,18,63,16],[60,19,63,17],[61,4,64,2],[62,4,66,2],[62,24,67,4],[62,28,67,4,"_jsxDevRuntime"],[62,42,67,4],[62,43,67,4,"jsxDEV"],[62,49,67,4],[62,51,67,4,"_jsxDevRuntime"],[62,65,67,4],[62,66,67,4,"Fragment"],[62,74,67,4],[63,6,67,4,"children"],[63,14,67,4],[63,17,68,7,"children"],[63,25,68,15],[63,40,69,6],[63,44,69,6,"_jsxDevRuntime"],[63,58,69,6],[63,59,69,6,"jsxDEV"],[63,65,69,6],[63,67,69,7,"_PermissionsOnboarding"],[63,89,69,7],[63,90,69,7,"default"],[63,97,69,28],[64,8,70,8,"visible"],[64,15,70,15],[64,17,70,17,"showOnboarding"],[64,31,70,32],[65,8,71,8,"onComplete"],[65,18,71,18],[65,20,71,20,"handleOnboardingComplete"],[65,44,71,45],[66,8,72,8,"onSkip"],[66,14,72,14],[66,16,72,16,"handleOnboardingSkip"],[67,6,72,37],[68,8,72,37,"fileName"],[68,16,72,37],[68,18,72,37,"_jsxFileName"],[68,30,72,37],[69,8,72,37,"lineNumber"],[69,18,72,37],[70,8,72,37,"columnNumber"],[70,20,72,37],[71,6,72,37],[71,13,73,7],[71,14,73,8],[72,4,73,8],[72,19,74,6],[72,20,74,7],[73,2,76,0],[74,0,76,1],[74,3]],"functionMap":{"names":["<global>","PermissionsManager","useEffect$argument_0","checkOnboardingStatus","handleOnboardingComplete","handleOnboardingSkip"],"mappings":"AAA;eCQ;YCI;GDE;gCEE;GFe;mCGE;GHY;+BIE;GJW"}},"type":"js/module"}]}