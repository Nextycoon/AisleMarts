{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/CartContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useCart\", {\n    enumerable: true,\n    get: function () {\n      return useCart;\n    }\n  });\n  Object.defineProperty(exports, \"CartProvider\", {\n    enumerable: true,\n    get: function () {\n      return CartProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const CartContext = /*#__PURE__*/(0, _react.createContext)({});\n  const useCart = () => {\n    _s();\n    return (0, _react.useContext)(CartContext);\n  };\n  _s(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  const CartProvider = ({\n    children\n  }) => {\n    _s2();\n    const [items, setItems] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadCart();\n    }, []);\n    (0, _react.useEffect)(() => {\n      saveCart();\n    }, [items]);\n    const loadCart = async () => {\n      try {\n        const stored = await AsyncStorage.default.getItem('cart_items');\n        if (stored) {\n          setItems(JSON.parse(stored));\n        }\n      } catch (error) {\n        console.log('Failed to load cart:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const saveCart = async () => {\n      try {\n        await AsyncStorage.default.setItem('cart_items', JSON.stringify(items));\n      } catch (error) {\n        console.log('Failed to save cart:', error);\n      }\n    };\n    const addItem = newItem => {\n      setItems(prev => {\n        const existingIndex = prev.findIndex(item => item.product_id === newItem.product_id);\n        if (existingIndex > -1) {\n          const updated = [...prev];\n          updated[existingIndex] = Object.assign({}, updated[existingIndex], {\n            quantity: updated[existingIndex].quantity + newItem.quantity\n          });\n          return updated;\n        } else {\n          return [...prev, newItem];\n        }\n      });\n    };\n    const removeItem = productId => {\n      setItems(prev => prev.filter(item => item.product_id !== productId));\n    };\n    const updateQuantity = (productId, quantity) => {\n      if (quantity <= 0) {\n        removeItem(productId);\n        return;\n      }\n      setItems(prev => prev.map(item => item.product_id === productId ? Object.assign({}, item, {\n        quantity\n      }) : item));\n    };\n    const clearCart = () => {\n      setItems([]);\n    };\n    const itemCount = items.reduce((total, item) => total + item.quantity, 0);\n    const totalAmount = items.reduce((total, item) => total + item.price * item.quantity, 0);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(CartContext.Provider, {\n      value: {\n        items,\n        itemCount,\n        totalAmount,\n        addItem,\n        removeItem,\n        updateQuantity,\n        clearCart,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  };\n  _s2(CartProvider, \"uSBwtQKlC2kXgBlxYT1Aq2ri8uE=\");\n  _c = CartProvider;\n  var _c;\n  $RefreshReg$(_c, \"CartProvider\");\n});","lineCount":121,"map":[[15,2,26,0,"Object"],[15,8,26,0],[15,9,26,0,"defineProperty"],[15,23,26,0],[15,24,26,0,"exports"],[15,31,26,0],[16,4,26,0,"enumerable"],[16,14,26,0],[17,4,26,0,"get"],[17,7,26,0],[17,18,26,0,"get"],[17,19,26,0],[18,6,26,0],[18,13,26,0,"useCart"],[18,20,26,0],[19,4,26,0],[20,2,26,0],[21,2,28,0,"Object"],[21,8,28,0],[21,9,28,0,"defineProperty"],[21,23,28,0],[21,24,28,0,"exports"],[21,31,28,0],[22,4,28,0,"enumerable"],[22,14,28,0],[23,4,28,0,"get"],[23,7,28,0],[23,18,28,0,"get"],[23,19,28,0],[24,6,28,0],[24,13,28,0,"CartProvider"],[24,25,28,0],[25,4,28,0],[26,2,28,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,2,69],[30,6,2,69,"_reactJsxDevRuntime"],[30,25,2,69],[30,28,2,69,"require"],[30,35,2,69],[30,36,2,69,"_dependencyMap"],[30,50,2,69],[31,2,24,0],[31,8,24,6,"CartContext"],[31,19,24,17],[31,35,24,20],[31,39,24,20,"createContext"],[31,45,24,33],[31,46,24,33,"createContext"],[31,59,24,33],[31,61,24,51],[31,62,24,52],[31,63,24,72],[31,64,24,73],[32,2,26,7],[32,8,26,13,"useCart"],[32,15,26,20],[32,18,26,23,"useCart"],[32,19,26,23],[33,4,26,23,"_s"],[33,6,26,23],[34,4,26,23],[34,11,26,29],[34,15,26,29,"useContext"],[34,21,26,39],[34,22,26,39,"useContext"],[34,32,26,39],[34,34,26,40,"CartContext"],[34,45,26,51],[34,46,26,52],[35,2,26,52],[36,2,26,53,"_s"],[36,4,26,53],[36,5,26,13,"useCart"],[36,12,26,20],[37,2,28,7],[37,8,28,13,"CartProvider"],[37,20,28,66],[37,23,28,69,"CartProvider"],[37,24,28,70],[38,4,28,72,"children"],[39,2,28,81],[39,3,28,82],[39,8,28,87],[40,4,28,87,"_s2"],[40,7,28,87],[41,4,29,2],[41,10,29,8],[41,11,29,9,"items"],[41,16,29,14],[41,18,29,16,"setItems"],[41,26,29,24],[41,27,29,25],[41,30,29,28],[41,34,29,28,"useState"],[41,40,29,36],[41,41,29,36,"useState"],[41,49,29,36],[41,51,29,49],[41,53,29,51],[41,54,29,52],[42,4,30,2],[42,10,30,8],[42,11,30,9,"loading"],[42,18,30,16],[42,20,30,18,"setLoading"],[42,30,30,28],[42,31,30,29],[42,34,30,32],[42,38,30,32,"useState"],[42,44,30,40],[42,45,30,40,"useState"],[42,53,30,40],[42,55,30,41],[42,59,30,45],[42,60,30,46],[43,4,32,2],[43,8,32,2,"useEffect"],[43,14,32,11],[43,15,32,11,"useEffect"],[43,24,32,11],[43,26,32,12],[43,32,32,18],[44,6,33,4,"loadCart"],[44,14,33,12],[44,15,33,13],[44,16,33,14],[45,4,34,2],[45,5,34,3],[45,7,34,5],[45,9,34,7],[45,10,34,8],[46,4,36,2],[46,8,36,2,"useEffect"],[46,14,36,11],[46,15,36,11,"useEffect"],[46,24,36,11],[46,26,36,12],[46,32,36,18],[47,6,37,4,"saveCart"],[47,14,37,12],[47,15,37,13],[47,16,37,14],[48,4,38,2],[48,5,38,3],[48,7,38,5],[48,8,38,6,"items"],[48,13,38,11],[48,14,38,12],[48,15,38,13],[49,4,40,2],[49,10,40,8,"loadCart"],[49,18,40,16],[49,21,40,19],[49,27,40,19,"loadCart"],[49,28,40,19],[49,33,40,31],[50,6,41,4],[50,10,41,8],[51,8,42,6],[51,14,42,12,"stored"],[51,20,42,18],[51,23,42,21],[51,29,42,27,"AsyncStorage"],[51,41,42,39],[51,42,42,39,"default"],[51,49,42,39],[51,50,42,40,"getItem"],[51,57,42,47],[51,58,42,48],[51,70,42,60],[51,71,42,61],[52,8,43,6],[52,12,43,10,"stored"],[52,18,43,16],[52,20,43,18],[53,10,44,8,"setItems"],[53,18,44,16],[53,19,44,17,"JSON"],[53,23,44,21],[53,24,44,22,"parse"],[53,29,44,27],[53,30,44,28,"stored"],[53,36,44,34],[53,37,44,35],[53,38,44,36],[54,8,45,6],[55,6,46,4],[55,7,46,5],[55,8,46,6],[55,15,46,13,"error"],[55,20,46,18],[55,22,46,20],[56,8,47,6,"console"],[56,15,47,13],[56,16,47,14,"log"],[56,19,47,17],[56,20,47,18],[56,42,47,40],[56,44,47,42,"error"],[56,49,47,47],[56,50,47,48],[57,6,48,4],[57,7,48,5],[57,16,48,14],[58,8,49,6,"setLoading"],[58,18,49,16],[58,19,49,17],[58,24,49,22],[58,25,49,23],[59,6,50,4],[60,4,51,2],[60,5,51,3],[61,4,53,2],[61,10,53,8,"saveCart"],[61,18,53,16],[61,21,53,19],[61,27,53,19,"saveCart"],[61,28,53,19],[61,33,53,31],[62,6,54,4],[62,10,54,8],[63,8,55,6],[63,14,55,12,"AsyncStorage"],[63,26,55,24],[63,27,55,24,"default"],[63,34,55,24],[63,35,55,25,"setItem"],[63,42,55,32],[63,43,55,33],[63,55,55,45],[63,57,55,47,"JSON"],[63,61,55,51],[63,62,55,52,"stringify"],[63,71,55,61],[63,72,55,62,"items"],[63,77,55,67],[63,78,55,68],[63,79,55,69],[64,6,56,4],[64,7,56,5],[64,8,56,6],[64,15,56,13,"error"],[64,20,56,18],[64,22,56,20],[65,8,57,6,"console"],[65,15,57,13],[65,16,57,14,"log"],[65,19,57,17],[65,20,57,18],[65,42,57,40],[65,44,57,42,"error"],[65,49,57,47],[65,50,57,48],[66,6,58,4],[67,4,59,2],[67,5,59,3],[68,4,61,2],[68,10,61,8,"addItem"],[68,17,61,15],[68,20,61,19,"newItem"],[68,27,61,36],[68,31,61,41],[69,6,62,4,"setItems"],[69,14,62,12],[69,15,62,13,"prev"],[69,19,62,17],[69,23,62,21],[70,8,63,6],[70,14,63,12,"existingIndex"],[70,27,63,25],[70,30,63,28,"prev"],[70,34,63,32],[70,35,63,33,"findIndex"],[70,44,63,42],[70,45,63,43,"item"],[70,49,63,47],[70,53,63,51,"item"],[70,57,63,55],[70,58,63,56,"product_id"],[70,68,63,66],[70,73,63,71,"newItem"],[70,80,63,78],[70,81,63,79,"product_id"],[70,91,63,89],[70,92,63,90],[71,8,65,6],[71,12,65,10,"existingIndex"],[71,25,65,23],[71,28,65,26],[71,29,65,27],[71,30,65,28],[71,32,65,30],[72,10,66,8],[72,16,66,14,"updated"],[72,23,66,21],[72,26,66,24],[72,27,66,25],[72,30,66,28,"prev"],[72,34,66,32],[72,35,66,33],[73,10,67,8,"updated"],[73,17,67,15],[73,18,67,16,"existingIndex"],[73,31,67,29],[73,32,67,30],[73,35,67,30,"Object"],[73,41,67,30],[73,42,67,30,"assign"],[73,48,67,30],[73,53,68,13,"updated"],[73,60,68,20],[73,61,68,21,"existingIndex"],[73,74,68,34],[73,75,68,35],[74,12,69,10,"quantity"],[74,20,69,18],[74,22,69,20,"updated"],[74,29,69,27],[74,30,69,28,"existingIndex"],[74,43,69,41],[74,44,69,42],[74,45,69,43,"quantity"],[74,53,69,51],[74,56,69,54,"newItem"],[74,63,69,61],[74,64,69,62,"quantity"],[75,10,69,70],[75,12,70,9],[76,10,71,8],[76,17,71,15,"updated"],[76,24,71,22],[77,8,72,6],[77,9,72,7],[77,15,72,13],[78,10,73,8],[78,17,73,15],[78,18,73,16],[78,21,73,19,"prev"],[78,25,73,23],[78,27,73,25,"newItem"],[78,34,73,32],[78,35,73,33],[79,8,74,6],[80,6,75,4],[80,7,75,5],[80,8,75,6],[81,4,76,2],[81,5,76,3],[82,4,78,2],[82,10,78,8,"removeItem"],[82,20,78,18],[82,23,78,22,"productId"],[82,32,78,39],[82,36,78,44],[83,6,79,4,"setItems"],[83,14,79,12],[83,15,79,13,"prev"],[83,19,79,17],[83,23,79,21,"prev"],[83,27,79,25],[83,28,79,26,"filter"],[83,34,79,32],[83,35,79,33,"item"],[83,39,79,37],[83,43,79,41,"item"],[83,47,79,45],[83,48,79,46,"product_id"],[83,58,79,56],[83,63,79,61,"productId"],[83,72,79,70],[83,73,79,71],[83,74,79,72],[84,4,80,2],[84,5,80,3],[85,4,82,2],[85,10,82,8,"updateQuantity"],[85,24,82,22],[85,27,82,25,"updateQuantity"],[85,28,82,26,"productId"],[85,37,82,43],[85,39,82,45,"quantity"],[85,47,82,61],[85,52,82,66],[86,6,83,4],[86,10,83,8,"quantity"],[86,18,83,16],[86,22,83,20],[86,23,83,21],[86,25,83,23],[87,8,84,6,"removeItem"],[87,18,84,16],[87,19,84,17,"productId"],[87,28,84,26],[87,29,84,27],[88,8,85,6],[89,6,86,4],[90,6,88,4,"setItems"],[90,14,88,12],[90,15,88,13,"prev"],[90,19,88,17],[90,23,88,21,"prev"],[90,27,88,25],[90,28,88,26,"map"],[90,31,88,29],[90,32,88,30,"item"],[90,36,88,34],[90,40,89,6,"item"],[90,44,89,10],[90,45,89,11,"product_id"],[90,55,89,21],[90,60,89,26,"productId"],[90,69,89,35],[90,72,89,35,"Object"],[90,78,89,35],[90,79,89,35,"assign"],[90,85,89,35],[90,90,89,43,"item"],[90,94,89,47],[91,8,89,49,"quantity"],[92,6,89,57],[92,11,89,62,"item"],[92,15,90,4],[92,16,90,5],[92,17,90,6],[93,4,91,2],[93,5,91,3],[94,4,93,2],[94,10,93,8,"clearCart"],[94,19,93,17],[94,22,93,20,"clearCart"],[94,23,93,20],[94,28,93,26],[95,6,94,4,"setItems"],[95,14,94,12],[95,15,94,13],[95,17,94,15],[95,18,94,16],[96,4,95,2],[96,5,95,3],[97,4,97,2],[97,10,97,8,"itemCount"],[97,19,97,17],[97,22,97,20,"items"],[97,27,97,25],[97,28,97,26,"reduce"],[97,34,97,32],[97,35,97,33],[97,36,97,34,"total"],[97,41,97,39],[97,43,97,41,"item"],[97,47,97,45],[97,52,97,50,"total"],[97,57,97,55],[97,60,97,58,"item"],[97,64,97,62],[97,65,97,63,"quantity"],[97,73,97,71],[97,75,97,73],[97,76,97,74],[97,77,97,75],[98,4,98,2],[98,10,98,8,"totalAmount"],[98,21,98,19],[98,24,98,22,"items"],[98,29,98,27],[98,30,98,28,"reduce"],[98,36,98,34],[98,37,98,35],[98,38,98,36,"total"],[98,43,98,41],[98,45,98,43,"item"],[98,49,98,47],[98,54,98,52,"total"],[98,59,98,57],[98,62,98,61,"item"],[98,66,98,65],[98,67,98,66,"price"],[98,72,98,71],[98,75,98,74,"item"],[98,79,98,78],[98,80,98,79,"quantity"],[98,88,98,88],[98,90,98,90],[98,91,98,91],[98,92,98,92],[99,4,100,2],[99,24,101,4],[99,28,101,4,"_reactJsxDevRuntime"],[99,47,101,4],[99,48,101,4,"jsxDEV"],[99,54,101,4],[99,56,101,5,"CartContext"],[99,67,101,16],[99,68,101,17,"Provider"],[99,76,101,25],[100,6,101,26,"value"],[100,11,101,31],[100,13,101,33],[101,8,102,6,"items"],[101,13,102,11],[102,8,103,6,"itemCount"],[102,17,103,15],[103,8,104,6,"totalAmount"],[103,19,104,17],[104,8,105,6,"addItem"],[104,15,105,13],[105,8,106,6,"removeItem"],[105,18,106,16],[106,8,107,6,"updateQuantity"],[106,22,107,20],[107,8,108,6,"clearCart"],[107,17,108,15],[108,8,109,6,"loading"],[109,6,110,4],[109,7,110,6],[110,6,110,6,"children"],[110,14,110,6],[110,16,111,7,"children"],[111,4,111,15],[112,6,111,15,"fileName"],[112,14,111,15],[112,16,111,15,"_jsxFileName"],[112,28,111,15],[113,6,111,15,"lineNumber"],[113,16,111,15],[114,6,111,15,"columnNumber"],[114,18,111,15],[115,4,111,15],[115,11,112,26],[115,12,112,27],[116,2,114,0],[116,3,114,1],[117,2,114,2,"_s2"],[117,5,114,2],[117,6,28,13,"CartProvider"],[117,18,28,66],[118,2,28,66,"_c"],[118,4,28,66],[118,7,28,13,"CartProvider"],[118,19,28,66],[119,2,28,66],[119,6,28,66,"_c"],[119,8,28,66],[120,2,28,66,"$RefreshReg$"],[120,14,28,66],[120,15,28,66,"_c"],[120,17,28,66],[121,0,28,66],[121,3]],"functionMap":{"names":["<global>","useCart","CartProvider","useEffect$argument_0","loadCart","saveCart","addItem","setItems$argument_0","prev.findIndex$argument_0","removeItem","prev.filter$argument_0","updateQuantity","prev.map$argument_0","clearCart","items.reduce$argument_0"],"mappings":"AAA;uBCyB,6BD;qEEE;YCI;GDE;YCE;GDE;mBEE;GFW;mBGE;GHM;kBIE;aCC;2CCC,8CD;KDY;GJC;qBOE;aFC,oBG,qCH,CE;GPC;yBSE;aJM,iBK;kELC;KIC;GTC;oBWE;GXE;iCYE,sCZ;mCYC,qDZ;CFgB"},"hasCjsExports":false},"type":"js/module"}]}