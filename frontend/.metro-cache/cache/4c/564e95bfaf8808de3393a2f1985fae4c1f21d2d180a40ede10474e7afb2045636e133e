{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"../api/client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":45,"index":194}}],"key":"vrY6iF+Nd2CrRu9d6eBxeX1BPiA=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuth = exports.AuthProvider = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _client = require(_dependencyMap[3], \"../api/client\");\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n  exports.useAuth = useAuth;\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)();\n    const [token, setToken] = (0, _react.useState)();\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await _asyncStorage.default.getItem('auth_token');\n        if (storedToken) {\n          (0, _client.setAuth)(storedToken);\n          setToken(storedToken);\n\n          // Verify token by fetching user data\n          const {\n            data\n          } = await _client.API.get('/auth/me');\n          setUser(data);\n        }\n      } catch (error) {\n        console.log('Failed to load stored auth:', error);\n        await _asyncStorage.default.removeItem('auth_token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const {\n        data\n      } = await _client.API.post('/auth/login', {\n        email,\n        password\n      });\n      const newToken = data.access_token;\n      await _asyncStorage.default.setItem('auth_token', newToken);\n      (0, _client.setAuth)(newToken);\n      setToken(newToken);\n\n      // Fetch user data\n      const userResponse = await _client.API.get('/auth/me');\n      setUser(userResponse.data);\n    };\n    const register = async (email, password, name) => {\n      const {\n        data\n      } = await _client.API.post('/auth/register', {\n        email,\n        password,\n        name\n      });\n      const newToken = data.access_token;\n      await _asyncStorage.default.setItem('auth_token', newToken);\n      (0, _client.setAuth)(newToken);\n      setToken(newToken);\n\n      // Fetch user data\n      const userResponse = await _client.API.get('/auth/me');\n      setUser(userResponse.data);\n    };\n    const logout = async () => {\n      await _asyncStorage.default.removeItem('auth_token');\n      (0, _client.setAuth)(undefined);\n      setToken(undefined);\n      setUser(undefined);\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this);\n  };\n  exports.AuthProvider = AuthProvider;\n});","lineCount":101,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_asyncStorage"],[8,19,2,0],[8,22,2,0,"_interopRequireDefault"],[8,44,2,0],[8,45,2,0,"require"],[8,52,2,0],[8,53,2,0,"_dependencyMap"],[8,67,2,0],[9,2,3,0],[9,6,3,0,"_client"],[9,13,3,0],[9,16,3,0,"require"],[9,23,3,0],[9,24,3,0,"_dependencyMap"],[9,38,3,0],[10,2,3,45],[10,6,3,45,"_jsxDevRuntime"],[10,20,3,45],[10,23,3,45,"require"],[10,30,3,45],[10,31,3,45,"_dependencyMap"],[10,45,3,45],[11,2,3,45],[11,6,3,45,"_jsxFileName"],[11,18,3,45],[12,2,3,45],[12,11,3,45,"_interopRequireWildcard"],[12,35,3,45,"e"],[12,36,3,45],[12,38,3,45,"t"],[12,39,3,45],[12,68,3,45,"WeakMap"],[12,75,3,45],[12,81,3,45,"r"],[12,82,3,45],[12,89,3,45,"WeakMap"],[12,96,3,45],[12,100,3,45,"n"],[12,101,3,45],[12,108,3,45,"WeakMap"],[12,115,3,45],[12,127,3,45,"_interopRequireWildcard"],[12,150,3,45],[12,162,3,45,"_interopRequireWildcard"],[12,163,3,45,"e"],[12,164,3,45],[12,166,3,45,"t"],[12,167,3,45],[12,176,3,45,"t"],[12,177,3,45],[12,181,3,45,"e"],[12,182,3,45],[12,186,3,45,"e"],[12,187,3,45],[12,188,3,45,"__esModule"],[12,198,3,45],[12,207,3,45,"e"],[12,208,3,45],[12,214,3,45,"o"],[12,215,3,45],[12,217,3,45,"i"],[12,218,3,45],[12,220,3,45,"f"],[12,221,3,45],[12,226,3,45,"__proto__"],[12,235,3,45],[12,243,3,45,"default"],[12,250,3,45],[12,252,3,45,"e"],[12,253,3,45],[12,270,3,45,"e"],[12,271,3,45],[12,294,3,45,"e"],[12,295,3,45],[12,320,3,45,"e"],[12,321,3,45],[12,330,3,45,"f"],[12,331,3,45],[12,337,3,45,"o"],[12,338,3,45],[12,341,3,45,"t"],[12,342,3,45],[12,345,3,45,"n"],[12,346,3,45],[12,349,3,45,"r"],[12,350,3,45],[12,358,3,45,"o"],[12,359,3,45],[12,360,3,45,"has"],[12,363,3,45],[12,364,3,45,"e"],[12,365,3,45],[12,375,3,45,"o"],[12,376,3,45],[12,377,3,45,"get"],[12,380,3,45],[12,381,3,45,"e"],[12,382,3,45],[12,385,3,45,"o"],[12,386,3,45],[12,387,3,45,"set"],[12,390,3,45],[12,391,3,45,"e"],[12,392,3,45],[12,394,3,45,"f"],[12,395,3,45],[12,411,3,45,"t"],[12,412,3,45],[12,416,3,45,"e"],[12,417,3,45],[12,433,3,45,"t"],[12,434,3,45],[12,441,3,45,"hasOwnProperty"],[12,455,3,45],[12,456,3,45,"call"],[12,460,3,45],[12,461,3,45,"e"],[12,462,3,45],[12,464,3,45,"t"],[12,465,3,45],[12,472,3,45,"i"],[12,473,3,45],[12,477,3,45,"o"],[12,478,3,45],[12,481,3,45,"Object"],[12,487,3,45],[12,488,3,45,"defineProperty"],[12,502,3,45],[12,507,3,45,"Object"],[12,513,3,45],[12,514,3,45,"getOwnPropertyDescriptor"],[12,538,3,45],[12,539,3,45,"e"],[12,540,3,45],[12,542,3,45,"t"],[12,543,3,45],[12,550,3,45,"i"],[12,551,3,45],[12,552,3,45,"get"],[12,555,3,45],[12,559,3,45,"i"],[12,560,3,45],[12,561,3,45,"set"],[12,564,3,45],[12,568,3,45,"o"],[12,569,3,45],[12,570,3,45,"f"],[12,571,3,45],[12,573,3,45,"t"],[12,574,3,45],[12,576,3,45,"i"],[12,577,3,45],[12,581,3,45,"f"],[12,582,3,45],[12,583,3,45,"t"],[12,584,3,45],[12,588,3,45,"e"],[12,589,3,45],[12,590,3,45,"t"],[12,591,3,45],[12,602,3,45,"f"],[12,603,3,45],[12,608,3,45,"e"],[12,609,3,45],[12,611,3,45,"t"],[12,612,3,45],[13,2,21,0],[13,8,21,6,"AuthContext"],[13,19,21,17],[13,35,21,20],[13,39,21,20,"createContext"],[13,59,21,33],[13,61,21,51],[13,62,21,52],[13,63,21,72],[13,64,21,73],[14,2,23,7],[14,8,23,13,"useAuth"],[14,15,23,20],[14,18,23,23,"useAuth"],[14,19,23,23],[14,24,23,29],[14,28,23,29,"useContext"],[14,45,23,39],[14,47,23,40,"AuthContext"],[14,58,23,51],[14,59,23,52],[15,2,23,53,"exports"],[15,9,23,53],[15,10,23,53,"useAuth"],[15,17,23,53],[15,20,23,53,"useAuth"],[15,27,23,53],[16,2,25,7],[16,8,25,13,"AuthProvider"],[16,20,25,66],[16,23,25,69,"AuthProvider"],[16,24,25,70],[17,4,25,72,"children"],[18,2,25,81],[18,3,25,82],[18,8,25,87],[19,4,26,2],[19,10,26,8],[19,11,26,9,"user"],[19,15,26,13],[19,17,26,15,"setUser"],[19,24,26,22],[19,25,26,23],[19,28,26,26],[19,32,26,26,"useState"],[19,47,26,34],[19,49,26,41],[19,50,26,42],[20,4,27,2],[20,10,27,8],[20,11,27,9,"token"],[20,16,27,14],[20,18,27,16,"setToken"],[20,26,27,24],[20,27,27,25],[20,30,27,28],[20,34,27,28,"useState"],[20,49,27,36],[20,51,27,45],[20,52,27,46],[21,4,28,2],[21,10,28,8],[21,11,28,9,"loading"],[21,18,28,16],[21,20,28,18,"setLoading"],[21,30,28,28],[21,31,28,29],[21,34,28,32],[21,38,28,32,"useState"],[21,53,28,40],[21,55,28,41],[21,59,28,45],[21,60,28,46],[22,4,30,2],[22,8,30,2,"useEffect"],[22,24,30,11],[22,26,30,12],[22,32,30,18],[23,6,31,4,"loadStoredAuth"],[23,20,31,18],[23,21,31,19],[23,22,31,20],[24,4,32,2],[24,5,32,3],[24,7,32,5],[24,9,32,7],[24,10,32,8],[25,4,34,2],[25,10,34,8,"loadStoredAuth"],[25,24,34,22],[25,27,34,25],[25,33,34,25,"loadStoredAuth"],[25,34,34,25],[25,39,34,37],[26,6,35,4],[26,10,35,8],[27,8,36,6],[27,14,36,12,"storedToken"],[27,25,36,23],[27,28,36,26],[27,34,36,32,"AsyncStorage"],[27,55,36,44],[27,56,36,45,"getItem"],[27,63,36,52],[27,64,36,53],[27,76,36,65],[27,77,36,66],[28,8,37,6],[28,12,37,10,"storedToken"],[28,23,37,21],[28,25,37,23],[29,10,38,8],[29,14,38,8,"setAuth"],[29,29,38,15],[29,31,38,16,"storedToken"],[29,42,38,27],[29,43,38,28],[30,10,39,8,"setToken"],[30,18,39,16],[30,19,39,17,"storedToken"],[30,30,39,28],[30,31,39,29],[32,10,41,8],[33,10,42,8],[33,16,42,14],[34,12,42,16,"data"],[35,10,42,21],[35,11,42,22],[35,14,42,25],[35,20,42,31,"API"],[35,31,42,34],[35,32,42,35,"get"],[35,35,42,38],[35,36,42,39],[35,46,42,49],[35,47,42,50],[36,10,43,8,"setUser"],[36,17,43,15],[36,18,43,16,"data"],[36,22,43,20],[36,23,43,21],[37,8,44,6],[38,6,45,4],[38,7,45,5],[38,8,45,6],[38,15,45,13,"error"],[38,20,45,18],[38,22,45,20],[39,8,46,6,"console"],[39,15,46,13],[39,16,46,14,"log"],[39,19,46,17],[39,20,46,18],[39,49,46,47],[39,51,46,49,"error"],[39,56,46,54],[39,57,46,55],[40,8,47,6],[40,14,47,12,"AsyncStorage"],[40,35,47,24],[40,36,47,25,"removeItem"],[40,46,47,35],[40,47,47,36],[40,59,47,48],[40,60,47,49],[41,6,48,4],[41,7,48,5],[41,16,48,14],[42,8,49,6,"setLoading"],[42,18,49,16],[42,19,49,17],[42,24,49,22],[42,25,49,23],[43,6,50,4],[44,4,51,2],[44,5,51,3],[45,4,53,2],[45,10,53,8,"login"],[45,15,53,13],[45,18,53,16],[45,24,53,16,"login"],[45,25,53,23,"email"],[45,30,53,36],[45,32,53,38,"password"],[45,40,53,54],[45,45,53,59],[46,6,54,4],[46,12,54,10],[47,8,54,12,"data"],[48,6,54,17],[48,7,54,18],[48,10,54,21],[48,16,54,27,"API"],[48,27,54,30],[48,28,54,31,"post"],[48,32,54,35],[48,33,54,36],[48,46,54,49],[48,48,54,51],[49,8,54,53,"email"],[49,13,54,58],[50,8,54,60,"password"],[51,6,54,69],[51,7,54,70],[51,8,54,71],[52,6,55,4],[52,12,55,10,"newToken"],[52,20,55,18],[52,23,55,21,"data"],[52,27,55,25],[52,28,55,26,"access_token"],[52,40,55,38],[53,6,57,4],[53,12,57,10,"AsyncStorage"],[53,33,57,22],[53,34,57,23,"setItem"],[53,41,57,30],[53,42,57,31],[53,54,57,43],[53,56,57,45,"newToken"],[53,64,57,53],[53,65,57,54],[54,6,58,4],[54,10,58,4,"setAuth"],[54,25,58,11],[54,27,58,12,"newToken"],[54,35,58,20],[54,36,58,21],[55,6,59,4,"setToken"],[55,14,59,12],[55,15,59,13,"newToken"],[55,23,59,21],[55,24,59,22],[57,6,61,4],[58,6,62,4],[58,12,62,10,"userResponse"],[58,24,62,22],[58,27,62,25],[58,33,62,31,"API"],[58,44,62,34],[58,45,62,35,"get"],[58,48,62,38],[58,49,62,39],[58,59,62,49],[58,60,62,50],[59,6,63,4,"setUser"],[59,13,63,11],[59,14,63,12,"userResponse"],[59,26,63,24],[59,27,63,25,"data"],[59,31,63,29],[59,32,63,30],[60,4,64,2],[60,5,64,3],[61,4,66,2],[61,10,66,8,"register"],[61,18,66,16],[61,21,66,19],[61,27,66,19,"register"],[61,28,66,26,"email"],[61,33,66,39],[61,35,66,41,"password"],[61,43,66,57],[61,45,66,59,"name"],[61,49,66,72],[61,54,66,77],[62,6,67,4],[62,12,67,10],[63,8,67,12,"data"],[64,6,67,17],[64,7,67,18],[64,10,67,21],[64,16,67,27,"API"],[64,27,67,30],[64,28,67,31,"post"],[64,32,67,35],[64,33,67,36],[64,49,67,52],[64,51,67,54],[65,8,67,56,"email"],[65,13,67,61],[66,8,67,63,"password"],[66,16,67,71],[67,8,67,73,"name"],[68,6,67,78],[68,7,67,79],[68,8,67,80],[69,6,68,4],[69,12,68,10,"newToken"],[69,20,68,18],[69,23,68,21,"data"],[69,27,68,25],[69,28,68,26,"access_token"],[69,40,68,38],[70,6,70,4],[70,12,70,10,"AsyncStorage"],[70,33,70,22],[70,34,70,23,"setItem"],[70,41,70,30],[70,42,70,31],[70,54,70,43],[70,56,70,45,"newToken"],[70,64,70,53],[70,65,70,54],[71,6,71,4],[71,10,71,4,"setAuth"],[71,25,71,11],[71,27,71,12,"newToken"],[71,35,71,20],[71,36,71,21],[72,6,72,4,"setToken"],[72,14,72,12],[72,15,72,13,"newToken"],[72,23,72,21],[72,24,72,22],[74,6,74,4],[75,6,75,4],[75,12,75,10,"userResponse"],[75,24,75,22],[75,27,75,25],[75,33,75,31,"API"],[75,44,75,34],[75,45,75,35,"get"],[75,48,75,38],[75,49,75,39],[75,59,75,49],[75,60,75,50],[76,6,76,4,"setUser"],[76,13,76,11],[76,14,76,12,"userResponse"],[76,26,76,24],[76,27,76,25,"data"],[76,31,76,29],[76,32,76,30],[77,4,77,2],[77,5,77,3],[78,4,79,2],[78,10,79,8,"logout"],[78,16,79,14],[78,19,79,17],[78,25,79,17,"logout"],[78,26,79,17],[78,31,79,29],[79,6,80,4],[79,12,80,10,"AsyncStorage"],[79,33,80,22],[79,34,80,23,"removeItem"],[79,44,80,33],[79,45,80,34],[79,57,80,46],[79,58,80,47],[80,6,81,4],[80,10,81,4,"setAuth"],[80,25,81,11],[80,27,81,12,"undefined"],[80,36,81,21],[80,37,81,22],[81,6,82,4,"setToken"],[81,14,82,12],[81,15,82,13,"undefined"],[81,24,82,22],[81,25,82,23],[82,6,83,4,"setUser"],[82,13,83,11],[82,14,83,12,"undefined"],[82,23,83,21],[82,24,83,22],[83,4,84,2],[83,5,84,3],[84,4,86,2],[84,24,87,4],[84,28,87,4,"_jsxDevRuntime"],[84,42,87,4],[84,43,87,4,"jsxDEV"],[84,49,87,4],[84,51,87,5,"AuthContext"],[84,62,87,16],[84,63,87,17,"Provider"],[84,71,87,25],[85,6,87,26,"value"],[85,11,87,31],[85,13,87,33],[86,8,87,35,"user"],[86,12,87,39],[87,8,87,41,"token"],[87,13,87,46],[88,8,87,48,"loading"],[88,15,87,55],[89,8,87,57,"login"],[89,13,87,62],[90,8,87,64,"register"],[90,16,87,72],[91,8,87,74,"logout"],[92,6,87,81],[92,7,87,83],[93,6,87,83,"children"],[93,14,87,83],[93,16,88,7,"children"],[94,4,88,15],[95,6,88,15,"fileName"],[95,14,88,15],[95,16,88,15,"_jsxFileName"],[95,28,88,15],[96,6,88,15,"lineNumber"],[96,16,88,15],[97,6,88,15,"columnNumber"],[97,18,88,15],[98,4,88,15],[98,11,89,26],[98,12,89,27],[99,2,91,0],[99,3,91,1],[100,2,91,2,"exports"],[100,9,91,2],[100,10,91,2,"AuthProvider"],[100,22,91,2],[100,25,91,2,"AuthProvider"],[100,37,91,2],[101,0,91,2],[101,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout"],"mappings":"AAA;uBCsB,6BD;qEEE;YCK;GDE;yBEE;GFiB;gBGE;GHW;mBIE;GJW;iBKE;GLK;CFO"}},"type":"js/module"}]}