{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useCart = exports.CartProvider = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _jsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/src/context/CartContext.tsx\";\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const CartContext = /*#__PURE__*/(0, _react.createContext)({});\n  const useCart = () => (0, _react.useContext)(CartContext);\n  exports.useCart = useCart;\n  const CartProvider = ({\n    children\n  }) => {\n    const [items, setItems] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadCart();\n    }, []);\n    (0, _react.useEffect)(() => {\n      saveCart();\n    }, [items]);\n    const loadCart = async () => {\n      try {\n        const stored = await _asyncStorage.default.getItem('cart_items');\n        if (stored) {\n          setItems(JSON.parse(stored));\n        }\n      } catch (error) {\n        console.log('Failed to load cart:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const saveCart = async () => {\n      try {\n        await _asyncStorage.default.setItem('cart_items', JSON.stringify(items));\n      } catch (error) {\n        console.log('Failed to save cart:', error);\n      }\n    };\n    const addItem = newItem => {\n      setItems(prev => {\n        const existingIndex = prev.findIndex(item => item.product_id === newItem.product_id);\n        if (existingIndex > -1) {\n          const updated = [...prev];\n          updated[existingIndex] = {\n            ...updated[existingIndex],\n            quantity: updated[existingIndex].quantity + newItem.quantity\n          };\n          return updated;\n        } else {\n          return [...prev, newItem];\n        }\n      });\n    };\n    const removeItem = productId => {\n      setItems(prev => prev.filter(item => item.product_id !== productId));\n    };\n    const updateQuantity = (productId, quantity) => {\n      if (quantity <= 0) {\n        removeItem(productId);\n        return;\n      }\n      setItems(prev => prev.map(item => item.product_id === productId ? {\n        ...item,\n        quantity\n      } : item));\n    };\n    const clearCart = () => {\n      setItems([]);\n    };\n    const itemCount = items.reduce((total, item) => total + item.quantity, 0);\n    const totalAmount = items.reduce((total, item) => total + item.price * item.quantity, 0);\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(CartContext.Provider, {\n      value: {\n        items,\n        itemCount,\n        totalAmount,\n        addItem,\n        removeItem,\n        updateQuantity,\n        clearCart,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  };\n  exports.CartProvider = CartProvider;\n});","lineCount":97,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_asyncStorage"],[8,19,2,0],[8,22,2,0,"_interopRequireDefault"],[8,44,2,0],[8,45,2,0,"require"],[8,52,2,0],[8,53,2,0,"_dependencyMap"],[8,67,2,0],[9,2,2,69],[9,6,2,69,"_jsxDevRuntime"],[9,20,2,69],[9,23,2,69,"require"],[9,30,2,69],[9,31,2,69,"_dependencyMap"],[9,45,2,69],[10,2,2,69],[10,6,2,69,"_jsxFileName"],[10,18,2,69],[11,2,2,69],[11,11,2,69,"_interopRequireWildcard"],[11,35,2,69,"e"],[11,36,2,69],[11,38,2,69,"t"],[11,39,2,69],[11,68,2,69,"WeakMap"],[11,75,2,69],[11,81,2,69,"r"],[11,82,2,69],[11,89,2,69,"WeakMap"],[11,96,2,69],[11,100,2,69,"n"],[11,101,2,69],[11,108,2,69,"WeakMap"],[11,115,2,69],[11,127,2,69,"_interopRequireWildcard"],[11,150,2,69],[11,162,2,69,"_interopRequireWildcard"],[11,163,2,69,"e"],[11,164,2,69],[11,166,2,69,"t"],[11,167,2,69],[11,176,2,69,"t"],[11,177,2,69],[11,181,2,69,"e"],[11,182,2,69],[11,186,2,69,"e"],[11,187,2,69],[11,188,2,69,"__esModule"],[11,198,2,69],[11,207,2,69,"e"],[11,208,2,69],[11,214,2,69,"o"],[11,215,2,69],[11,217,2,69,"i"],[11,218,2,69],[11,220,2,69,"f"],[11,221,2,69],[11,226,2,69,"__proto__"],[11,235,2,69],[11,243,2,69,"default"],[11,250,2,69],[11,252,2,69,"e"],[11,253,2,69],[11,270,2,69,"e"],[11,271,2,69],[11,294,2,69,"e"],[11,295,2,69],[11,320,2,69,"e"],[11,321,2,69],[11,330,2,69,"f"],[11,331,2,69],[11,337,2,69,"o"],[11,338,2,69],[11,341,2,69,"t"],[11,342,2,69],[11,345,2,69,"n"],[11,346,2,69],[11,349,2,69,"r"],[11,350,2,69],[11,358,2,69,"o"],[11,359,2,69],[11,360,2,69,"has"],[11,363,2,69],[11,364,2,69,"e"],[11,365,2,69],[11,375,2,69,"o"],[11,376,2,69],[11,377,2,69,"get"],[11,380,2,69],[11,381,2,69,"e"],[11,382,2,69],[11,385,2,69,"o"],[11,386,2,69],[11,387,2,69,"set"],[11,390,2,69],[11,391,2,69,"e"],[11,392,2,69],[11,394,2,69,"f"],[11,395,2,69],[11,411,2,69,"t"],[11,412,2,69],[11,416,2,69,"e"],[11,417,2,69],[11,433,2,69,"t"],[11,434,2,69],[11,441,2,69,"hasOwnProperty"],[11,455,2,69],[11,456,2,69,"call"],[11,460,2,69],[11,461,2,69,"e"],[11,462,2,69],[11,464,2,69,"t"],[11,465,2,69],[11,472,2,69,"i"],[11,473,2,69],[11,477,2,69,"o"],[11,478,2,69],[11,481,2,69,"Object"],[11,487,2,69],[11,488,2,69,"defineProperty"],[11,502,2,69],[11,507,2,69,"Object"],[11,513,2,69],[11,514,2,69,"getOwnPropertyDescriptor"],[11,538,2,69],[11,539,2,69,"e"],[11,540,2,69],[11,542,2,69,"t"],[11,543,2,69],[11,550,2,69,"i"],[11,551,2,69],[11,552,2,69,"get"],[11,555,2,69],[11,559,2,69,"i"],[11,560,2,69],[11,561,2,69,"set"],[11,564,2,69],[11,568,2,69,"o"],[11,569,2,69],[11,570,2,69,"f"],[11,571,2,69],[11,573,2,69,"t"],[11,574,2,69],[11,576,2,69,"i"],[11,577,2,69],[11,581,2,69,"f"],[11,582,2,69],[11,583,2,69,"t"],[11,584,2,69],[11,588,2,69,"e"],[11,589,2,69],[11,590,2,69,"t"],[11,591,2,69],[11,602,2,69,"f"],[11,603,2,69],[11,608,2,69,"e"],[11,609,2,69],[11,611,2,69,"t"],[11,612,2,69],[12,2,24,0],[12,8,24,6,"CartContext"],[12,19,24,17],[12,35,24,20],[12,39,24,20,"createContext"],[12,59,24,33],[12,61,24,51],[12,62,24,52],[12,63,24,72],[12,64,24,73],[13,2,26,7],[13,8,26,13,"useCart"],[13,15,26,20],[13,18,26,23,"useCart"],[13,19,26,23],[13,24,26,29],[13,28,26,29,"useContext"],[13,45,26,39],[13,47,26,40,"CartContext"],[13,58,26,51],[13,59,26,52],[14,2,26,53,"exports"],[14,9,26,53],[14,10,26,53,"useCart"],[14,17,26,53],[14,20,26,53,"useCart"],[14,27,26,53],[15,2,28,7],[15,8,28,13,"CartProvider"],[15,20,28,66],[15,23,28,69,"CartProvider"],[15,24,28,70],[16,4,28,72,"children"],[17,2,28,81],[17,3,28,82],[17,8,28,87],[18,4,29,2],[18,10,29,8],[18,11,29,9,"items"],[18,16,29,14],[18,18,29,16,"setItems"],[18,26,29,24],[18,27,29,25],[18,30,29,28],[18,34,29,28,"useState"],[18,49,29,36],[18,51,29,49],[18,53,29,51],[18,54,29,52],[19,4,30,2],[19,10,30,8],[19,11,30,9,"loading"],[19,18,30,16],[19,20,30,18,"setLoading"],[19,30,30,28],[19,31,30,29],[19,34,30,32],[19,38,30,32,"useState"],[19,53,30,40],[19,55,30,41],[19,59,30,45],[19,60,30,46],[20,4,32,2],[20,8,32,2,"useEffect"],[20,24,32,11],[20,26,32,12],[20,32,32,18],[21,6,33,4,"loadCart"],[21,14,33,12],[21,15,33,13],[21,16,33,14],[22,4,34,2],[22,5,34,3],[22,7,34,5],[22,9,34,7],[22,10,34,8],[23,4,36,2],[23,8,36,2,"useEffect"],[23,24,36,11],[23,26,36,12],[23,32,36,18],[24,6,37,4,"saveCart"],[24,14,37,12],[24,15,37,13],[24,16,37,14],[25,4,38,2],[25,5,38,3],[25,7,38,5],[25,8,38,6,"items"],[25,13,38,11],[25,14,38,12],[25,15,38,13],[26,4,40,2],[26,10,40,8,"loadCart"],[26,18,40,16],[26,21,40,19],[26,27,40,19,"loadCart"],[26,28,40,19],[26,33,40,31],[27,6,41,4],[27,10,41,8],[28,8,42,6],[28,14,42,12,"stored"],[28,20,42,18],[28,23,42,21],[28,29,42,27,"AsyncStorage"],[28,50,42,39],[28,51,42,40,"getItem"],[28,58,42,47],[28,59,42,48],[28,71,42,60],[28,72,42,61],[29,8,43,6],[29,12,43,10,"stored"],[29,18,43,16],[29,20,43,18],[30,10,44,8,"setItems"],[30,18,44,16],[30,19,44,17,"JSON"],[30,23,44,21],[30,24,44,22,"parse"],[30,29,44,27],[30,30,44,28,"stored"],[30,36,44,34],[30,37,44,35],[30,38,44,36],[31,8,45,6],[32,6,46,4],[32,7,46,5],[32,8,46,6],[32,15,46,13,"error"],[32,20,46,18],[32,22,46,20],[33,8,47,6,"console"],[33,15,47,13],[33,16,47,14,"log"],[33,19,47,17],[33,20,47,18],[33,42,47,40],[33,44,47,42,"error"],[33,49,47,47],[33,50,47,48],[34,6,48,4],[34,7,48,5],[34,16,48,14],[35,8,49,6,"setLoading"],[35,18,49,16],[35,19,49,17],[35,24,49,22],[35,25,49,23],[36,6,50,4],[37,4,51,2],[37,5,51,3],[38,4,53,2],[38,10,53,8,"saveCart"],[38,18,53,16],[38,21,53,19],[38,27,53,19,"saveCart"],[38,28,53,19],[38,33,53,31],[39,6,54,4],[39,10,54,8],[40,8,55,6],[40,14,55,12,"AsyncStorage"],[40,35,55,24],[40,36,55,25,"setItem"],[40,43,55,32],[40,44,55,33],[40,56,55,45],[40,58,55,47,"JSON"],[40,62,55,51],[40,63,55,52,"stringify"],[40,72,55,61],[40,73,55,62,"items"],[40,78,55,67],[40,79,55,68],[40,80,55,69],[41,6,56,4],[41,7,56,5],[41,8,56,6],[41,15,56,13,"error"],[41,20,56,18],[41,22,56,20],[42,8,57,6,"console"],[42,15,57,13],[42,16,57,14,"log"],[42,19,57,17],[42,20,57,18],[42,42,57,40],[42,44,57,42,"error"],[42,49,57,47],[42,50,57,48],[43,6,58,4],[44,4,59,2],[44,5,59,3],[45,4,61,2],[45,10,61,8,"addItem"],[45,17,61,15],[45,20,61,19,"newItem"],[45,27,61,36],[45,31,61,41],[46,6,62,4,"setItems"],[46,14,62,12],[46,15,62,13,"prev"],[46,19,62,17],[46,23,62,21],[47,8,63,6],[47,14,63,12,"existingIndex"],[47,27,63,25],[47,30,63,28,"prev"],[47,34,63,32],[47,35,63,33,"findIndex"],[47,44,63,42],[47,45,63,43,"item"],[47,49,63,47],[47,53,63,51,"item"],[47,57,63,55],[47,58,63,56,"product_id"],[47,68,63,66],[47,73,63,71,"newItem"],[47,80,63,78],[47,81,63,79,"product_id"],[47,91,63,89],[47,92,63,90],[48,8,65,6],[48,12,65,10,"existingIndex"],[48,25,65,23],[48,28,65,26],[48,29,65,27],[48,30,65,28],[48,32,65,30],[49,10,66,8],[49,16,66,14,"updated"],[49,23,66,21],[49,26,66,24],[49,27,66,25],[49,30,66,28,"prev"],[49,34,66,32],[49,35,66,33],[50,10,67,8,"updated"],[50,17,67,15],[50,18,67,16,"existingIndex"],[50,31,67,29],[50,32,67,30],[50,35,67,33],[51,12,68,10],[51,15,68,13,"updated"],[51,22,68,20],[51,23,68,21,"existingIndex"],[51,36,68,34],[51,37,68,35],[52,12,69,10,"quantity"],[52,20,69,18],[52,22,69,20,"updated"],[52,29,69,27],[52,30,69,28,"existingIndex"],[52,43,69,41],[52,44,69,42],[52,45,69,43,"quantity"],[52,53,69,51],[52,56,69,54,"newItem"],[52,63,69,61],[52,64,69,62,"quantity"],[53,10,70,8],[53,11,70,9],[54,10,71,8],[54,17,71,15,"updated"],[54,24,71,22],[55,8,72,6],[55,9,72,7],[55,15,72,13],[56,10,73,8],[56,17,73,15],[56,18,73,16],[56,21,73,19,"prev"],[56,25,73,23],[56,27,73,25,"newItem"],[56,34,73,32],[56,35,73,33],[57,8,74,6],[58,6,75,4],[58,7,75,5],[58,8,75,6],[59,4,76,2],[59,5,76,3],[60,4,78,2],[60,10,78,8,"removeItem"],[60,20,78,18],[60,23,78,22,"productId"],[60,32,78,39],[60,36,78,44],[61,6,79,4,"setItems"],[61,14,79,12],[61,15,79,13,"prev"],[61,19,79,17],[61,23,79,21,"prev"],[61,27,79,25],[61,28,79,26,"filter"],[61,34,79,32],[61,35,79,33,"item"],[61,39,79,37],[61,43,79,41,"item"],[61,47,79,45],[61,48,79,46,"product_id"],[61,58,79,56],[61,63,79,61,"productId"],[61,72,79,70],[61,73,79,71],[61,74,79,72],[62,4,80,2],[62,5,80,3],[63,4,82,2],[63,10,82,8,"updateQuantity"],[63,24,82,22],[63,27,82,25,"updateQuantity"],[63,28,82,26,"productId"],[63,37,82,43],[63,39,82,45,"quantity"],[63,47,82,61],[63,52,82,66],[64,6,83,4],[64,10,83,8,"quantity"],[64,18,83,16],[64,22,83,20],[64,23,83,21],[64,25,83,23],[65,8,84,6,"removeItem"],[65,18,84,16],[65,19,84,17,"productId"],[65,28,84,26],[65,29,84,27],[66,8,85,6],[67,6,86,4],[68,6,88,4,"setItems"],[68,14,88,12],[68,15,88,13,"prev"],[68,19,88,17],[68,23,88,21,"prev"],[68,27,88,25],[68,28,88,26,"map"],[68,31,88,29],[68,32,88,30,"item"],[68,36,88,34],[68,40,89,6,"item"],[68,44,89,10],[68,45,89,11,"product_id"],[68,55,89,21],[68,60,89,26,"productId"],[68,69,89,35],[68,72,89,38],[69,8,89,40],[69,11,89,43,"item"],[69,15,89,47],[70,8,89,49,"quantity"],[71,6,89,58],[71,7,89,59],[71,10,89,62,"item"],[71,14,90,4],[71,15,90,5],[71,16,90,6],[72,4,91,2],[72,5,91,3],[73,4,93,2],[73,10,93,8,"clearCart"],[73,19,93,17],[73,22,93,20,"clearCart"],[73,23,93,20],[73,28,93,26],[74,6,94,4,"setItems"],[74,14,94,12],[74,15,94,13],[74,17,94,15],[74,18,94,16],[75,4,95,2],[75,5,95,3],[76,4,97,2],[76,10,97,8,"itemCount"],[76,19,97,17],[76,22,97,20,"items"],[76,27,97,25],[76,28,97,26,"reduce"],[76,34,97,32],[76,35,97,33],[76,36,97,34,"total"],[76,41,97,39],[76,43,97,41,"item"],[76,47,97,45],[76,52,97,50,"total"],[76,57,97,55],[76,60,97,58,"item"],[76,64,97,62],[76,65,97,63,"quantity"],[76,73,97,71],[76,75,97,73],[76,76,97,74],[76,77,97,75],[77,4,98,2],[77,10,98,8,"totalAmount"],[77,21,98,19],[77,24,98,22,"items"],[77,29,98,27],[77,30,98,28,"reduce"],[77,36,98,34],[77,37,98,35],[77,38,98,36,"total"],[77,43,98,41],[77,45,98,43,"item"],[77,49,98,47],[77,54,98,52,"total"],[77,59,98,57],[77,62,98,61,"item"],[77,66,98,65],[77,67,98,66,"price"],[77,72,98,71],[77,75,98,74,"item"],[77,79,98,78],[77,80,98,79,"quantity"],[77,88,98,88],[77,90,98,90],[77,91,98,91],[77,92,98,92],[78,4,100,2],[78,24,101,4],[78,28,101,4,"_jsxDevRuntime"],[78,42,101,4],[78,43,101,4,"jsxDEV"],[78,49,101,4],[78,51,101,5,"CartContext"],[78,62,101,16],[78,63,101,17,"Provider"],[78,71,101,25],[79,6,101,26,"value"],[79,11,101,31],[79,13,101,33],[80,8,102,6,"items"],[80,13,102,11],[81,8,103,6,"itemCount"],[81,17,103,15],[82,8,104,6,"totalAmount"],[82,19,104,17],[83,8,105,6,"addItem"],[83,15,105,13],[84,8,106,6,"removeItem"],[84,18,106,16],[85,8,107,6,"updateQuantity"],[85,22,107,20],[86,8,108,6,"clearCart"],[86,17,108,15],[87,8,109,6,"loading"],[88,6,110,4],[88,7,110,6],[89,6,110,6,"children"],[89,14,110,6],[89,16,111,7,"children"],[90,4,111,15],[91,6,111,15,"fileName"],[91,14,111,15],[91,16,111,15,"_jsxFileName"],[91,28,111,15],[92,6,111,15,"lineNumber"],[92,16,111,15],[93,6,111,15,"columnNumber"],[93,18,111,15],[94,4,111,15],[94,11,112,26],[94,12,112,27],[95,2,114,0],[95,3,114,1],[96,2,114,2,"exports"],[96,9,114,2],[96,10,114,2,"CartProvider"],[96,22,114,2],[96,25,114,2,"CartProvider"],[96,37,114,2],[97,0,114,2],[97,3]],"functionMap":{"names":["<global>","useCart","CartProvider","useEffect$argument_0","loadCart","saveCart","addItem","setItems$argument_0","prev.findIndex$argument_0","removeItem","prev.filter$argument_0","updateQuantity","prev.map$argument_0","clearCart","items.reduce$argument_0"],"mappings":"AAA;uBCyB,6BD;qEEE;YCI;GDE;YCE;GDE;mBEE;GFW;mBGE;GHM;kBIE;aCC;2CCC,8CD;KDY;GJC;qBOE;aFC,oBG,qCH,CE;GPC;yBSE;aJM,iBK;kELC;KIC;GTC;oBWE;GXE;iCYE,sCZ;mCYC,qDZ;CFgB"}},"type":"js/module"}]}