{"dependencies":[{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.fetchCreators = fetchCreators;\n  exports.fetchStories = fetchStories;\n  var _expoConstants = require(_dependencyMap[0], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  // Use the backend URL from environment\n  const getBaseUrl = () => {\n    const backendUrl = Constants.default.expoConfig?.extra?.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n    return backendUrl;\n  };\n  async function fetchCreators() {\n    const base = getBaseUrl();\n    const res = await fetch(`${base}/api/creators`);\n    if (!res.ok) throw new Error('creators fetch failed');\n    return res.json();\n  }\n  async function fetchStories(cursor, limit = 24) {\n    const base = getBaseUrl();\n    const url = new URL(`${base}/api/stories`);\n    if (cursor) url.searchParams.set('cursor', cursor);\n    url.searchParams.set('limit', String(limit));\n    const res = await fetch(url.toString());\n    if (!res.ok) throw new Error('stories fetch failed');\n    return res.json();\n  }\n});","lineCount":36,"map":[[12,2,10,0,"exports"],[12,9,10,0],[12,10,10,0,"fetchCreators"],[12,23,10,0],[12,26,10,0,"fetchCreators"],[12,39,10,0],[13,2,17,0,"exports"],[13,9,17,0],[13,10,17,0,"fetchStories"],[13,22,17,0],[13,25,17,0,"fetchStories"],[13,37,17,0],[14,2,1,0],[14,6,1,0,"_expoConstants"],[14,20,1,0],[14,23,1,0,"require"],[14,30,1,0],[14,31,1,0,"_dependencyMap"],[14,45,1,0],[15,2,1,0],[15,6,1,0,"Constants"],[15,15,1,0],[15,18,1,0,"_interopDefault"],[15,33,1,0],[15,34,1,0,"_expoConstants"],[15,48,1,0],[16,2,4,0],[17,2,5,0],[17,8,5,6,"getBaseUrl"],[17,18,5,16],[17,21,5,19,"getBaseUrl"],[17,22,5,19],[17,27,5,25],[18,4,6,2],[18,10,6,8,"backendUrl"],[18,20,6,18],[18,23,6,21,"Constants"],[18,32,6,30],[18,33,6,30,"default"],[18,40,6,30],[18,41,6,31,"expoConfig"],[18,51,6,41],[18,53,6,43,"extra"],[18,58,6,48],[18,60,6,50,"backendUrl"],[18,70,6,60],[18,74,6,64,"process"],[18,81,6,71],[18,82,6,72,"env"],[18,85,6,75],[18,86,6,76,"EXPO_PUBLIC_BACKEND_URL"],[18,109,6,99],[18,113,6,103],[18,136,6,126],[19,4,7,2],[19,11,7,9,"backendUrl"],[19,21,7,19],[20,2,8,0],[20,3,8,1],[21,2,10,7],[21,17,10,22,"fetchCreators"],[21,30,10,35,"fetchCreators"],[21,31,10,35],[21,33,10,58],[22,4,11,2],[22,10,11,8,"base"],[22,14,11,12],[22,17,11,15,"getBaseUrl"],[22,27,11,25],[22,28,11,26],[22,29,11,27],[23,4,12,2],[23,10,12,8,"res"],[23,13,12,11],[23,16,12,14],[23,22,12,20,"fetch"],[23,27,12,25],[23,28,12,26],[23,31,12,29,"base"],[23,35,12,33],[23,50,12,48],[23,51,12,49],[24,4,13,2],[24,8,13,6],[24,9,13,7,"res"],[24,12,13,10],[24,13,13,11,"ok"],[24,15,13,13],[24,17,13,15],[24,23,13,21],[24,27,13,25,"Error"],[24,32,13,30],[24,33,13,31],[24,56,13,54],[24,57,13,55],[25,4,14,2],[25,11,14,9,"res"],[25,14,14,12],[25,15,14,13,"json"],[25,19,14,17],[25,20,14,18],[25,21,14,19],[26,2,15,0],[27,2,17,7],[27,17,17,22,"fetchStories"],[27,29,17,34,"fetchStories"],[27,30,17,35,"cursor"],[27,36,17,57],[27,38,17,59,"limit"],[27,43,17,64],[27,46,17,67],[27,48,17,69],[27,50,17,94],[28,4,18,2],[28,10,18,8,"base"],[28,14,18,12],[28,17,18,15,"getBaseUrl"],[28,27,18,25],[28,28,18,26],[28,29,18,27],[29,4,19,2],[29,10,19,8,"url"],[29,13,19,11],[29,16,19,14],[29,20,19,18,"URL"],[29,23,19,21],[29,24,19,22],[29,27,19,25,"base"],[29,31,19,29],[29,45,19,43],[29,46,19,44],[30,4,20,2],[30,8,20,6,"cursor"],[30,14,20,12],[30,16,20,14,"url"],[30,19,20,17],[30,20,20,18,"searchParams"],[30,32,20,30],[30,33,20,31,"set"],[30,36,20,34],[30,37,20,35],[30,45,20,43],[30,47,20,45,"cursor"],[30,53,20,51],[30,54,20,52],[31,4,21,2,"url"],[31,7,21,5],[31,8,21,6,"searchParams"],[31,20,21,18],[31,21,21,19,"set"],[31,24,21,22],[31,25,21,23],[31,32,21,30],[31,34,21,32,"String"],[31,40,21,38],[31,41,21,39,"limit"],[31,46,21,44],[31,47,21,45],[31,48,21,46],[32,4,22,2],[32,10,22,8,"res"],[32,13,22,11],[32,16,22,14],[32,22,22,20,"fetch"],[32,27,22,25],[32,28,22,26,"url"],[32,31,22,29],[32,32,22,30,"toString"],[32,40,22,38],[32,41,22,39],[32,42,22,40],[32,43,22,41],[33,4,23,2],[33,8,23,6],[33,9,23,7,"res"],[33,12,23,10],[33,13,23,11,"ok"],[33,15,23,13],[33,17,23,15],[33,23,23,21],[33,27,23,25,"Error"],[33,32,23,30],[33,33,23,31],[33,55,23,53],[33,56,23,54],[34,4,24,2],[34,11,24,9,"res"],[34,14,24,12],[34,15,24,13,"json"],[34,19,24,17],[34,20,24,18],[34,21,24,19],[35,2,25,0],[36,0,25,1],[36,3]],"functionMap":{"names":["<global>","getBaseUrl","fetchCreators","fetchStories"],"mappings":"AAA;mBCI;CDG;OEE;CFK;OGE"},"hasCjsExports":false},"type":"js/module"}]}