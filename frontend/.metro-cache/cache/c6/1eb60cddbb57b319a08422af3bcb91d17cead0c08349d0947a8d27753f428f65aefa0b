{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":69,"index":121}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"./PermissionsOnboarding","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":122},"end":{"line":3,"column":60,"index":182}}],"key":"6oNt/AlnSN+gKfExTdyP8okYaS8=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = PermissionsManager;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _PermissionsOnboarding = _interopRequireDefault(require(_dependencyMap[3], \"./PermissionsOnboarding\"));\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/src/components/PermissionsManager.tsx\",\n    _s = $RefreshSig$();\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  function PermissionsManager({\n    children\n  }) {\n    _s();\n    const [showOnboarding, setShowOnboarding] = (0, _react.useState)(false);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkOnboardingStatus();\n    }, []);\n    const checkOnboardingStatus = async () => {\n      try {\n        const hasCompletedOnboarding = await _asyncStorage.default.getItem('permissions_onboarding_completed');\n        if (!hasCompletedOnboarding) {\n          // Show onboarding for first-time users\n          setShowOnboarding(true);\n        }\n      } catch (error) {\n        console.error('Error checking onboarding status:', error);\n        // Show onboarding on error to be safe\n        setShowOnboarding(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const handleOnboardingComplete = async permissions => {\n      console.log('Permissions granted:', permissions);\n\n      // Track permissions for analytics\n      try {\n        await _asyncStorage.default.setItem('initial_permissions', JSON.stringify(permissions));\n        await _asyncStorage.default.setItem('permissions_onboarding_completed', 'true');\n      } catch (error) {\n        console.error('Error saving permissions status:', error);\n      }\n      setShowOnboarding(false);\n    };\n    const handleOnboardingSkip = async () => {\n      console.log('User skipped permissions onboarding');\n      try {\n        await _asyncStorage.default.setItem('permissions_onboarding_completed', 'true');\n        await _asyncStorage.default.setItem('permissions_skipped', 'true');\n      } catch (error) {\n        console.error('Error saving skip status:', error);\n      }\n      setShowOnboarding(false);\n    };\n    if (isLoading) {\n      // Show loading state while checking onboarding status\n      return null; // Or a loading component\n    }\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_jsxDevRuntime.Fragment, {\n      children: [children, /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(_PermissionsOnboarding.default, {\n        visible: showOnboarding,\n        onComplete: handleOnboardingComplete,\n        onSkip: handleOnboardingSkip\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n  _s(PermissionsManager, \"Ej3kgduhWiLJK6fD/4PcdBkqPWg=\");\n  _c = PermissionsManager;\n  var _c;\n  $RefreshReg$(_c, \"PermissionsManager\");\n});","lineCount":80,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_asyncStorage"],[8,19,2,0],[8,22,2,0,"_interopRequireDefault"],[8,44,2,0],[8,45,2,0,"require"],[8,52,2,0],[8,53,2,0,"_dependencyMap"],[8,67,2,0],[9,2,3,0],[9,6,3,0,"_PermissionsOnboarding"],[9,28,3,0],[9,31,3,0,"_interopRequireDefault"],[9,53,3,0],[9,54,3,0,"require"],[9,61,3,0],[9,62,3,0,"_dependencyMap"],[9,76,3,0],[10,2,3,60],[10,6,3,60,"_jsxDevRuntime"],[10,20,3,60],[10,23,3,60,"require"],[10,30,3,60],[10,31,3,60,"_dependencyMap"],[10,45,3,60],[11,2,3,60],[11,6,3,60,"_jsxFileName"],[11,18,3,60],[12,4,3,60,"_s"],[12,6,3,60],[12,9,3,60,"$RefreshSig$"],[12,21,3,60],[13,2,3,60],[13,11,3,60,"_interopRequireWildcard"],[13,35,3,60,"e"],[13,36,3,60],[13,38,3,60,"t"],[13,39,3,60],[13,68,3,60,"WeakMap"],[13,75,3,60],[13,81,3,60,"r"],[13,82,3,60],[13,89,3,60,"WeakMap"],[13,96,3,60],[13,100,3,60,"n"],[13,101,3,60],[13,108,3,60,"WeakMap"],[13,115,3,60],[13,127,3,60,"_interopRequireWildcard"],[13,150,3,60],[13,162,3,60,"_interopRequireWildcard"],[13,163,3,60,"e"],[13,164,3,60],[13,166,3,60,"t"],[13,167,3,60],[13,176,3,60,"t"],[13,177,3,60],[13,181,3,60,"e"],[13,182,3,60],[13,186,3,60,"e"],[13,187,3,60],[13,188,3,60,"__esModule"],[13,198,3,60],[13,207,3,60,"e"],[13,208,3,60],[13,214,3,60,"o"],[13,215,3,60],[13,217,3,60,"i"],[13,218,3,60],[13,220,3,60,"f"],[13,221,3,60],[13,226,3,60,"__proto__"],[13,235,3,60],[13,243,3,60,"default"],[13,250,3,60],[13,252,3,60,"e"],[13,253,3,60],[13,270,3,60,"e"],[13,271,3,60],[13,294,3,60,"e"],[13,295,3,60],[13,320,3,60,"e"],[13,321,3,60],[13,330,3,60,"f"],[13,331,3,60],[13,337,3,60,"o"],[13,338,3,60],[13,341,3,60,"t"],[13,342,3,60],[13,345,3,60,"n"],[13,346,3,60],[13,349,3,60,"r"],[13,350,3,60],[13,358,3,60,"o"],[13,359,3,60],[13,360,3,60,"has"],[13,363,3,60],[13,364,3,60,"e"],[13,365,3,60],[13,375,3,60,"o"],[13,376,3,60],[13,377,3,60,"get"],[13,380,3,60],[13,381,3,60,"e"],[13,382,3,60],[13,385,3,60,"o"],[13,386,3,60],[13,387,3,60,"set"],[13,390,3,60],[13,391,3,60,"e"],[13,392,3,60],[13,394,3,60,"f"],[13,395,3,60],[13,411,3,60,"t"],[13,412,3,60],[13,416,3,60,"e"],[13,417,3,60],[13,433,3,60,"t"],[13,434,3,60],[13,441,3,60,"hasOwnProperty"],[13,455,3,60],[13,456,3,60,"call"],[13,460,3,60],[13,461,3,60,"e"],[13,462,3,60],[13,464,3,60,"t"],[13,465,3,60],[13,472,3,60,"i"],[13,473,3,60],[13,477,3,60,"o"],[13,478,3,60],[13,481,3,60,"Object"],[13,487,3,60],[13,488,3,60,"defineProperty"],[13,502,3,60],[13,507,3,60,"Object"],[13,513,3,60],[13,514,3,60,"getOwnPropertyDescriptor"],[13,538,3,60],[13,539,3,60,"e"],[13,540,3,60],[13,542,3,60,"t"],[13,543,3,60],[13,550,3,60,"i"],[13,551,3,60],[13,552,3,60,"get"],[13,555,3,60],[13,559,3,60,"i"],[13,560,3,60],[13,561,3,60,"set"],[13,564,3,60],[13,568,3,60,"o"],[13,569,3,60],[13,570,3,60,"f"],[13,571,3,60],[13,573,3,60,"t"],[13,574,3,60],[13,576,3,60,"i"],[13,577,3,60],[13,581,3,60,"f"],[13,582,3,60],[13,583,3,60,"t"],[13,584,3,60],[13,588,3,60,"e"],[13,589,3,60],[13,590,3,60,"t"],[13,591,3,60],[13,602,3,60,"f"],[13,603,3,60],[13,608,3,60,"e"],[13,609,3,60],[13,611,3,60,"t"],[13,612,3,60],[14,2,9,15],[14,11,9,24,"PermissionsManager"],[14,29,9,42,"PermissionsManager"],[14,30,9,43],[15,4,9,45,"children"],[16,2,9,79],[16,3,9,80],[16,5,9,82],[17,4,9,82,"_s"],[17,6,9,82],[18,4,10,2],[18,10,10,8],[18,11,10,9,"showOnboarding"],[18,25,10,23],[18,27,10,25,"setShowOnboarding"],[18,44,10,42],[18,45,10,43],[18,48,10,46],[18,52,10,46,"useState"],[18,67,10,54],[18,69,10,55],[18,74,10,60],[18,75,10,61],[19,4,11,2],[19,10,11,8],[19,11,11,9,"isLoading"],[19,20,11,18],[19,22,11,20,"setIsLoading"],[19,34,11,32],[19,35,11,33],[19,38,11,36],[19,42,11,36,"useState"],[19,57,11,44],[19,59,11,45],[19,63,11,49],[19,64,11,50],[20,4,13,2],[20,8,13,2,"useEffect"],[20,24,13,11],[20,26,13,12],[20,32,13,18],[21,6,14,4,"checkOnboardingStatus"],[21,27,14,25],[21,28,14,26],[21,29,14,27],[22,4,15,2],[22,5,15,3],[22,7,15,5],[22,9,15,7],[22,10,15,8],[23,4,17,2],[23,10,17,8,"checkOnboardingStatus"],[23,31,17,29],[23,34,17,32],[23,40,17,32,"checkOnboardingStatus"],[23,41,17,32],[23,46,17,44],[24,6,18,4],[24,10,18,8],[25,8,19,6],[25,14,19,12,"hasCompletedOnboarding"],[25,36,19,34],[25,39,19,37],[25,45,19,43,"AsyncStorage"],[25,66,19,55],[25,67,19,56,"getItem"],[25,74,19,63],[25,75,19,64],[25,109,19,98],[25,110,19,99],[26,8,21,6],[26,12,21,10],[26,13,21,11,"hasCompletedOnboarding"],[26,35,21,33],[26,37,21,35],[27,10,22,8],[28,10,23,8,"setShowOnboarding"],[28,27,23,25],[28,28,23,26],[28,32,23,30],[28,33,23,31],[29,8,24,6],[30,6,25,4],[30,7,25,5],[30,8,25,6],[30,15,25,13,"error"],[30,20,25,18],[30,22,25,20],[31,8,26,6,"console"],[31,15,26,13],[31,16,26,14,"error"],[31,21,26,19],[31,22,26,20],[31,57,26,55],[31,59,26,57,"error"],[31,64,26,62],[31,65,26,63],[32,8,27,6],[33,8,28,6,"setShowOnboarding"],[33,25,28,23],[33,26,28,24],[33,30,28,28],[33,31,28,29],[34,6,29,4],[34,7,29,5],[34,16,29,14],[35,8,30,6,"setIsLoading"],[35,20,30,18],[35,21,30,19],[35,26,30,24],[35,27,30,25],[36,6,31,4],[37,4,32,2],[37,5,32,3],[38,4,34,2],[38,10,34,8,"handleOnboardingComplete"],[38,34,34,32],[38,37,34,35],[38,43,34,42,"permissions"],[38,54,34,81],[38,58,34,86],[39,6,35,4,"console"],[39,13,35,11],[39,14,35,12,"log"],[39,17,35,15],[39,18,35,16],[39,40,35,38],[39,42,35,40,"permissions"],[39,53,35,51],[39,54,35,52],[41,6,37,4],[42,6,38,4],[42,10,38,8],[43,8,39,6],[43,14,39,12,"AsyncStorage"],[43,35,39,24],[43,36,39,25,"setItem"],[43,43,39,32],[43,44,39,33],[43,65,39,54],[43,67,39,56,"JSON"],[43,71,39,60],[43,72,39,61,"stringify"],[43,81,39,70],[43,82,39,71,"permissions"],[43,93,39,82],[43,94,39,83],[43,95,39,84],[44,8,40,6],[44,14,40,12,"AsyncStorage"],[44,35,40,24],[44,36,40,25,"setItem"],[44,43,40,32],[44,44,40,33],[44,78,40,67],[44,80,40,69],[44,86,40,75],[44,87,40,76],[45,6,41,4],[45,7,41,5],[45,8,41,6],[45,15,41,13,"error"],[45,20,41,18],[45,22,41,20],[46,8,42,6,"console"],[46,15,42,13],[46,16,42,14,"error"],[46,21,42,19],[46,22,42,20],[46,56,42,54],[46,58,42,56,"error"],[46,63,42,61],[46,64,42,62],[47,6,43,4],[48,6,45,4,"setShowOnboarding"],[48,23,45,21],[48,24,45,22],[48,29,45,27],[48,30,45,28],[49,4,46,2],[49,5,46,3],[50,4,48,2],[50,10,48,8,"handleOnboardingSkip"],[50,30,48,28],[50,33,48,31],[50,39,48,31,"handleOnboardingSkip"],[50,40,48,31],[50,45,48,43],[51,6,49,4,"console"],[51,13,49,11],[51,14,49,12,"log"],[51,17,49,15],[51,18,49,16],[51,55,49,53],[51,56,49,54],[52,6,51,4],[52,10,51,8],[53,8,52,6],[53,14,52,12,"AsyncStorage"],[53,35,52,24],[53,36,52,25,"setItem"],[53,43,52,32],[53,44,52,33],[53,78,52,67],[53,80,52,69],[53,86,52,75],[53,87,52,76],[54,8,53,6],[54,14,53,12,"AsyncStorage"],[54,35,53,24],[54,36,53,25,"setItem"],[54,43,53,32],[54,44,53,33],[54,65,53,54],[54,67,53,56],[54,73,53,62],[54,74,53,63],[55,6,54,4],[55,7,54,5],[55,8,54,6],[55,15,54,13,"error"],[55,20,54,18],[55,22,54,20],[56,8,55,6,"console"],[56,15,55,13],[56,16,55,14,"error"],[56,21,55,19],[56,22,55,20],[56,49,55,47],[56,51,55,49,"error"],[56,56,55,54],[56,57,55,55],[57,6,56,4],[58,6,58,4,"setShowOnboarding"],[58,23,58,21],[58,24,58,22],[58,29,58,27],[58,30,58,28],[59,4,59,2],[59,5,59,3],[60,4,61,2],[60,8,61,6,"isLoading"],[60,17,61,15],[60,19,61,17],[61,6,62,4],[62,6,63,4],[62,13,63,11],[62,17,63,15],[62,18,63,16],[62,19,63,17],[63,4,64,2],[64,4,66,2],[64,24,67,4],[64,28,67,4,"_jsxDevRuntime"],[64,42,67,4],[64,43,67,4,"jsxDEV"],[64,49,67,4],[64,51,67,4,"_jsxDevRuntime"],[64,65,67,4],[64,66,67,4,"Fragment"],[64,74,67,4],[65,6,67,4,"children"],[65,14,67,4],[65,17,68,7,"children"],[65,25,68,15],[65,40,69,6],[65,44,69,6,"_jsxDevRuntime"],[65,58,69,6],[65,59,69,6,"jsxDEV"],[65,65,69,6],[65,67,69,7,"_PermissionsOnboarding"],[65,89,69,7],[65,90,69,7,"default"],[65,97,69,28],[66,8,70,8,"visible"],[66,15,70,15],[66,17,70,17,"showOnboarding"],[66,31,70,32],[67,8,71,8,"onComplete"],[67,18,71,18],[67,20,71,20,"handleOnboardingComplete"],[67,44,71,45],[68,8,72,8,"onSkip"],[68,14,72,14],[68,16,72,16,"handleOnboardingSkip"],[69,6,72,37],[70,8,72,37,"fileName"],[70,16,72,37],[70,18,72,37,"_jsxFileName"],[70,30,72,37],[71,8,72,37,"lineNumber"],[71,18,72,37],[72,8,72,37,"columnNumber"],[72,20,72,37],[73,6,72,37],[73,13,73,7],[73,14,73,8],[74,4,73,8],[74,19,74,6],[74,20,74,7],[75,2,76,0],[76,2,76,1,"_s"],[76,4,76,1],[76,5,9,24,"PermissionsManager"],[76,23,9,42],[77,2,9,42,"_c"],[77,4,9,42],[77,7,9,24,"PermissionsManager"],[77,25,9,42],[78,2,9,42],[78,6,9,42,"_c"],[78,8,9,42],[79,2,9,42,"$RefreshReg$"],[79,14,9,42],[79,15,9,42,"_c"],[79,17,9,42],[80,0,9,42],[80,3]],"functionMap":{"names":["<global>","PermissionsManager","useEffect$argument_0","checkOnboardingStatus","handleOnboardingComplete","handleOnboardingSkip"],"mappings":"AAA;eCQ;YCI;GDE;gCEE;GFe;mCGE;GHY;+BIE;GJW"}},"type":"js/module"}]}