{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/CartContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useCart\", {\n    enumerable: true,\n    get: function () {\n      return useCart;\n    }\n  });\n  Object.defineProperty(exports, \"CartProvider\", {\n    enumerable: true,\n    get: function () {\n      return CartProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const CartContext = /*#__PURE__*/(0, _react.createContext)({});\n  const useCart = () => (0, _react.useContext)(CartContext);\n  const CartProvider = ({\n    children\n  }) => {\n    const [items, setItems] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadCart();\n    }, []);\n    (0, _react.useEffect)(() => {\n      saveCart();\n    }, [items]);\n    const loadCart = async () => {\n      try {\n        const stored = await AsyncStorage.default.getItem('cart_items');\n        if (stored) {\n          setItems(JSON.parse(stored));\n        }\n      } catch (error) {\n        console.log('Failed to load cart:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const saveCart = async () => {\n      try {\n        await AsyncStorage.default.setItem('cart_items', JSON.stringify(items));\n      } catch (error) {\n        console.log('Failed to save cart:', error);\n      }\n    };\n    const addItem = newItem => {\n      setItems(prev => {\n        const existingIndex = prev.findIndex(item => item.product_id === newItem.product_id);\n        if (existingIndex > -1) {\n          const updated = [...prev];\n          updated[existingIndex] = {\n            ...updated[existingIndex],\n            quantity: updated[existingIndex].quantity + newItem.quantity\n          };\n          return updated;\n        } else {\n          return [...prev, newItem];\n        }\n      });\n    };\n    const removeItem = productId => {\n      setItems(prev => prev.filter(item => item.product_id !== productId));\n    };\n    const updateQuantity = (productId, quantity) => {\n      if (quantity <= 0) {\n        removeItem(productId);\n        return;\n      }\n      setItems(prev => prev.map(item => item.product_id === productId ? {\n        ...item,\n        quantity\n      } : item));\n    };\n    const clearCart = () => {\n      setItems([]);\n    };\n    const itemCount = items.reduce((total, item) => total + item.quantity, 0);\n    const totalAmount = items.reduce((total, item) => total + item.price * item.quantity, 0);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(CartContext.Provider, {\n      value: {\n        items,\n        itemCount,\n        totalAmount,\n        addItem,\n        removeItem,\n        updateQuantity,\n        clearCart,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":112,"map":[[13,2,26,0,"Object"],[13,8,26,0],[13,9,26,0,"defineProperty"],[13,23,26,0],[13,24,26,0,"exports"],[13,31,26,0],[14,4,26,0,"enumerable"],[14,14,26,0],[15,4,26,0,"get"],[15,7,26,0],[15,18,26,0,"get"],[15,19,26,0],[16,6,26,0],[16,13,26,0,"useCart"],[16,20,26,0],[17,4,26,0],[18,2,26,0],[19,2,28,0,"Object"],[19,8,28,0],[19,9,28,0,"defineProperty"],[19,23,28,0],[19,24,28,0,"exports"],[19,31,28,0],[20,4,28,0,"enumerable"],[20,14,28,0],[21,4,28,0,"get"],[21,7,28,0],[21,18,28,0,"get"],[21,19,28,0],[22,6,28,0],[22,13,28,0,"CartProvider"],[22,25,28,0],[23,4,28,0],[24,2,28,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,2,69,"_reactJsxDevRuntime"],[28,25,2,69],[28,28,2,69,"require"],[28,35,2,69],[28,36,2,69,"_dependencyMap"],[28,50,2,69],[29,2,24,0],[29,8,24,6,"CartContext"],[29,19,24,17],[29,35,24,20],[29,39,24,20,"createContext"],[29,45,24,33],[29,46,24,33,"createContext"],[29,59,24,33],[29,61,24,51],[29,62,24,52],[29,63,24,72],[29,64,24,73],[30,2,26,7],[30,8,26,13,"useCart"],[30,15,26,20],[30,18,26,23,"useCart"],[30,19,26,23],[30,24,26,29],[30,28,26,29,"useContext"],[30,34,26,39],[30,35,26,39,"useContext"],[30,45,26,39],[30,47,26,40,"CartContext"],[30,58,26,51],[30,59,26,52],[31,2,28,7],[31,8,28,13,"CartProvider"],[31,20,28,66],[31,23,28,69,"CartProvider"],[31,24,28,70],[32,4,28,72,"children"],[33,2,28,81],[33,3,28,82],[33,8,28,87],[34,4,29,2],[34,10,29,8],[34,11,29,9,"items"],[34,16,29,14],[34,18,29,16,"setItems"],[34,26,29,24],[34,27,29,25],[34,30,29,28],[34,34,29,28,"useState"],[34,40,29,36],[34,41,29,36,"useState"],[34,49,29,36],[34,51,29,49],[34,53,29,51],[34,54,29,52],[35,4,30,2],[35,10,30,8],[35,11,30,9,"loading"],[35,18,30,16],[35,20,30,18,"setLoading"],[35,30,30,28],[35,31,30,29],[35,34,30,32],[35,38,30,32,"useState"],[35,44,30,40],[35,45,30,40,"useState"],[35,53,30,40],[35,55,30,41],[35,59,30,45],[35,60,30,46],[36,4,32,2],[36,8,32,2,"useEffect"],[36,14,32,11],[36,15,32,11,"useEffect"],[36,24,32,11],[36,26,32,12],[36,32,32,18],[37,6,33,4,"loadCart"],[37,14,33,12],[37,15,33,13],[37,16,33,14],[38,4,34,2],[38,5,34,3],[38,7,34,5],[38,9,34,7],[38,10,34,8],[39,4,36,2],[39,8,36,2,"useEffect"],[39,14,36,11],[39,15,36,11,"useEffect"],[39,24,36,11],[39,26,36,12],[39,32,36,18],[40,6,37,4,"saveCart"],[40,14,37,12],[40,15,37,13],[40,16,37,14],[41,4,38,2],[41,5,38,3],[41,7,38,5],[41,8,38,6,"items"],[41,13,38,11],[41,14,38,12],[41,15,38,13],[42,4,40,2],[42,10,40,8,"loadCart"],[42,18,40,16],[42,21,40,19],[42,27,40,19,"loadCart"],[42,28,40,19],[42,33,40,31],[43,6,41,4],[43,10,41,8],[44,8,42,6],[44,14,42,12,"stored"],[44,20,42,18],[44,23,42,21],[44,29,42,27,"AsyncStorage"],[44,41,42,39],[44,42,42,39,"default"],[44,49,42,39],[44,50,42,40,"getItem"],[44,57,42,47],[44,58,42,48],[44,70,42,60],[44,71,42,61],[45,8,43,6],[45,12,43,10,"stored"],[45,18,43,16],[45,20,43,18],[46,10,44,8,"setItems"],[46,18,44,16],[46,19,44,17,"JSON"],[46,23,44,21],[46,24,44,22,"parse"],[46,29,44,27],[46,30,44,28,"stored"],[46,36,44,34],[46,37,44,35],[46,38,44,36],[47,8,45,6],[48,6,46,4],[48,7,46,5],[48,8,46,6],[48,15,46,13,"error"],[48,20,46,18],[48,22,46,20],[49,8,47,6,"console"],[49,15,47,13],[49,16,47,14,"log"],[49,19,47,17],[49,20,47,18],[49,42,47,40],[49,44,47,42,"error"],[49,49,47,47],[49,50,47,48],[50,6,48,4],[50,7,48,5],[50,16,48,14],[51,8,49,6,"setLoading"],[51,18,49,16],[51,19,49,17],[51,24,49,22],[51,25,49,23],[52,6,50,4],[53,4,51,2],[53,5,51,3],[54,4,53,2],[54,10,53,8,"saveCart"],[54,18,53,16],[54,21,53,19],[54,27,53,19,"saveCart"],[54,28,53,19],[54,33,53,31],[55,6,54,4],[55,10,54,8],[56,8,55,6],[56,14,55,12,"AsyncStorage"],[56,26,55,24],[56,27,55,24,"default"],[56,34,55,24],[56,35,55,25,"setItem"],[56,42,55,32],[56,43,55,33],[56,55,55,45],[56,57,55,47,"JSON"],[56,61,55,51],[56,62,55,52,"stringify"],[56,71,55,61],[56,72,55,62,"items"],[56,77,55,67],[56,78,55,68],[56,79,55,69],[57,6,56,4],[57,7,56,5],[57,8,56,6],[57,15,56,13,"error"],[57,20,56,18],[57,22,56,20],[58,8,57,6,"console"],[58,15,57,13],[58,16,57,14,"log"],[58,19,57,17],[58,20,57,18],[58,42,57,40],[58,44,57,42,"error"],[58,49,57,47],[58,50,57,48],[59,6,58,4],[60,4,59,2],[60,5,59,3],[61,4,61,2],[61,10,61,8,"addItem"],[61,17,61,15],[61,20,61,19,"newItem"],[61,27,61,36],[61,31,61,41],[62,6,62,4,"setItems"],[62,14,62,12],[62,15,62,13,"prev"],[62,19,62,17],[62,23,62,21],[63,8,63,6],[63,14,63,12,"existingIndex"],[63,27,63,25],[63,30,63,28,"prev"],[63,34,63,32],[63,35,63,33,"findIndex"],[63,44,63,42],[63,45,63,43,"item"],[63,49,63,47],[63,53,63,51,"item"],[63,57,63,55],[63,58,63,56,"product_id"],[63,68,63,66],[63,73,63,71,"newItem"],[63,80,63,78],[63,81,63,79,"product_id"],[63,91,63,89],[63,92,63,90],[64,8,65,6],[64,12,65,10,"existingIndex"],[64,25,65,23],[64,28,65,26],[64,29,65,27],[64,30,65,28],[64,32,65,30],[65,10,66,8],[65,16,66,14,"updated"],[65,23,66,21],[65,26,66,24],[65,27,66,25],[65,30,66,28,"prev"],[65,34,66,32],[65,35,66,33],[66,10,67,8,"updated"],[66,17,67,15],[66,18,67,16,"existingIndex"],[66,31,67,29],[66,32,67,30],[66,35,67,33],[67,12,68,10],[67,15,68,13,"updated"],[67,22,68,20],[67,23,68,21,"existingIndex"],[67,36,68,34],[67,37,68,35],[68,12,69,10,"quantity"],[68,20,69,18],[68,22,69,20,"updated"],[68,29,69,27],[68,30,69,28,"existingIndex"],[68,43,69,41],[68,44,69,42],[68,45,69,43,"quantity"],[68,53,69,51],[68,56,69,54,"newItem"],[68,63,69,61],[68,64,69,62,"quantity"],[69,10,70,8],[69,11,70,9],[70,10,71,8],[70,17,71,15,"updated"],[70,24,71,22],[71,8,72,6],[71,9,72,7],[71,15,72,13],[72,10,73,8],[72,17,73,15],[72,18,73,16],[72,21,73,19,"prev"],[72,25,73,23],[72,27,73,25,"newItem"],[72,34,73,32],[72,35,73,33],[73,8,74,6],[74,6,75,4],[74,7,75,5],[74,8,75,6],[75,4,76,2],[75,5,76,3],[76,4,78,2],[76,10,78,8,"removeItem"],[76,20,78,18],[76,23,78,22,"productId"],[76,32,78,39],[76,36,78,44],[77,6,79,4,"setItems"],[77,14,79,12],[77,15,79,13,"prev"],[77,19,79,17],[77,23,79,21,"prev"],[77,27,79,25],[77,28,79,26,"filter"],[77,34,79,32],[77,35,79,33,"item"],[77,39,79,37],[77,43,79,41,"item"],[77,47,79,45],[77,48,79,46,"product_id"],[77,58,79,56],[77,63,79,61,"productId"],[77,72,79,70],[77,73,79,71],[77,74,79,72],[78,4,80,2],[78,5,80,3],[79,4,82,2],[79,10,82,8,"updateQuantity"],[79,24,82,22],[79,27,82,25,"updateQuantity"],[79,28,82,26,"productId"],[79,37,82,43],[79,39,82,45,"quantity"],[79,47,82,61],[79,52,82,66],[80,6,83,4],[80,10,83,8,"quantity"],[80,18,83,16],[80,22,83,20],[80,23,83,21],[80,25,83,23],[81,8,84,6,"removeItem"],[81,18,84,16],[81,19,84,17,"productId"],[81,28,84,26],[81,29,84,27],[82,8,85,6],[83,6,86,4],[84,6,88,4,"setItems"],[84,14,88,12],[84,15,88,13,"prev"],[84,19,88,17],[84,23,88,21,"prev"],[84,27,88,25],[84,28,88,26,"map"],[84,31,88,29],[84,32,88,30,"item"],[84,36,88,34],[84,40,89,6,"item"],[84,44,89,10],[84,45,89,11,"product_id"],[84,55,89,21],[84,60,89,26,"productId"],[84,69,89,35],[84,72,89,38],[85,8,89,40],[85,11,89,43,"item"],[85,15,89,47],[86,8,89,49,"quantity"],[87,6,89,58],[87,7,89,59],[87,10,89,62,"item"],[87,14,90,4],[87,15,90,5],[87,16,90,6],[88,4,91,2],[88,5,91,3],[89,4,93,2],[89,10,93,8,"clearCart"],[89,19,93,17],[89,22,93,20,"clearCart"],[89,23,93,20],[89,28,93,26],[90,6,94,4,"setItems"],[90,14,94,12],[90,15,94,13],[90,17,94,15],[90,18,94,16],[91,4,95,2],[91,5,95,3],[92,4,97,2],[92,10,97,8,"itemCount"],[92,19,97,17],[92,22,97,20,"items"],[92,27,97,25],[92,28,97,26,"reduce"],[92,34,97,32],[92,35,97,33],[92,36,97,34,"total"],[92,41,97,39],[92,43,97,41,"item"],[92,47,97,45],[92,52,97,50,"total"],[92,57,97,55],[92,60,97,58,"item"],[92,64,97,62],[92,65,97,63,"quantity"],[92,73,97,71],[92,75,97,73],[92,76,97,74],[92,77,97,75],[93,4,98,2],[93,10,98,8,"totalAmount"],[93,21,98,19],[93,24,98,22,"items"],[93,29,98,27],[93,30,98,28,"reduce"],[93,36,98,34],[93,37,98,35],[93,38,98,36,"total"],[93,43,98,41],[93,45,98,43,"item"],[93,49,98,47],[93,54,98,52,"total"],[93,59,98,57],[93,62,98,61,"item"],[93,66,98,65],[93,67,98,66,"price"],[93,72,98,71],[93,75,98,74,"item"],[93,79,98,78],[93,80,98,79,"quantity"],[93,88,98,88],[93,90,98,90],[93,91,98,91],[93,92,98,92],[94,4,100,2],[94,24,101,4],[94,28,101,4,"_reactJsxDevRuntime"],[94,47,101,4],[94,48,101,4,"jsxDEV"],[94,54,101,4],[94,56,101,5,"CartContext"],[94,67,101,16],[94,68,101,17,"Provider"],[94,76,101,25],[95,6,101,26,"value"],[95,11,101,31],[95,13,101,33],[96,8,102,6,"items"],[96,13,102,11],[97,8,103,6,"itemCount"],[97,17,103,15],[98,8,104,6,"totalAmount"],[98,19,104,17],[99,8,105,6,"addItem"],[99,15,105,13],[100,8,106,6,"removeItem"],[100,18,106,16],[101,8,107,6,"updateQuantity"],[101,22,107,20],[102,8,108,6,"clearCart"],[102,17,108,15],[103,8,109,6,"loading"],[104,6,110,4],[104,7,110,6],[105,6,110,6,"children"],[105,14,110,6],[105,16,111,7,"children"],[106,4,111,15],[107,6,111,15,"fileName"],[107,14,111,15],[107,16,111,15,"_jsxFileName"],[107,28,111,15],[108,6,111,15,"lineNumber"],[108,16,111,15],[109,6,111,15,"columnNumber"],[109,18,111,15],[110,4,111,15],[110,11,112,26],[110,12,112,27],[111,2,114,0],[111,3,114,1],[112,0,114,2],[112,3]],"functionMap":{"names":["<global>","useCart","CartProvider","useEffect$argument_0","loadCart","saveCart","addItem","setItems$argument_0","prev.findIndex$argument_0","removeItem","prev.filter$argument_0","updateQuantity","prev.map$argument_0","clearCart","items.reduce$argument_0"],"mappings":"AAA;uBCyB,6BD;qEEE;YCI;GDE;YCE;GDE;mBEE;GFW;mBGE;GHM;kBIE;aCC;2CCC,8CD;KDY;GJC;qBOE;aFC,oBG,qCH,CE;GPC;yBSE;aJM,iBK;kELC;KIC;GTC;oBWE;GXE;iCYE,sCZ;mCYC,qDZ;CFgB"},"hasCjsExports":false},"type":"js/module"}]}