{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@rnmapbox/maps","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":128},"end":{"line":6,"column":36,"index":164}}],"key":"Ft+FZj9lG/5SXYS8zb+XOguFTJA=","exportNames":["*"]}},{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":165},"end":{"line":7,"column":42,"index":207}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"]}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":208},"end":{"line":8,"column":39,"index":247}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.MAP_STYLES = exports.DEFAULT_MAP_CONFIG = void 0;\n  Object.defineProperty(exports, \"Mapbox\", {\n    enumerable: true,\n    get: function () {\n      return _maps.default;\n    }\n  });\n  exports.requestLocationPermission = exports.formatDistance = exports.calculateDistance = exports.NAIROBI_CENTER = void 0;\n  var _maps = _interopRequireDefault(require(_dependencyMap[1], \"@rnmapbox/maps\"));\n  var Location = _interopRequireWildcard(require(_dependencyMap[2], \"expo-location\"));\n  var _expoConstants = _interopRequireDefault(require(_dependencyMap[3], \"expo-constants\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * Phase 3: Nearby/Onsite Commerce - Mapbox Integration\n   * Map configuration and utilities for location-based features\n   */\n\n  // Initialize Mapbox with token from environment\n  const mapboxToken = _expoConstants.default.expoConfig?.extra?.MAPBOX_PUBLIC_TOKEN || process.env.EXPO_PUBLIC_MAPBOX_PUBLIC_TOKEN || 'pk.eyJ1IjoiYWlzbGVtYXJ0cyIsImEiOiJjbTU4dGJucjIwZTN6MmpxdGtjeXQ4dW56In0.demo_token_for_development';\n  if (mapboxToken) {\n    _maps.default.setAccessToken(mapboxToken);\n    _maps.default.setConnected(true);\n  }\n  // Default Nairobi coordinates\n  const NAIROBI_CENTER = exports.NAIROBI_CENTER = [36.8065, -1.2685];\n\n  // Location permission helper\n  const requestLocationPermission = async () => {\n    try {\n      const {\n        status\n      } = await Location.requestForegroundPermissionsAsync();\n      if (status !== 'granted') {\n        return {\n          granted: false,\n          error: 'Location permission denied. Please enable location access in settings.'\n        };\n      }\n      const location = await Location.getCurrentPositionAsync({\n        accuracy: Location.Accuracy.Balanced\n      });\n      return {\n        granted: true,\n        location\n      };\n    } catch (error) {\n      console.error('Location permission error:', error);\n      return {\n        granted: false,\n        error: 'Failed to get location. Please try again.'\n      };\n    }\n  };\n\n  // Distance calculation utility\n  exports.requestLocationPermission = requestLocationPermission;\n  const calculateDistance = (lat1, lng1, lat2, lng2) => {\n    const R = 6371; // Radius of the Earth in kilometers\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLng = (lng2 - lng1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c * 1000; // Return distance in meters\n  };\n\n  // Format distance for display\n  exports.calculateDistance = calculateDistance;\n  const formatDistance = meters => {\n    if (meters < 1000) {\n      return `${Math.round(meters)}m`;\n    } else {\n      return `${(meters / 1000).toFixed(1)}km`;\n    }\n  };\n\n  // Map style configurations\n  exports.formatDistance = formatDistance;\n  const MAP_STYLES = exports.MAP_STYLES = {\n    street: 'mapbox://styles/mapbox/streets-v12',\n    satellite: 'mapbox://styles/mapbox/satellite-streets-v12',\n    dark: 'mapbox://styles/mapbox/dark-v11',\n    light: 'mapbox://styles/mapbox/light-v11'\n  };\n\n  // Default map configuration\n  const DEFAULT_MAP_CONFIG = exports.DEFAULT_MAP_CONFIG = {\n    zoomLevel: 13,\n    pitch: 0,\n    heading: 0,\n    style: MAP_STYLES.street\n  };\n});","lineCount":97,"map":[[14,2,6,0],[14,6,6,0,"_maps"],[14,11,6,0],[14,14,6,0,"_interopRequireDefault"],[14,36,6,0],[14,37,6,0,"require"],[14,44,6,0],[14,45,6,0,"_dependencyMap"],[14,59,6,0],[15,2,7,0],[15,6,7,0,"Location"],[15,14,7,0],[15,17,7,0,"_interopRequireWildcard"],[15,40,7,0],[15,41,7,0,"require"],[15,48,7,0],[15,49,7,0,"_dependencyMap"],[15,63,7,0],[16,2,8,0],[16,6,8,0,"_expoConstants"],[16,20,8,0],[16,23,8,0,"_interopRequireDefault"],[16,45,8,0],[16,46,8,0,"require"],[16,53,8,0],[16,54,8,0,"_dependencyMap"],[16,68,8,0],[17,2,8,39],[17,11,8,39,"_interopRequireWildcard"],[17,35,8,39,"e"],[17,36,8,39],[17,38,8,39,"t"],[17,39,8,39],[17,68,8,39,"WeakMap"],[17,75,8,39],[17,81,8,39,"r"],[17,82,8,39],[17,89,8,39,"WeakMap"],[17,96,8,39],[17,100,8,39,"n"],[17,101,8,39],[17,108,8,39,"WeakMap"],[17,115,8,39],[17,127,8,39,"_interopRequireWildcard"],[17,150,8,39],[17,162,8,39,"_interopRequireWildcard"],[17,163,8,39,"e"],[17,164,8,39],[17,166,8,39,"t"],[17,167,8,39],[17,176,8,39,"t"],[17,177,8,39],[17,181,8,39,"e"],[17,182,8,39],[17,186,8,39,"e"],[17,187,8,39],[17,188,8,39,"__esModule"],[17,198,8,39],[17,207,8,39,"e"],[17,208,8,39],[17,214,8,39,"o"],[17,215,8,39],[17,217,8,39,"i"],[17,218,8,39],[17,220,8,39,"f"],[17,221,8,39],[17,226,8,39,"__proto__"],[17,235,8,39],[17,243,8,39,"default"],[17,250,8,39],[17,252,8,39,"e"],[17,253,8,39],[17,270,8,39,"e"],[17,271,8,39],[17,294,8,39,"e"],[17,295,8,39],[17,320,8,39,"e"],[17,321,8,39],[17,330,8,39,"f"],[17,331,8,39],[17,337,8,39,"o"],[17,338,8,39],[17,341,8,39,"t"],[17,342,8,39],[17,345,8,39,"n"],[17,346,8,39],[17,349,8,39,"r"],[17,350,8,39],[17,358,8,39,"o"],[17,359,8,39],[17,360,8,39,"has"],[17,363,8,39],[17,364,8,39,"e"],[17,365,8,39],[17,375,8,39,"o"],[17,376,8,39],[17,377,8,39,"get"],[17,380,8,39],[17,381,8,39,"e"],[17,382,8,39],[17,385,8,39,"o"],[17,386,8,39],[17,387,8,39,"set"],[17,390,8,39],[17,391,8,39,"e"],[17,392,8,39],[17,394,8,39,"f"],[17,395,8,39],[17,411,8,39,"t"],[17,412,8,39],[17,416,8,39,"e"],[17,417,8,39],[17,433,8,39,"t"],[17,434,8,39],[17,441,8,39,"hasOwnProperty"],[17,455,8,39],[17,456,8,39,"call"],[17,460,8,39],[17,461,8,39,"e"],[17,462,8,39],[17,464,8,39,"t"],[17,465,8,39],[17,472,8,39,"i"],[17,473,8,39],[17,477,8,39,"o"],[17,478,8,39],[17,481,8,39,"Object"],[17,487,8,39],[17,488,8,39,"defineProperty"],[17,502,8,39],[17,507,8,39,"Object"],[17,513,8,39],[17,514,8,39,"getOwnPropertyDescriptor"],[17,538,8,39],[17,539,8,39,"e"],[17,540,8,39],[17,542,8,39,"t"],[17,543,8,39],[17,550,8,39,"i"],[17,551,8,39],[17,552,8,39,"get"],[17,555,8,39],[17,559,8,39,"i"],[17,560,8,39],[17,561,8,39,"set"],[17,564,8,39],[17,568,8,39,"o"],[17,569,8,39],[17,570,8,39,"f"],[17,571,8,39],[17,573,8,39,"t"],[17,574,8,39],[17,576,8,39,"i"],[17,577,8,39],[17,581,8,39,"f"],[17,582,8,39],[17,583,8,39,"t"],[17,584,8,39],[17,588,8,39,"e"],[17,589,8,39],[17,590,8,39,"t"],[17,591,8,39],[17,602,8,39,"f"],[17,603,8,39],[17,608,8,39,"e"],[17,609,8,39],[17,611,8,39,"t"],[17,612,8,39],[18,2,1,0],[19,0,2,0],[20,0,3,0],[21,0,4,0],[23,2,10,0],[24,2,11,0],[24,8,11,6,"mapboxToken"],[24,19,11,17],[24,22,11,20,"Constants"],[24,44,11,29],[24,45,11,30,"expoConfig"],[24,55,11,40],[24,57,11,42,"extra"],[24,62,11,47],[24,64,11,49,"MAPBOX_PUBLIC_TOKEN"],[24,83,11,68],[24,87,12,2,"process"],[24,94,12,9],[24,95,12,10,"env"],[24,98,12,13],[24,99,12,14,"EXPO_PUBLIC_MAPBOX_PUBLIC_TOKEN"],[24,130,12,45],[24,134,13,2],[24,233,13,101],[25,2,15,0],[25,6,15,4,"mapboxToken"],[25,17,15,15],[25,19,15,17],[26,4,16,2,"Mapbox"],[26,17,16,8],[26,18,16,9,"setAccessToken"],[26,32,16,23],[26,33,16,24,"mapboxToken"],[26,44,16,35],[26,45,16,36],[27,4,17,2,"Mapbox"],[27,17,17,8],[27,18,17,9,"setConnected"],[27,30,17,21],[27,31,17,22],[27,35,17,26],[27,36,17,27],[28,2,18,0],[29,2,22,0],[30,2,23,7],[30,8,23,13,"NAIROBI_CENTER"],[30,22,23,45],[30,25,23,45,"exports"],[30,32,23,45],[30,33,23,45,"NAIROBI_CENTER"],[30,47,23,45],[30,50,23,48],[30,51,23,49],[30,58,23,56],[30,60,23,58],[30,61,23,59],[30,67,23,65],[30,68,23,66],[32,2,25,0],[33,2,26,7],[33,8,26,13,"requestLocationPermission"],[33,33,26,38],[33,36,26,41],[33,42,26,41,"requestLocationPermission"],[33,43,26,41],[33,48,30,6],[34,4,31,2],[34,8,31,6],[35,6,32,4],[35,12,32,10],[36,8,32,12,"status"],[37,6,32,19],[37,7,32,20],[37,10,32,23],[37,16,32,29,"Location"],[37,24,32,37],[37,25,32,38,"requestForegroundPermissionsAsync"],[37,58,32,71],[37,59,32,72],[37,60,32,73],[38,6,34,4],[38,10,34,8,"status"],[38,16,34,14],[38,21,34,19],[38,30,34,28],[38,32,34,30],[39,8,35,6],[39,15,35,13],[40,10,36,8,"granted"],[40,17,36,15],[40,19,36,17],[40,24,36,22],[41,10,37,8,"error"],[41,15,37,13],[41,17,37,15],[42,8,38,6],[42,9,38,7],[43,6,39,4],[44,6,41,4],[44,12,41,10,"location"],[44,20,41,18],[44,23,41,21],[44,29,41,27,"Location"],[44,37,41,35],[44,38,41,36,"getCurrentPositionAsync"],[44,61,41,59],[44,62,41,60],[45,8,42,6,"accuracy"],[45,16,42,14],[45,18,42,16,"Location"],[45,26,42,24],[45,27,42,25,"Accuracy"],[45,35,42,33],[45,36,42,34,"Balanced"],[46,6,43,4],[46,7,43,5],[46,8,43,6],[47,6,45,4],[47,13,45,11],[48,8,46,6,"granted"],[48,15,46,13],[48,17,46,15],[48,21,46,19],[49,8,47,6,"location"],[50,6,48,4],[50,7,48,5],[51,4,49,2],[51,5,49,3],[51,6,49,4],[51,13,49,11,"error"],[51,18,49,16],[51,20,49,18],[52,6,50,4,"console"],[52,13,50,11],[52,14,50,12,"error"],[52,19,50,17],[52,20,50,18],[52,48,50,46],[52,50,50,48,"error"],[52,55,50,53],[52,56,50,54],[53,6,51,4],[53,13,51,11],[54,8,52,6,"granted"],[54,15,52,13],[54,17,52,15],[54,22,52,20],[55,8,53,6,"error"],[55,13,53,11],[55,15,53,13],[56,6,54,4],[56,7,54,5],[57,4,55,2],[58,2,56,0],[58,3,56,1],[60,2,58,0],[61,2,58,0,"exports"],[61,9,58,0],[61,10,58,0,"requestLocationPermission"],[61,35,58,0],[61,38,58,0,"requestLocationPermission"],[61,63,58,0],[62,2,59,7],[62,8,59,13,"calculateDistance"],[62,25,59,30],[62,28,59,33,"calculateDistance"],[62,29,60,2,"lat1"],[62,33,60,14],[62,35,61,2,"lng1"],[62,39,61,14],[62,41,62,2,"lat2"],[62,45,62,14],[62,47,63,2,"lng2"],[62,51,63,14],[62,56,64,13],[63,4,65,2],[63,10,65,8,"R"],[63,11,65,9],[63,14,65,12],[63,18,65,16],[63,19,65,17],[63,20,65,18],[64,4,66,2],[64,10,66,8,"dLat"],[64,14,66,12],[64,17,66,15],[64,18,66,16,"lat2"],[64,22,66,20],[64,25,66,23,"lat1"],[64,29,66,27],[64,33,66,31,"Math"],[64,37,66,35],[64,38,66,36,"PI"],[64,40,66,38],[64,43,66,41],[64,46,66,44],[65,4,67,2],[65,10,67,8,"dLng"],[65,14,67,12],[65,17,67,15],[65,18,67,16,"lng2"],[65,22,67,20],[65,25,67,23,"lng1"],[65,29,67,27],[65,33,67,31,"Math"],[65,37,67,35],[65,38,67,36,"PI"],[65,40,67,38],[65,43,67,41],[65,46,67,44],[66,4,68,2],[66,10,68,8,"a"],[66,11,68,9],[66,14,69,4,"Math"],[66,18,69,8],[66,19,69,9,"sin"],[66,22,69,12],[66,23,69,13,"dLat"],[66,27,69,17],[66,30,69,20],[66,31,69,21],[66,32,69,22],[66,35,69,25,"Math"],[66,39,69,29],[66,40,69,30,"sin"],[66,43,69,33],[66,44,69,34,"dLat"],[66,48,69,38],[66,51,69,41],[66,52,69,42],[66,53,69,43],[66,56,70,4,"Math"],[66,60,70,8],[66,61,70,9,"cos"],[66,64,70,12],[66,65,70,13,"lat1"],[66,69,70,17],[66,72,70,20,"Math"],[66,76,70,24],[66,77,70,25,"PI"],[66,79,70,27],[66,82,70,30],[66,85,70,33],[66,86,70,34],[66,89,70,37,"Math"],[66,93,70,41],[66,94,70,42,"cos"],[66,97,70,45],[66,98,70,46,"lat2"],[66,102,70,50],[66,105,70,53,"Math"],[66,109,70,57],[66,110,70,58,"PI"],[66,112,70,60],[66,115,70,63],[66,118,70,66],[66,119,70,67],[66,122,71,4,"Math"],[66,126,71,8],[66,127,71,9,"sin"],[66,130,71,12],[66,131,71,13,"dLng"],[66,135,71,17],[66,138,71,20],[66,139,71,21],[66,140,71,22],[66,143,71,25,"Math"],[66,147,71,29],[66,148,71,30,"sin"],[66,151,71,33],[66,152,71,34,"dLng"],[66,156,71,38],[66,159,71,41],[66,160,71,42],[66,161,71,43],[67,4,72,2],[67,10,72,8,"c"],[67,11,72,9],[67,14,72,12],[67,15,72,13],[67,18,72,16,"Math"],[67,22,72,20],[67,23,72,21,"atan2"],[67,28,72,26],[67,29,72,27,"Math"],[67,33,72,31],[67,34,72,32,"sqrt"],[67,38,72,36],[67,39,72,37,"a"],[67,40,72,38],[67,41,72,39],[67,43,72,41,"Math"],[67,47,72,45],[67,48,72,46,"sqrt"],[67,52,72,50],[67,53,72,51],[67,54,72,52],[67,57,72,55,"a"],[67,58,72,56],[67,59,72,57],[67,60,72,58],[68,4,73,2],[68,11,73,9,"R"],[68,12,73,10],[68,15,73,13,"c"],[68,16,73,14],[68,19,73,17],[68,23,73,21],[68,24,73,22],[68,25,73,23],[69,2,74,0],[69,3,74,1],[71,2,76,0],[72,2,76,0,"exports"],[72,9,76,0],[72,10,76,0,"calculateDistance"],[72,27,76,0],[72,30,76,0,"calculateDistance"],[72,47,76,0],[73,2,77,7],[73,8,77,13,"formatDistance"],[73,22,77,27],[73,25,77,31,"meters"],[73,31,77,45],[73,35,77,58],[74,4,78,2],[74,8,78,6,"meters"],[74,14,78,12],[74,17,78,15],[74,21,78,19],[74,23,78,21],[75,6,79,4],[75,13,79,11],[75,16,79,14,"Math"],[75,20,79,18],[75,21,79,19,"round"],[75,26,79,24],[75,27,79,25,"meters"],[75,33,79,31],[75,34,79,32],[75,37,79,35],[76,4,80,2],[76,5,80,3],[76,11,80,9],[77,6,81,4],[77,13,81,11],[77,16,81,14],[77,17,81,15,"meters"],[77,23,81,21],[77,26,81,24],[77,30,81,28],[77,32,81,30,"toFixed"],[77,39,81,37],[77,40,81,38],[77,41,81,39],[77,42,81,40],[77,46,81,44],[78,4,82,2],[79,2,83,0],[79,3,83,1],[81,2,85,0],[82,2,85,0,"exports"],[82,9,85,0],[82,10,85,0,"formatDistance"],[82,24,85,0],[82,27,85,0,"formatDistance"],[82,41,85,0],[83,2,86,7],[83,8,86,13,"MAP_STYLES"],[83,18,86,23],[83,21,86,23,"exports"],[83,28,86,23],[83,29,86,23,"MAP_STYLES"],[83,39,86,23],[83,42,86,26],[84,4,87,2,"street"],[84,10,87,8],[84,12,87,10],[84,48,87,46],[85,4,88,2,"satellite"],[85,13,88,11],[85,15,88,13],[85,61,88,59],[86,4,89,2,"dark"],[86,8,89,6],[86,10,89,8],[86,43,89,41],[87,4,90,2,"light"],[87,9,90,7],[87,11,90,9],[88,2,91,0],[88,3,91,1],[90,2,93,0],[91,2,94,7],[91,8,94,13,"DEFAULT_MAP_CONFIG"],[91,26,94,31],[91,29,94,31,"exports"],[91,36,94,31],[91,37,94,31,"DEFAULT_MAP_CONFIG"],[91,55,94,31],[91,58,94,34],[92,4,95,2,"zoomLevel"],[92,13,95,11],[92,15,95,13],[92,17,95,15],[93,4,96,2,"pitch"],[93,9,96,7],[93,11,96,9],[93,12,96,10],[94,4,97,2,"heading"],[94,11,97,9],[94,13,97,11],[94,14,97,12],[95,4,98,2,"style"],[95,9,98,7],[95,11,98,9,"MAP_STYLES"],[95,21,98,19],[95,22,98,20,"street"],[96,2,99,0],[96,3,99,1],[97,0,99,2],[97,3]],"functionMap":{"names":["<global>","requestLocationPermission","calculateDistance","formatDistance"],"mappings":"AAA;yCCyB;CD8B;iCEG;CFe;8BGG;CHM"}},"type":"js/module"}]}