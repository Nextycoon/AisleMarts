{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"../api/client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":45,"index":194}}],"key":"vrY6iF+Nd2CrRu9d6eBxeX1BPiA=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuth = exports.AuthProvider = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _client = require(_dependencyMap[3], \"../api/client\");\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const useAuth = () => {\n    _s();\n    return (0, _react.useContext)(AuthContext);\n  };\n  exports.useAuth = useAuth;\n  _s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  const AuthProvider = ({\n    children\n  }) => {\n    _s2();\n    const [user, setUser] = (0, _react.useState)();\n    const [token, setToken] = (0, _react.useState)();\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await _asyncStorage.default.getItem('auth_token');\n        if (storedToken) {\n          (0, _client.setAuth)(storedToken);\n          setToken(storedToken);\n\n          // Verify token by fetching user data\n          const {\n            data\n          } = await _client.API.get('/auth/me');\n          setUser(data);\n        }\n      } catch (error) {\n        console.log('Failed to load stored auth:', error);\n        await _asyncStorage.default.removeItem('auth_token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const {\n        data\n      } = await _client.API.post('/auth/login', {\n        email,\n        password\n      });\n      const newToken = data.access_token;\n      await _asyncStorage.default.setItem('auth_token', newToken);\n      (0, _client.setAuth)(newToken);\n      setToken(newToken);\n\n      // Fetch user data\n      const userResponse = await _client.API.get('/auth/me');\n      setUser(userResponse.data);\n    };\n    const register = async (email, password, name) => {\n      const {\n        data\n      } = await _client.API.post('/auth/register', {\n        email,\n        password,\n        name\n      });\n      const newToken = data.access_token;\n      await _asyncStorage.default.setItem('auth_token', newToken);\n      (0, _client.setAuth)(newToken);\n      setToken(newToken);\n\n      // Fetch user data\n      const userResponse = await _client.API.get('/auth/me');\n      setUser(userResponse.data);\n    };\n    const logout = async () => {\n      await _asyncStorage.default.removeItem('auth_token');\n      (0, _client.setAuth)(undefined);\n      setToken(undefined);\n      setUser(undefined);\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this);\n  };\n  exports.AuthProvider = AuthProvider;\n  _s2(AuthProvider, \"Lrl4ofBXN9wzvGaeimupXwcoRFc=\");\n  _c = AuthProvider;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":112,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_asyncStorage"],[8,19,2,0],[8,22,2,0,"_interopRequireDefault"],[8,44,2,0],[8,45,2,0,"require"],[8,52,2,0],[8,53,2,0,"_dependencyMap"],[8,67,2,0],[9,2,3,0],[9,6,3,0,"_client"],[9,13,3,0],[9,16,3,0,"require"],[9,23,3,0],[9,24,3,0,"_dependencyMap"],[9,38,3,0],[10,2,3,45],[10,6,3,45,"_jsxDevRuntime"],[10,20,3,45],[10,23,3,45,"require"],[10,30,3,45],[10,31,3,45,"_dependencyMap"],[10,45,3,45],[11,2,3,45],[11,6,3,45,"_jsxFileName"],[11,18,3,45],[12,4,3,45,"_s"],[12,6,3,45],[12,9,3,45,"$RefreshSig$"],[12,21,3,45],[13,4,3,45,"_s2"],[13,7,3,45],[13,10,3,45,"$RefreshSig$"],[13,22,3,45],[14,2,3,45],[14,11,3,45,"_interopRequireWildcard"],[14,35,3,45,"e"],[14,36,3,45],[14,38,3,45,"t"],[14,39,3,45],[14,68,3,45,"WeakMap"],[14,75,3,45],[14,81,3,45,"r"],[14,82,3,45],[14,89,3,45,"WeakMap"],[14,96,3,45],[14,100,3,45,"n"],[14,101,3,45],[14,108,3,45,"WeakMap"],[14,115,3,45],[14,127,3,45,"_interopRequireWildcard"],[14,150,3,45],[14,162,3,45,"_interopRequireWildcard"],[14,163,3,45,"e"],[14,164,3,45],[14,166,3,45,"t"],[14,167,3,45],[14,176,3,45,"t"],[14,177,3,45],[14,181,3,45,"e"],[14,182,3,45],[14,186,3,45,"e"],[14,187,3,45],[14,188,3,45,"__esModule"],[14,198,3,45],[14,207,3,45,"e"],[14,208,3,45],[14,214,3,45,"o"],[14,215,3,45],[14,217,3,45,"i"],[14,218,3,45],[14,220,3,45,"f"],[14,221,3,45],[14,226,3,45,"__proto__"],[14,235,3,45],[14,243,3,45,"default"],[14,250,3,45],[14,252,3,45,"e"],[14,253,3,45],[14,270,3,45,"e"],[14,271,3,45],[14,294,3,45,"e"],[14,295,3,45],[14,320,3,45,"e"],[14,321,3,45],[14,330,3,45,"f"],[14,331,3,45],[14,337,3,45,"o"],[14,338,3,45],[14,341,3,45,"t"],[14,342,3,45],[14,345,3,45,"n"],[14,346,3,45],[14,349,3,45,"r"],[14,350,3,45],[14,358,3,45,"o"],[14,359,3,45],[14,360,3,45,"has"],[14,363,3,45],[14,364,3,45,"e"],[14,365,3,45],[14,375,3,45,"o"],[14,376,3,45],[14,377,3,45,"get"],[14,380,3,45],[14,381,3,45,"e"],[14,382,3,45],[14,385,3,45,"o"],[14,386,3,45],[14,387,3,45,"set"],[14,390,3,45],[14,391,3,45,"e"],[14,392,3,45],[14,394,3,45,"f"],[14,395,3,45],[14,411,3,45,"t"],[14,412,3,45],[14,416,3,45,"e"],[14,417,3,45],[14,433,3,45,"t"],[14,434,3,45],[14,441,3,45,"hasOwnProperty"],[14,455,3,45],[14,456,3,45,"call"],[14,460,3,45],[14,461,3,45,"e"],[14,462,3,45],[14,464,3,45,"t"],[14,465,3,45],[14,472,3,45,"i"],[14,473,3,45],[14,477,3,45,"o"],[14,478,3,45],[14,481,3,45,"Object"],[14,487,3,45],[14,488,3,45,"defineProperty"],[14,502,3,45],[14,507,3,45,"Object"],[14,513,3,45],[14,514,3,45,"getOwnPropertyDescriptor"],[14,538,3,45],[14,539,3,45,"e"],[14,540,3,45],[14,542,3,45,"t"],[14,543,3,45],[14,550,3,45,"i"],[14,551,3,45],[14,552,3,45,"get"],[14,555,3,45],[14,559,3,45,"i"],[14,560,3,45],[14,561,3,45,"set"],[14,564,3,45],[14,568,3,45,"o"],[14,569,3,45],[14,570,3,45,"f"],[14,571,3,45],[14,573,3,45,"t"],[14,574,3,45],[14,576,3,45,"i"],[14,577,3,45],[14,581,3,45,"f"],[14,582,3,45],[14,583,3,45,"t"],[14,584,3,45],[14,588,3,45,"e"],[14,589,3,45],[14,590,3,45,"t"],[14,591,3,45],[14,602,3,45,"f"],[14,603,3,45],[14,608,3,45,"e"],[14,609,3,45],[14,611,3,45,"t"],[14,612,3,45],[15,2,21,0],[15,8,21,6,"AuthContext"],[15,19,21,17],[15,35,21,20],[15,39,21,20,"createContext"],[15,59,21,33],[15,61,21,51],[15,62,21,52],[15,63,21,72],[15,64,21,73],[16,2,23,7],[16,8,23,13,"useAuth"],[16,15,23,20],[16,18,23,23,"useAuth"],[16,19,23,23],[17,4,23,23,"_s"],[17,6,23,23],[18,4,23,23],[18,11,23,29],[18,15,23,29,"useContext"],[18,32,23,39],[18,34,23,40,"AuthContext"],[18,45,23,51],[18,46,23,52],[19,2,23,52],[20,2,23,53,"exports"],[20,9,23,53],[20,10,23,53,"useAuth"],[20,17,23,53],[20,20,23,53,"useAuth"],[20,27,23,53],[21,2,23,53,"_s"],[21,4,23,53],[21,5,23,13,"useAuth"],[21,12,23,20],[22,2,25,7],[22,8,25,13,"AuthProvider"],[22,20,25,66],[22,23,25,69,"AuthProvider"],[22,24,25,70],[23,4,25,72,"children"],[24,2,25,81],[24,3,25,82],[24,8,25,87],[25,4,25,87,"_s2"],[25,7,25,87],[26,4,26,2],[26,10,26,8],[26,11,26,9,"user"],[26,15,26,13],[26,17,26,15,"setUser"],[26,24,26,22],[26,25,26,23],[26,28,26,26],[26,32,26,26,"useState"],[26,47,26,34],[26,49,26,41],[26,50,26,42],[27,4,27,2],[27,10,27,8],[27,11,27,9,"token"],[27,16,27,14],[27,18,27,16,"setToken"],[27,26,27,24],[27,27,27,25],[27,30,27,28],[27,34,27,28,"useState"],[27,49,27,36],[27,51,27,45],[27,52,27,46],[28,4,28,2],[28,10,28,8],[28,11,28,9,"loading"],[28,18,28,16],[28,20,28,18,"setLoading"],[28,30,28,28],[28,31,28,29],[28,34,28,32],[28,38,28,32,"useState"],[28,53,28,40],[28,55,28,41],[28,59,28,45],[28,60,28,46],[29,4,30,2],[29,8,30,2,"useEffect"],[29,24,30,11],[29,26,30,12],[29,32,30,18],[30,6,31,4,"loadStoredAuth"],[30,20,31,18],[30,21,31,19],[30,22,31,20],[31,4,32,2],[31,5,32,3],[31,7,32,5],[31,9,32,7],[31,10,32,8],[32,4,34,2],[32,10,34,8,"loadStoredAuth"],[32,24,34,22],[32,27,34,25],[32,33,34,25,"loadStoredAuth"],[32,34,34,25],[32,39,34,37],[33,6,35,4],[33,10,35,8],[34,8,36,6],[34,14,36,12,"storedToken"],[34,25,36,23],[34,28,36,26],[34,34,36,32,"AsyncStorage"],[34,55,36,44],[34,56,36,45,"getItem"],[34,63,36,52],[34,64,36,53],[34,76,36,65],[34,77,36,66],[35,8,37,6],[35,12,37,10,"storedToken"],[35,23,37,21],[35,25,37,23],[36,10,38,8],[36,14,38,8,"setAuth"],[36,29,38,15],[36,31,38,16,"storedToken"],[36,42,38,27],[36,43,38,28],[37,10,39,8,"setToken"],[37,18,39,16],[37,19,39,17,"storedToken"],[37,30,39,28],[37,31,39,29],[39,10,41,8],[40,10,42,8],[40,16,42,14],[41,12,42,16,"data"],[42,10,42,21],[42,11,42,22],[42,14,42,25],[42,20,42,31,"API"],[42,31,42,34],[42,32,42,35,"get"],[42,35,42,38],[42,36,42,39],[42,46,42,49],[42,47,42,50],[43,10,43,8,"setUser"],[43,17,43,15],[43,18,43,16,"data"],[43,22,43,20],[43,23,43,21],[44,8,44,6],[45,6,45,4],[45,7,45,5],[45,8,45,6],[45,15,45,13,"error"],[45,20,45,18],[45,22,45,20],[46,8,46,6,"console"],[46,15,46,13],[46,16,46,14,"log"],[46,19,46,17],[46,20,46,18],[46,49,46,47],[46,51,46,49,"error"],[46,56,46,54],[46,57,46,55],[47,8,47,6],[47,14,47,12,"AsyncStorage"],[47,35,47,24],[47,36,47,25,"removeItem"],[47,46,47,35],[47,47,47,36],[47,59,47,48],[47,60,47,49],[48,6,48,4],[48,7,48,5],[48,16,48,14],[49,8,49,6,"setLoading"],[49,18,49,16],[49,19,49,17],[49,24,49,22],[49,25,49,23],[50,6,50,4],[51,4,51,2],[51,5,51,3],[52,4,53,2],[52,10,53,8,"login"],[52,15,53,13],[52,18,53,16],[52,24,53,16,"login"],[52,25,53,23,"email"],[52,30,53,36],[52,32,53,38,"password"],[52,40,53,54],[52,45,53,59],[53,6,54,4],[53,12,54,10],[54,8,54,12,"data"],[55,6,54,17],[55,7,54,18],[55,10,54,21],[55,16,54,27,"API"],[55,27,54,30],[55,28,54,31,"post"],[55,32,54,35],[55,33,54,36],[55,46,54,49],[55,48,54,51],[56,8,54,53,"email"],[56,13,54,58],[57,8,54,60,"password"],[58,6,54,69],[58,7,54,70],[58,8,54,71],[59,6,55,4],[59,12,55,10,"newToken"],[59,20,55,18],[59,23,55,21,"data"],[59,27,55,25],[59,28,55,26,"access_token"],[59,40,55,38],[60,6,57,4],[60,12,57,10,"AsyncStorage"],[60,33,57,22],[60,34,57,23,"setItem"],[60,41,57,30],[60,42,57,31],[60,54,57,43],[60,56,57,45,"newToken"],[60,64,57,53],[60,65,57,54],[61,6,58,4],[61,10,58,4,"setAuth"],[61,25,58,11],[61,27,58,12,"newToken"],[61,35,58,20],[61,36,58,21],[62,6,59,4,"setToken"],[62,14,59,12],[62,15,59,13,"newToken"],[62,23,59,21],[62,24,59,22],[64,6,61,4],[65,6,62,4],[65,12,62,10,"userResponse"],[65,24,62,22],[65,27,62,25],[65,33,62,31,"API"],[65,44,62,34],[65,45,62,35,"get"],[65,48,62,38],[65,49,62,39],[65,59,62,49],[65,60,62,50],[66,6,63,4,"setUser"],[66,13,63,11],[66,14,63,12,"userResponse"],[66,26,63,24],[66,27,63,25,"data"],[66,31,63,29],[66,32,63,30],[67,4,64,2],[67,5,64,3],[68,4,66,2],[68,10,66,8,"register"],[68,18,66,16],[68,21,66,19],[68,27,66,19,"register"],[68,28,66,26,"email"],[68,33,66,39],[68,35,66,41,"password"],[68,43,66,57],[68,45,66,59,"name"],[68,49,66,72],[68,54,66,77],[69,6,67,4],[69,12,67,10],[70,8,67,12,"data"],[71,6,67,17],[71,7,67,18],[71,10,67,21],[71,16,67,27,"API"],[71,27,67,30],[71,28,67,31,"post"],[71,32,67,35],[71,33,67,36],[71,49,67,52],[71,51,67,54],[72,8,67,56,"email"],[72,13,67,61],[73,8,67,63,"password"],[73,16,67,71],[74,8,67,73,"name"],[75,6,67,78],[75,7,67,79],[75,8,67,80],[76,6,68,4],[76,12,68,10,"newToken"],[76,20,68,18],[76,23,68,21,"data"],[76,27,68,25],[76,28,68,26,"access_token"],[76,40,68,38],[77,6,70,4],[77,12,70,10,"AsyncStorage"],[77,33,70,22],[77,34,70,23,"setItem"],[77,41,70,30],[77,42,70,31],[77,54,70,43],[77,56,70,45,"newToken"],[77,64,70,53],[77,65,70,54],[78,6,71,4],[78,10,71,4,"setAuth"],[78,25,71,11],[78,27,71,12,"newToken"],[78,35,71,20],[78,36,71,21],[79,6,72,4,"setToken"],[79,14,72,12],[79,15,72,13,"newToken"],[79,23,72,21],[79,24,72,22],[81,6,74,4],[82,6,75,4],[82,12,75,10,"userResponse"],[82,24,75,22],[82,27,75,25],[82,33,75,31,"API"],[82,44,75,34],[82,45,75,35,"get"],[82,48,75,38],[82,49,75,39],[82,59,75,49],[82,60,75,50],[83,6,76,4,"setUser"],[83,13,76,11],[83,14,76,12,"userResponse"],[83,26,76,24],[83,27,76,25,"data"],[83,31,76,29],[83,32,76,30],[84,4,77,2],[84,5,77,3],[85,4,79,2],[85,10,79,8,"logout"],[85,16,79,14],[85,19,79,17],[85,25,79,17,"logout"],[85,26,79,17],[85,31,79,29],[86,6,80,4],[86,12,80,10,"AsyncStorage"],[86,33,80,22],[86,34,80,23,"removeItem"],[86,44,80,33],[86,45,80,34],[86,57,80,46],[86,58,80,47],[87,6,81,4],[87,10,81,4,"setAuth"],[87,25,81,11],[87,27,81,12,"undefined"],[87,36,81,21],[87,37,81,22],[88,6,82,4,"setToken"],[88,14,82,12],[88,15,82,13,"undefined"],[88,24,82,22],[88,25,82,23],[89,6,83,4,"setUser"],[89,13,83,11],[89,14,83,12,"undefined"],[89,23,83,21],[89,24,83,22],[90,4,84,2],[90,5,84,3],[91,4,86,2],[91,24,87,4],[91,28,87,4,"_jsxDevRuntime"],[91,42,87,4],[91,43,87,4,"jsxDEV"],[91,49,87,4],[91,51,87,5,"AuthContext"],[91,62,87,16],[91,63,87,17,"Provider"],[91,71,87,25],[92,6,87,26,"value"],[92,11,87,31],[92,13,87,33],[93,8,87,35,"user"],[93,12,87,39],[94,8,87,41,"token"],[94,13,87,46],[95,8,87,48,"loading"],[95,15,87,55],[96,8,87,57,"login"],[96,13,87,62],[97,8,87,64,"register"],[97,16,87,72],[98,8,87,74,"logout"],[99,6,87,81],[99,7,87,83],[100,6,87,83,"children"],[100,14,87,83],[100,16,88,7,"children"],[101,4,88,15],[102,6,88,15,"fileName"],[102,14,88,15],[102,16,88,15,"_jsxFileName"],[102,28,88,15],[103,6,88,15,"lineNumber"],[103,16,88,15],[104,6,88,15,"columnNumber"],[104,18,88,15],[105,4,88,15],[105,11,89,26],[105,12,89,27],[106,2,91,0],[106,3,91,1],[107,2,91,2,"exports"],[107,9,91,2],[107,10,91,2,"AuthProvider"],[107,22,91,2],[107,25,91,2,"AuthProvider"],[107,37,91,2],[108,2,91,2,"_s2"],[108,5,91,2],[108,6,25,13,"AuthProvider"],[108,18,25,66],[109,2,25,66,"_c"],[109,4,25,66],[109,7,25,13,"AuthProvider"],[109,19,25,66],[110,2,25,66],[110,6,25,66,"_c"],[110,8,25,66],[111,2,25,66,"$RefreshReg$"],[111,14,25,66],[111,15,25,66,"_c"],[111,17,25,66],[112,0,25,66],[112,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout"],"mappings":"AAA;uBCsB,6BD;qEEE;YCK;GDE;yBEE;GFiB;gBGE;GHW;mBIE;GJW;iBKE;GLK;CFO"}},"type":"js/module"}]}