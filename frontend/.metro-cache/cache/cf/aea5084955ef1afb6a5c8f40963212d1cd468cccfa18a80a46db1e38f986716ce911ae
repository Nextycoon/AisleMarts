{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"LRUMediaCache\", {\n    enumerable: true,\n    get: function () {\n      return LRUMediaCache;\n    }\n  });\n  class LRUMediaCache {\n    map = new Map();\n    bytes = 0;\n    constructor(maxBytes = 75 * 1024 * 1024) {\n      this.maxBytes = maxBytes;\n    }\n    has(k) {\n      return this.map.has(k);\n    }\n    put(k, size = 1_000_000) {\n      if (this.map.has(k)) {\n        const v = this.map.get(k);\n        this.bytes -= v.size;\n        this.map.delete(k);\n      }\n      this.map.set(k, {\n        size\n      });\n      this.bytes += size;\n      while (this.bytes > this.maxBytes && this.map.size) {\n        const [oldK, v] = this.map.entries().next().value;\n        this.map.delete(oldK);\n        this.bytes -= v.size;\n      }\n    }\n    usageMB() {\n      return Math.round(this.bytes / 1024 / 1024);\n    }\n  }\n});","lineCount":42,"map":[[7,2,1,0,"Object"],[7,8,1,0],[7,9,1,0,"defineProperty"],[7,23,1,0],[7,24,1,0,"exports"],[7,31,1,0],[8,4,1,0,"enumerable"],[8,14,1,0],[9,4,1,0,"get"],[9,7,1,0],[9,18,1,0,"get"],[9,19,1,0],[10,6,1,0],[10,13,1,0,"LRUMediaCache"],[10,26,1,0],[11,4,1,0],[12,2,1,0],[13,2,1,7],[13,8,1,13,"LRUMediaCache"],[13,21,1,26],[13,22,1,27],[14,4,2,10,"map"],[14,7,2,13],[14,10,2,16],[14,14,2,20,"Map"],[14,17,2,23],[14,18,2,50],[14,19,2,51],[15,4,3,10,"bytes"],[15,9,3,15],[15,12,3,18],[15,13,3,19],[16,4,4,2,"constructor"],[16,15,4,13,"constructor"],[16,16,4,22,"maxBytes"],[16,24,4,30],[16,27,4,33],[16,29,4,35],[16,32,4,38],[16,36,4,42],[16,39,4,45],[16,43,4,49],[16,45,4,51],[17,6,4,51],[17,11,4,22,"maxBytes"],[17,19,4,30],[17,22,4,22,"maxBytes"],[17,30,4,30],[18,4,4,52],[19,4,5,2,"has"],[19,7,5,5,"has"],[19,8,5,6,"k"],[19,9,5,15],[19,11,5,17],[20,6,5,19],[20,13,5,26],[20,17,5,30],[20,18,5,31,"map"],[20,21,5,34],[20,22,5,35,"has"],[20,25,5,38],[20,26,5,39,"k"],[20,27,5,40],[20,28,5,41],[21,4,5,43],[22,4,6,2,"put"],[22,7,6,5,"put"],[22,8,6,6,"k"],[22,9,6,15],[22,11,6,17,"size"],[22,15,6,21],[22,18,6,24],[22,27,6,33],[22,29,6,35],[23,6,7,4],[23,10,7,8],[23,14,7,12],[23,15,7,13,"map"],[23,18,7,16],[23,19,7,17,"has"],[23,22,7,20],[23,23,7,21,"k"],[23,24,7,22],[23,25,7,23],[23,27,7,25],[24,8,7,27],[24,14,7,33,"v"],[24,15,7,34],[24,18,7,37],[24,22,7,41],[24,23,7,42,"map"],[24,26,7,45],[24,27,7,46,"get"],[24,30,7,49],[24,31,7,50,"k"],[24,32,7,51],[24,33,7,53],[25,8,7,55],[25,12,7,59],[25,13,7,60,"bytes"],[25,18,7,65],[25,22,7,69,"v"],[25,23,7,70],[25,24,7,71,"size"],[25,28,7,75],[26,8,7,77],[26,12,7,81],[26,13,7,82,"map"],[26,16,7,85],[26,17,7,86,"delete"],[26,23,7,92],[26,24,7,93,"k"],[26,25,7,94],[26,26,7,95],[27,6,7,97],[28,6,8,4],[28,10,8,8],[28,11,8,9,"map"],[28,14,8,12],[28,15,8,13,"set"],[28,18,8,16],[28,19,8,17,"k"],[28,20,8,18],[28,22,8,20],[29,8,8,22,"size"],[30,6,8,27],[30,7,8,28],[30,8,8,29],[31,6,8,31],[31,10,8,35],[31,11,8,36,"bytes"],[31,16,8,41],[31,20,8,45,"size"],[31,24,8,49],[32,6,9,4],[32,13,9,11],[32,17,9,15],[32,18,9,16,"bytes"],[32,23,9,21],[32,26,9,24],[32,30,9,28],[32,31,9,29,"maxBytes"],[32,39,9,37],[32,43,9,41],[32,47,9,45],[32,48,9,46,"map"],[32,51,9,49],[32,52,9,50,"size"],[32,56,9,54],[32,58,9,56],[33,8,10,6],[33,14,10,12],[33,15,10,13,"oldK"],[33,19,10,17],[33,21,10,19,"v"],[33,22,10,20],[33,23,10,21],[33,26,10,24],[33,30,10,28],[33,31,10,29,"map"],[33,34,10,32],[33,35,10,33,"entries"],[33,42,10,40],[33,43,10,41],[33,44,10,42],[33,45,10,43,"next"],[33,49,10,47],[33,50,10,48],[33,51,10,49],[33,52,10,50,"value"],[33,57,10,55],[34,8,11,6],[34,12,11,10],[34,13,11,11,"map"],[34,16,11,14],[34,17,11,15,"delete"],[34,23,11,21],[34,24,11,22,"oldK"],[34,28,11,26],[34,29,11,27],[35,8,11,29],[35,12,11,33],[35,13,11,34,"bytes"],[35,18,11,39],[35,22,11,43,"v"],[35,23,11,44],[35,24,11,45,"size"],[35,28,11,49],[36,6,12,4],[37,4,13,2],[38,4,14,2,"usageMB"],[38,11,14,9,"usageMB"],[38,12,14,9],[38,14,14,12],[39,6,14,14],[39,13,14,21,"Math"],[39,17,14,25],[39,18,14,26,"round"],[39,23,14,31],[39,24,14,32],[39,28,14,36],[39,29,14,37,"bytes"],[39,34,14,42],[39,37,14,45],[39,41,14,49],[39,44,14,52],[39,48,14,56],[39,49,14,57],[40,4,14,59],[41,2,15,0],[42,0,15,1],[42,3]],"functionMap":{"names":["<global>","LRUMediaCache","constructor","has","put","usageMB"],"mappings":"AAA,OC;ECG,mDD;EEC,0CF;EGC;GHO;EIC,0DJ"},"hasCjsExports":false},"type":"js/module"}]}